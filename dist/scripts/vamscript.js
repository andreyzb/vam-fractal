!function a(c,i,s){function l(t,e){if(!i[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=i[t]={exports:{}};c[t][0].call(r.exports,function(e){return l(c[t][1][e]||e)},r,r.exports,a,c,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,m){m.defaults={},m.set=function(e,t,n){var o=n||{},r=m.defaults,a=o.expires||r.expires,c=o.domain||r.domain,i=void 0!==o.path?o.path:void 0!==r.path?r.path:"/",s=void 0!==o.secure?o.secure:r.secure,l=void 0!==o.httponly?o.httponly:r.httponly,u=void 0!==o.samesite?o.samesite:r.samesite,d=a?new Date("number"==typeof a?(new Date).getTime()+864e5*a:a):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(d&&0<=d.getTime()?";expires="+d.toUTCString():"")+(c?";domain="+c:"")+(i?";path="+i:"")+(s?";secure":"")+(l?";httponly":"")+(u?";samesite="+u:"")},m.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),o=(o=n.indexOf("="))<0?n.length:o;if(decodeURIComponent(n.slice(0,o).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(o+1))}return null},m.erase=function(e,t){m.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},m.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),o=(o=n.indexOf("="))<0?n.length:o;e[decodeURIComponent(n.slice(0,o).replace(/^\s+/,""))]=decodeURIComponent(n.slice(o+1))}return e}},{}],2:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var i=e.length;0<c&&c<i&&(i=c);for(var s,l,u=0;u<i;++u){var d,m=e[u].replace(a,"%20"),f=m.indexOf(n),g=0<=f?(d=m.substr(0,f),m.substr(f+1)):(d=m,""),v=decodeURIComponent(d),b=decodeURIComponent(g);s=r,l=v,Object.prototype.hasOwnProperty.call(s,l)?p(r[v])?r[v].push(b):r[v]=[r[v],b]:r[v]=b}return r};var p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],3:[function(e,t,n){"use strict";function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,o,r,e){return o=o||"&",r=r||"=",null===n&&(n=void 0),"object"==typeof n?i(s(n),function(e){var t=encodeURIComponent(a(e))+r;return c(n[e])?i(n[e],function(e){return t+encodeURIComponent(a(e))}).join(o):t+encodeURIComponent(a(n[e]))}).join(o):e?encodeURIComponent(a(e))+r+encodeURIComponent(a(n)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],4:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":2,"./encode":3}],5:[function(e,o,r){(function(e){var t,n;t=void 0!==e?e:this.window||this.global,n=function(p){"use strict";function _(e){return e?(t=e,Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)+e.offsetTop):0;var t}var y,o,r,h,S,t,x,n={},a="querySelector"in document&&"addEventListener"in p,q={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},L=function(){var n={},o=!1,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],e++);for(;e<t;e++){!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o&&"[object Object]"===Object.prototype.toString.call(e[t])?n[t]=L(!0,n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},w=function(){return Math.max(document.documentElement.clientHeight,p.innerHeight||0)},k=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};n.animateScroll=function(c,i,e){var t,o,r,a,s,l,u,d,m,n,f=(t=i?i.getAttribute("data-options"):null)&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):{},g=L(y||q,e||{},f),v="[object Number]"===Object.prototype.toString.call(c),b=v||!c.tagName?null:c;(v||b)&&(o=p.pageYOffset,g.selectorHeader&&!h&&(h=document.querySelector(g.selectorHeader)),S=S||_(h),s=v?c:function(e,t,n){var o=0;if(e.offsetParent)for(;o+=e.offsetTop,e=e.offsetParent;);return o=Math.max(o-t-n,0),Math.min(o,k()-w())}(b,S,parseInt(g.offset,10)),l=s-o,u=k(),m=function(e,t,n){var o,r,a=p.pageYOffset;(e==t||a==t||p.innerHeight+a>=u)&&(clearInterval(n),o=c,r=t,v||(o.focus(),document.activeElement.id!==o.id&&(o.setAttribute("tabindex","-1"),o.focus(),o.style.outline="none"),p.scrollTo(0,r)),g.callback(c,i))},n=function(){var e,t,n;r=1<(r=(d+=16)/parseInt(g.speed,10))?1:r,a=o+l*(e=g.easing,t=r,"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t),p.scrollTo(0,Math.floor(a)),m(a,s,x)},(d=0)===p.pageYOffset&&p.scrollTo(0,0),clearInterval(x),x=setInterval(n,16))};function c(e){p.location.hash,o&&(o.id=o.getAttribute("data-scroll-id"),n.animateScroll(o,r),r=o=null)}function i(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey&&((r=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(e.target,y.selector))&&"a"===r.tagName.toLowerCase()&&r.hostname===p.location.hostname&&r.pathname===p.location.pathname&&/#/.test(r.href))){var t=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",c=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===r&&48<=t&&t<=57||1===r&&48<=t&&t<=57&&45===c?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a}(r.hash);if("#"===t){e.preventDefault();var n=(o=document.body).id?o.id:"smooth-scroll-top";return o.setAttribute("data-scroll-id",n),o.id="",void(p.location.hash.substring(1)===n?c():p.location.hash=n)}(o=document.querySelector(t))&&(o.setAttribute("data-scroll-id",o.id),o.id="",r.hash===p.location.hash&&(e.preventDefault(),c()))}}function s(e){t=t||setTimeout(function(){t=null,S=_(h)},66)}return n.destroy=function(){y&&(document.removeEventListener("click",i,!1),p.removeEventListener("resize",s,!1),x=t=S=h=r=o=y=null)},n.init=function(e){a&&(n.destroy(),y=L(q,e||{}),h=y.selectorHeader?document.querySelector(y.selectorHeader):null,S=_(h),document.addEventListener("click",i,!1),p.addEventListener("hashchange",c,!1),h&&p.addEventListener("resize",s,!1))},n},"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof r?o.exports=n(t):t.smoothScroll=n(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){var o,r;o=this,r=function(){function b(e,t,n){if(n){var o=document.createDocumentFragment(),r=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");r&&t.setAttribute("viewBox",r);for(var a=n.cloneNode(!0);a.childNodes.length;)o.appendChild(a.firstChild);e.appendChild(o)}}return function(e){var u=Object(e),t=window.top!==window.self,d="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&t,m={},f=window.requestAnimationFrame||setTimeout,g=document.getElementsByTagName("use"),v=0;d&&function e(){for(var t=0;t<g.length;){var n,o,r,a,c=g[t],i=c.parentNode,s=function(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}(i),l=c.getAttribute("xlink:href")||c.getAttribute("href");!l&&u.attributeName&&(l=c.getAttribute(u.attributeName)),s&&l?d&&(!u.validate||u.validate(l,s,c)?(i.removeChild(c),o=(n=l.split("#")).shift(),r=n.join("#"),o.length?((a=m[o])||((a=m[o]=new XMLHttpRequest).open("GET",o),a.send(),a._embeds=[]),a._embeds.push({parent:i,svg:s,id:r}),function(o){o.onreadystatechange=function(){var n;4===o.readyState&&((n=o._cachedDocument)||((n=o._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=o.responseText,o._cachedTarget={}),o._embeds.splice(0).map(function(e){var t=(t=o._cachedTarget[e.id])||(o._cachedTarget[e.id]=n.getElementById(e.id));b(e.parent,e.svg,t)}))},o.onreadystatechange()}(a)):b(i,s,document.getElementById(r))):(++t,++v)):++t}(!g.length||0<g.length-v)&&f(e,67)}()}},"function"==typeof define&&define.amd?define([],function(){return o.svg4everybody=r()}):"object"==typeof t&&t.exports?t.exports=r():o.svg4everybody=r()},{}],7:[function(e,t,n){var o,r;o=this,r=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e){return t({},$,e)}function r(e,t){var n,o=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)}function h(e,t){return e.getAttribute("data-"+t)}function S(e,t,n){var o="data-"+t;null!==n?e.setAttribute(o,n):e.removeAttribute(o)}function p(e){return h(e,"ll-status")}function x(e,t){return S(e,"ll-status",t)}function _(e){return x(e,null),0}function y(e){return null===p(e)}function c(e){return"native"===p(e)}function q(e,t,n,o){e&&(void 0===o?void 0===n?e(t):e(t,n):e(t,n,o))}function L(e,t){Q?e.classList.add(t):e.className+=(e.className?" ":"")+t}function w(e,t){Q?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function k(e){return e.llTempImage}function j(e,t){var n;!t||(n=t._observer)&&n.unobserve(e)}function E(e,t){e&&(e.loadingCount+=t)}function s(e,t){e&&(e.toLoadCount=t)}function o(e){for(var t,n=[],o=0;t=e.children[o];o+=1)"SOURCE"===t.tagName&&n.push(t);return n}function n(e,t,n){n&&e.setAttribute(t,n)}function a(e,t){e.removeAttribute(t)}function l(e){return!!e.llOriginalAttrs}function u(e){var t;l(e)||((t={}).src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t)}function A(e){var t;l(e)&&(t=e.llOriginalAttrs,n(e,"src",t.src),n(e,"srcset",t.srcset),n(e,"sizes",t.sizes))}function d(e,t){n(e,"sizes",h(e,t.data_sizes)),n(e,"srcset",h(e,t.data_srcset)),n(e,"src",h(e,t.data_src))}function C(e){a(e,"src"),a(e,"srcset"),a(e,"sizes")}function I(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&o(n).forEach(t)}function m(e,t){o(e).forEach(t)}function f(e,t){var n=K[e.tagName];n&&n(e,t)}function O(e,t,n){E(n,1),L(e,t.class_loading),x(e,"loading"),q(t.callback_loading,e,n)}function g(e,t){var n,o,r=Z[e.tagName];r?r(e,t):(S(n=e,(o=t).data_bg,null),S(n,o.data_bg_hidpi,null))}function v(e,t){!t||0<t.loadingCount||0<t.toLoadCount||q(e.callback_finish,t)}function b(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n}function M(e){return!!e.llEvLisnrs}function T(e){if(M(e)){var t=e.llEvLisnrs;for(var n in t){var o=t[n];r=n,a=o,e.removeEventListener(r,a)}delete e.llEvLisnrs}var r,a}function N(e,t,n){delete e.llTempImage,E(n,-1),n&&--n.toLoadCount,w(e,t.class_loading),t.unobserve_completed&&j(e,n)}function H(n,o,r){var a=k(n)||n;M(a)||function(e){M(e)||(e.llEvLisnrs={});var t="VIDEO"===e.tagName?"loadeddata":"load";b(e,t,function(e){!function(e,t,n,o){var r=c(t);N(t,n,o),L(t,n.class_loaded),x(t,"loaded"),g(t,n),q(n.callback_loaded,t,o),r||v(n,o)}(0,n,o,r),T(a)}),b(e,"error",function(e){!function(e,t,n,o){var r=c(t);N(t,n,o),L(t,n.class_error),x(t,"error"),q(n.callback_error,t,o),r||v(n,o)}(0,n,o,r),T(a)})}(a)}function D(e,t,n){var o,r,a,c,i,s,l,u,d,m,f,g,v,b,p,_,y;e.llTempImage=document.createElement("IMG"),H(e,t,n),b=n,p=h(g=e,(v=t).data_bg),_=h(g,v.data_bg_hidpi),(y=Y&&_?_:p)&&(g.style.backgroundImage='url("'.concat(y,'")'),k(g).setAttribute("src",y),O(g,v,b)),a=n,d=h(o=e,(r=t).data_bg_multi),m=h(o,r.data_bg_multi_hidpi),(f=Y&&m?m:d)&&(o.style.backgroundImage=f,s=a,L(c=o,(i=r).class_applied),x(c,"applied"),S(l=c,(u=i).data_bg_multi,null),S(l,u.data_bg_multi_hidpi,null),i.unobserve_completed&&j(c,i),q(i.callback_applied,c,s))}function z(e,t,n){var o,r,a;-1<ee.indexOf(e.tagName)?(H(o=e,r=t,a=n),f(o,r),O(o,r,a)):D(e,t,n)}function R(e){return e.use_native&&"loading"in HTMLImageElement.prototype}function P(e,v,b){e.forEach(function(e){return e.isIntersecting||0<e.intersectionRatio?(d=e.target,m=e,f=v,g=b,x(d,"entered"),f.unobserve_entered&&j(d,g),q(f.callback_enter,d,m,g),void(0<=X.indexOf(p(d))||z(d,f,g))):(t=e.target,n=e,o=v,r=b,void(y(t)||(a=t,c=n,s=r,(i=o).cancel_on_exit&&"loading"===p(a)&&"IMG"===a.tagName&&(T(a),I(u=a,function(e){C(e)}),C(u),I(l=a,function(e){A(e)}),A(l),w(a,i.class_loading),E(s,-1),_(a),q(i.callback_cancel,a,c,s)),q(o.callback_exit,t,n,r))));var t,n,o,r,a,c,i,s,l,u,d,m,f,g})}function F(e){return Array.prototype.slice.call(e)}function U(e){return e.container.querySelectorAll(e.elements_selector)}function B(e){return"error"===p(e)}function V(e,t){return n=e||U(t),F(n).filter(y);var n}function e(e,t){var o,r,n,a,c=i(e);this._settings=c,this.loadingCount=0,n=c,a=this,G&&!R(n)&&(a._observer=new IntersectionObserver(function(e){P(e,n,a)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),o=c,r=this,J&&window.addEventListener("online",function(){var t,e,n;e=r,n=U(t=o),F(n).filter(B).forEach(function(e){w(e,t.class_error),_(e)}),e.update()}),this.update(t)}var J="undefined"!=typeof window,W=J&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),G=J&&"IntersectionObserver"in window,Q=J&&"classList"in document.createElement("p"),Y=J&&1<window.devicePixelRatio,$={elements_selector:".lazy",container:W||J?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},X=["loading","loaded","applied","error"],K={IMG:function(e,t){I(e,function(e){u(e),d(e,t)}),u(e),d(e,t)},IFRAME:function(e,t){n(e,"src",h(e,t.data_src))},VIDEO:function(e,t){m(e,function(e){n(e,"src",h(e,t.data_src))}),n(e,"poster",h(e,t.data_poster)),n(e,"src",h(e,t.data_src)),e.load()}},Z={IMG:function(e,t){S(e,t.data_src,null),S(e,t.data_srcset,null),S(e,t.data_sizes,null),I(e,function(e){S(e,t.data_srcset,null),S(e,t.data_sizes,null)})},IFRAME:function(e,t){S(e,t.data_src,null)},VIDEO:function(e,t){S(e,t.data_src,null),S(e,t.data_poster,null),m(e,function(e){S(e,t.data_src,null)})}},ee=["IMG","IFRAME","VIDEO"],te=["IMG","IFRAME"];return e.prototype={update:function(e){var t,n,o,r,a,c=this._settings,i=V(e,c);s(this,i.length),!W&&G?R(c)?(r=c,a=this,i.forEach(function(e){var t,n;-1!==te.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),H(t=e,n=r,a),f(t,n),g(t,n),x(t,"native"))}),s(a,0)):(n=i,(t=this._observer).disconnect(),o=t,n.forEach(function(e){o.observe(e)})):this.loadAll(i)},destroy:function(){this._observer&&this._observer.disconnect(),U(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;V(e,n).forEach(function(e){j(e,t),z(e,n,t)})}},e.load=function(e,t){var n=i(t);z(e,n)},e.resetStatus=function(e){_(e)},J&&function(e,t){if(t)if(t.length)for(var n,o=0;n=t[o];o+=1)r(e,n);else r(e,t)}(e,window.lazyLoadOptions),e},"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(o=o||self).LazyLoad=r()},{}],8:[function(e,t,n){"use strict";var o=a(e("vanilla-lazyload")),r=a(e("svg4everybody"));function a(e){return e&&e.__esModule?e:{default:e}}e("../../components/services/object_fit_polyfill/_poly-object-fit.js"),e("../../components/blocks/background-video/_background-video.js"),e("../../components/groups/block-grid/_grid-reveal-more.js"),e("../../components/blocks/cookie-banner/_cookie-banner.js"),e("../../components/blocks/facet-box/_facet-box.js"),e("../../components/blocks/image-carousel/_image-carousel.js"),e("../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js"),e("../../components/blocks/object-details/object-details.js"),e("../../components/blocks/object-image-overlay/_object-image-overlay.js"),e("../../components/blocks/object-shuffler/_object-shuffler.js"),e("../../components/blocks/modal/_modal.js"),e("../../components/blocks/newsletter-signup/_newsletter-signup.js"),e("../../components/blocks/search-form/_search-form.js"),e("../../components/blocks/search-pagination/_search-pagination.js"),e("../../components/blocks/search-result/_search-result.js"),e("../../components/blocks/search-results/_search-results.js"),e("../../components/blocks/site-nav/_site-nav.js"),e("../../components/blocks/toggle-nav/_toggle-nav.js"),e("../../components/blocks/video-thumbnail/_video-thumbnail.js"),e("../../components/blocks/video-trailer/_video-trailer.js"),e("../../components/groups/facet-box-modal/_facet-box-modal.js"),e("../../components/groups/image-overlay/_image-overlay.js"),e("../../components/groups/image-overlay-details/_image-overlay-details.js"),e("../../components/groups/story-box-container/_story-box-container.js"),new o.default({elements_selector:"img[data-src]"}),(0,r.default)()},{"../../components/blocks/background-video/_background-video.js":9,"../../components/blocks/cookie-banner/_cookie-banner.js":10,"../../components/blocks/facet-box/_facet-box.js":11,"../../components/blocks/image-carousel/_image-carousel.js":12,"../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js":13,"../../components/blocks/modal/_modal.js":14,"../../components/blocks/newsletter-signup/_newsletter-signup.js":15,"../../components/blocks/object-details/object-details.js":16,"../../components/blocks/object-image-overlay/_object-image-overlay.js":17,"../../components/blocks/object-shuffler/_object-shuffler.js":18,"../../components/blocks/search-form/_search-form.js":19,"../../components/blocks/search-pagination/_search-pagination.js":20,"../../components/blocks/search-result/_search-result.js":21,"../../components/blocks/search-results/_search-results.js":22,"../../components/blocks/site-nav/_site-nav.js":23,"../../components/blocks/toggle-nav/_toggle-nav.js":24,"../../components/blocks/video-thumbnail/_video-thumbnail.js":25,"../../components/blocks/video-trailer/_video-trailer.js":26,"../../components/groups/block-grid/_grid-reveal-more.js":27,"../../components/groups/facet-box-modal/_facet-box-modal.js":28,"../../components/groups/image-overlay-details/_image-overlay-details.js":29,"../../components/groups/image-overlay/_image-overlay.js":30,"../../components/groups/story-box-container/_story-box-container.js":31,"../../components/services/object_fit_polyfill/_poly-object-fit.js":32,svg4everybody:6,"vanilla-lazyload":7}],9:[function(e,t,n){"use strict";var o,r,a,c,i,s,l,u,d=document.querySelector(".js-background-video");d&&(o=document.querySelector(".js-background-video-container"),r=document.querySelector(".js-stop-button"),a=document.querySelector(".js-background-video-credit"),c=document.querySelector(".js-background-image-credit"),i=0,s=function(){a&&a.classList.remove("hidden"),c&&c.classList.add("hidden")},l=function(){a&&a.classList.add("hidden"),c&&c.classList.remove("hidden")},d.addEventListener("canplaythrough",function(){20<=i?(o.classList.remove("b-video-background--fade"),d.pause(),l()):(o.classList.add("b-video-background--fade"),i+=1,s())}),u=function(){0===o.offsetHeight?(d.pause(),l()):(d.play(),s())},window.addEventListener("load",function(){u()}),window.addEventListener("resize",function(){u()}),r&&(r.onclick=function(){d.pause(),o.classList.remove("b-video-background--fade"),d.paused&&(r.classList.add("hidden"),l())}))},{}],10:[function(e,t,n){"use strict";var o,r=document.querySelector(".js-cookie-banner");r&&(o=document.querySelector(".js-cookie-banner-close"),window.onload=function(){r.classList.remove("b-cookie-banner--hidden")},o.onclick=function(e){e.preventDefault(),r.classList.add("b-cookie-banner--hidden")})},{}],11:[function(e,t,n){"use strict";function m(e,t,n,o,r){var a=document.createElement("LI");return a.className="b-facet-box__facet-term-toggle",a.dataset.id=t+"-"+o,a.dataset.facet=e,a.dataset.paramName=t,a.dataset.term=n,a.dataset.value=o,a.dataset.count=r,a.innerHTML='<a class="b-facet-box__facet-term-toggle-checkbox" href="javascript:void(0);"><svg class="b-facet-box__facet-term-toggle-tick" role="img"><use xlink:href="/svg/vamicons.svg#tick"></use></svg></a><span class="b-facet-box__facet-term-toggle-text">'+n+'</span><span class="b-facet-box__facet-term-toggle-result">('+r+')</span><input class="b-facet-box__hidden-input" type="checkbox" name="'+t+'" value="'+o+'">',a.addEventListener("termToggle",function(e){e.target.querySelector(".b-facet-box__hidden-input").checked=!e.target.querySelector(".b-facet-box__hidden-input").checked,e.target.querySelector("."+i).classList.toggle(i+"--active"),document.querySelector(".b-facet-box").dispatchEvent(new Event("boxChecked",{bubbles:!0}))}),a}function c(e){var u=document.querySelector(".b-facet-box__facet-container"),d=Array.from(e).reduce(function(e,t){var n=t.split("-")[0],o=t.split("-")[1];return e[n]?e[n].push(o):e[n]=[o],e},{});Object.values(v).forEach(function(e){var t,n,r=e.facet,o=e.terms,a=e.paramName,c=e.index,i=document.createElement("DIV");i.className="b-facet-box__facet",i.innerHTML=(t=r,n=5<o.length,'<div class="b-facet-box__facet-text">'+t+'</div><ul data-facet="'+t+'" class="b-facet-box__facet-term-container">'+(n?'<a data-facet="'+t+'" class="b-facet-box__term-more" href="#">See more</a>':"")+"</ul>"),i.addEventListener("click",function(e){e.target.classList.contains(f)&&(e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+g).classList.toggle(g+"--active"))});var s=o.map(function(e){return e.value}),l=d[a]&&d[a].reduce(function(e,t){var n=s.indexOf(t);return n<e?e:n},5)||0;l=(l=5*Math.ceil(l/5))>o.length?o.length:l||5,o.slice(c,l).forEach(function(e){var t=e.term,n=e.count,o=e.value;i.querySelector("."+g).appendChild(m(r,a,t,o,n))}),v[r].index+=l,5<o.length&&(v[r].index<o.length?(i.querySelector("."+g).appendChild(i.querySelector(".b-facet-box__term-more")),i.querySelector("."+g+" .b-facet-box__term-more").onclick=function(e){e.preventDefault();var t=e.target,r=e.target.parentNode,n=v[e.target.dataset.facet],o=n.terms,a=n.index,c=n.facet,i=n.paramName;e.target.remove(),o.slice(a,a+5).forEach(function(e){var t=e.term,n=e.count,o=e.value;r.appendChild(m(c,i,t,o,n))}),v[c].index+=5,v[c].index!==o.length&&r.appendChild(t)}):i.querySelector("."+g).appendChild(i.querySelector(".b-facet-box__term-more")).remove()),u.appendChild(i)})}function l(e,t){return new CustomEvent("termToggle",{detail:e,bubbles:!(1<arguments.length&&void 0!==t)||t})}function o(){u.addEventListener("termToggle",function(e){var t,n,o,r,a,c,i,s;e.stopPropagation(),t=e.detail,a=t.id,c=t.facet,i=t.term,s=t.paramName,a&&(document.querySelector("div[data-id='"+a+"']")?(Array.from(document.querySelectorAll("div[data-id='"+a+"']")).forEach(function(e){return e.remove()}),document.querySelector(".b-search-form__facets").children.length||document.querySelector(".b-search-form__facet-pane").classList.remove("b-search-form__facet-pane--active")):(n=function(){Array.from(document.querySelectorAll("div[data-id='"+a+"']")).forEach(function(e){return e.dispatchEvent(l({id:a,facet:c,term:i,paramName:s}))}),document.querySelector("li[data-id='"+a+"']")&&document.querySelector("li[data-id='"+a+"']").dispatchEvent(l({id:a,facet:c,term:i,paramName:s}))},(o=document.createElement("DIV")).dataset.id=a,o.className="b-facet-box__term",o.innerHTML='<span class="b-facet-box__term-text">'+c+": "+i+"</span>",o.onclick=function(e){return n()},u.appendChild(o),(r=o.cloneNode(!0)).onclick=function(e){return n()},r.classList.add("b-facet-box__term--form"),document.querySelector(".b-search-form__facets")&&document.querySelector(".b-search-form__facets").appendChild(r),document.querySelector(".b-search-form__facet-pane--active")||document.querySelector(".b-search-form__facet-pane").classList.add("b-search-form__facet-pane--active")),window.dispatchEvent(new Event("resize")))}),document.querySelector(".b-facet-box").addEventListener("newFacets",function(e){var t=e.detail,n=t.facets,o=t.activeFacets;n.forEach(function(e){var t,n,o;Object.assign(v,(t={},n=e.facet,o=Object.assign(e,{index:0}),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))});var r=document.querySelector(".b-facet-box__facet-container");r.innerHTML="",u.innerHTML="",c(o);var a=document.createElement("DIV");a.className="b-facet-box__facet b-facet-box__facet-date",a.innerHTML='<div class="b-facet-box__facet-text">Dates</div><div class="b-facet-box__facet-term-container b-facet-box__facet-date-container"><div class="b-facet-box__facet-date-container-start"><label class="b-facet-box__facet-date-label">From year:</label><input class="b-facet-box__facet-date-input" placeholder="Year" type="number" name="date-start"></div><div class="b-facet-box__facet-date-container-end"><label class="b-facet-box__facet-date-label">To year:</label><input class="b-facet-box__facet-date-input" placeholder="Year" type="number" name="date-end"></div><div class="b-facet-box__facet-date-container-button"><label class="b-facet-box__facet-date-label">&nbsp;</label><button class="b-facet-box__facet-date-button"><svg class="b-facet-box__facet-date-button-icon" role="img" id="search" viewBox="0 0 100 100"><path d="M39.988 69.975C22.874 69.975 9 56.102 9 38.988 9 21.874 22.874 8 39.988 8c17.114 0 30.987 13.874 30.987 30.988 0 17.114-13.873 30.987-30.987 30.987zm22.536-8.451l12.732 12.732L94 93 62.524 61.524z" stroke="currentColor" stroke-width="9.444" fill-rule="nonzero" fill="none"/></svg></button></div></div>',a.addEventListener("click",function(e){e.target.classList.contains(f)&&(e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+g).classList.toggle(g+"--active"))}),r.append(a),o&&Array.from(o).forEach(function(e){var t=document.querySelector("li[data-id='"+e+"'");t&&(t.dispatchEvent(l(t.dataset)),document.querySelector("."+s).dispatchEvent(l(t.dataset)))}),window.dispatchEvent(new Event("resize"))},!0),document.onclick=function(e){var t;e.target.classList.contains("b-facet-box__close-button")&&e.target.dispatchEvent(new Event("closeFacetOverlay",{bubbles:!0})),e.target.classList.contains(a)&&(t=e.target.classList.contains(a)?e.target.parentElement:e.target.parentElement.parentElement.parentElement,u.dispatchEvent(l(t.dataset,!1)),t.dispatchEvent(l(t.dataset)))}}var r="b-facet-box__facet",i="b-facet-box__facet-term-toggle-tick",f=r+"-text",g=r+"-term-container",s="b-facet-box__term-list",u=document.querySelector("."+s),a=r+"-term-toggle-checkbox",v={};document.querySelector(".b-facet-box")&&(o(),document.querySelector(".b-facet-box__modal-button-open")&&document.querySelectorAll(".b-facet-box__modal-button-open").forEach(function(e){return e.addEventListener("click",function(){return document.querySelector(".b-facet-box").classList.add("b-facet-box--active")})}),document.querySelector(".b-facet-box__close-button")&&document.querySelector(".b-facet-box__close-button").addEventListener("click",function(){return document.querySelector(".b-facet-box").classList.remove("b-facet-box--active")}),window.onresize=function(){var t,n,o,e=Array.from(document.querySelectorAll(".b-facet-box__term.b-facet-box__term--form"));document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross")&&(499<window.innerWidth&&window.innerWidth<992?(t=document.querySelector(".b-search-form__facets").offsetWidth,n=0,o=1,e.forEach(function(e){(n+=e.offsetWidth+10)<t&&(o+=1)}),0<e.length-o?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML="+"+(e.length-o)):window.innerWidth<500?(0<e.length?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML=e.length-1+" filters applied"):document.querySelector(".b-search-form__facets-mobile").style.display="none")})},{}],12:[function(e,t,n){"use strict";function o(e){var t=document.querySelector(".b-image-carousel__image-carousel").scrollLeft;document.querySelector(".b-image-carousel__image-carousel").scrollLeft=t+e}var r,a,c,i,s,l,u,d;document.querySelector(".b-image-carousel")&&(r=function(e){var t=0<arguments.length&&void 0!==e?e:-1;return 0<=t?new CustomEvent("updateimageandcounter",{bubbles:!0,detail:{index:t}}):new CustomEvent("updateimageandcounter",{bubbles:!0})},a=160,(c=document.createElement("div")).classList.add("b-image-carousel__image-preview-container"),c.innerHTML='<div class="b-image-carousel__image-preview"></div>',Array.from(document.querySelectorAll(".b-image-overlay__image")).forEach(function(e,t){var n=c.cloneNode(!0);n.setAttribute("data-image-index",t),document.querySelector(".b-image-carousel__image-carousel").appendChild(n)}),3<document.querySelectorAll(".b-image-carousel__image-preview").length&&(Array.from(document.querySelectorAll(".b-image-carousel__navigation-container")).forEach(function(e){e.style.display="block"}),document.querySelector(".b-image-carousel__conceal-right").style.display="block",document.querySelector(".b-image-carousel").classList.add("b-image-carousel--conceal")),Array.from(document.querySelectorAll(".b-image-carousel__image-preview-container")).forEach(function(e,t){e.onclick=function(e){e.preventDefault(),e.target.dispatchEvent(r(t))},0===t&&e.dispatchEvent(r(t));var n=document.querySelector("img[data-image-index='"+t+"']").getAttribute("src");e.querySelector(".b-image-carousel__image-preview").style.background="url('"+n+"')",e.querySelector(".b-image-carousel__image-preview").style.backgroundSize="cover"}),document.querySelector(".b-image-carousel__image-carousel")&&(document.querySelector(".b-image-carousel__next").onclick=function(){o(a)},document.querySelector(".b-image-carousel__prev").onclick=function(){o(-a)}),i=document.querySelector(".b-image-carousel--conceal .b-image-carousel__image-carousel"),document.addEventListener("keydown",function(){var e=122*(parseInt(document.querySelector(".b-image-carousel__image-preview-container--selected").getAttribute("data-image-index"),10)+1),t=document.querySelector(".b-image-carousel__image-carousel").scrollLeft,n=document.querySelector(".b-image-carousel__image-carousel").offsetWidth;37===event.keyCode&&(document.querySelector(".b-image-carousel__image-carousel").dispatchEvent(new CustomEvent("updateimageandcounter",{detail:{opr:"-"},bubbles:!0})),e-a-122<t&&o(-a)),39===event.keyCode&&(document.querySelector(".b-image-carousel__image-carousel").dispatchEvent(new CustomEvent("updateimageandcounter",{detail:{opr:"+"},bubbles:!0})),t+n<e+a&&o(a))}),i&&(s=document.querySelector(".b-image-carousel__conceal-left"),l=document.querySelector(".b-image-carousel__conceal-right"),u=document.querySelector(".b-image-carousel__prev"),d=document.querySelector(".b-image-carousel__next"),s.onclick=function(e){e.preventDefault(),o(-a)},l.onclick=function(e){e.preventDefault(),o(a)},i.addEventListener("scroll",function(e){var t=e.target.scrollLeft,n=e.target.scrollWidth,o=e.target.offsetWidth;0===t?(document.querySelector(".b-image-carousel__conceal-left").style.display="none",u.classList.remove("b-image-carousel__prev--enabled")):0<t&&(document.querySelector(".b-image-carousel__conceal-left").style.display="block",u.classList.add("b-image-carousel__prev--enabled")),t===n-o?(document.querySelector(".b-image-carousel__conceal-right").style.display="none",d.classList.remove("b-image-carousel__next--enabled")):t<n-o&&(document.querySelector(".b-image-carousel__conceal-right").style.display="block",d.classList.add("b-image-carousel__next--enabled"))})))},{}],13:[function(e,t,n){"use strict";var o="b-image-overlay-license-modal",r=["__download-icon-link","__download-link-text"],a="__download-button",c="__contact-button",i="__image-modal",s="__contact-modal-open",l="__agree-to-terms",u="__modal-download-content",d="__modal-contact-content",m="__checkbox-container",f="__agree-checkbox",g="__agree-to-terms-reminder",v="--active",b="--warning",p=["__icon-link-container","__checkmark","__image-icon-link",l];document.querySelector("."+o+a)&&(document.querySelector("."+o+a).onclick=function(){document.querySelector("."+o+i).dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),document.querySelector("."+o+i).classList.add("b-modal--active"),document.querySelector("."+o+u).classList.add(o+u+v),document.querySelector("."+o+d).classList.remove(o+d+v)}),document.querySelector("."+o+c)&&(document.querySelector("."+o+c).onclick=function(){document.querySelector("."+o+i).dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),document.querySelector("."+o+i).classList.add("b-modal--active"),document.querySelector("."+o+u).classList.remove(o+u+v),document.querySelector("."+o+d).classList.add(o+d+v)}),document.querySelector("."+o+s)&&(document.querySelector("."+o+s).onclick=function(){document.querySelector("."+o+u).classList.remove(o+u+v),document.querySelector("."+o+d).classList.add(o+d+v)}),document.querySelector("."+o+m)&&(document.querySelector("."+o+m).onclick=function(e){e.target.closest("."+o+l)===document.querySelector("."+o+l)&&(document.querySelector("."+o+f).checked=!document.querySelector("."+o+f).checked,document.querySelector("."+o+l).classList.remove(o+l+b),document.querySelector("."+o+f).checked?(document.querySelector("."+o+g).style.display="none",p.forEach(function(e){return document.querySelector("."+o+e)&&document.querySelector("."+o+e).classList.add(o+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.add("b-icon-link--active")):(p.forEach(function(e){return document.querySelector("."+o+e)&&document.querySelector("."+o+e).classList.remove(o+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.remove("b-icon-link--active")))}),r.forEach(function(e){document.querySelector("."+o+e)&&(document.querySelector("."+o+e).onclick=function(){document.querySelector("."+o+f).checked||(document.querySelector("."+o+g).style.display="block",document.querySelector("."+o+l).classList.add(o+l+b))})})},{}],14:[function(e,t,n){"use strict";var o,r=e("browser-cookies"),a=(o=r)&&o.__esModule?o:{default:o};var c=document.querySelectorAll(".js-modal");function i(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"myClick",category:e,action:t})}Array.from(c,function(t){var n=t.dataset.modalCampaign;return t.dataset.modalOnceOnly&&a.default.get(n)||t.dataset.notOnLoad||(document.body.appendChild(t),t.classList.add("b-modal--active"),i(n,"pop-up displayed")),t.addEventListener("click",function(e){t.dataset.modalOnceOnly&&a.default.set(n,"seen",{domain:t.dataset.modalDomain,expires:365}),e.target!==t&&(Array.from(e.target.classList).find(function(e){return"js-modal-action"===e})||e.target.closest(".js-modal-action")?i(n,"clicked: "+e.target.textContent):(i(n,"pop-up dismissed"),t.dispatchEvent(new CustomEvent("jsModalClosed",{bubbles:!0})),t.classList.remove("b-modal--active")))}),!0})},{"browser-cookies":1}],15:[function(e,t,n){"use strict";Array.from(document.querySelectorAll(".js-newsletter_form"),function(i){return i.addEventListener("submit",function(e){e.preventDefault();var t,n=i.querySelector(".js-emailValidation"),o=i.querySelector(".js-newsletter__descriptor"),r=i.querySelector(".js-newsletter__submit"),a=new XMLHttpRequest,c="";t=n.value,/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)?(a||i.submit(),Array.from(i.querySelectorAll("input"),function(e){return c+=e.name+"="+encodeURIComponent(e.value)+"&",!0}),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?(r.value="Thank you!",o.innerHTML="A confirmation email will be sent to this address shortly&hellip;",i.classList.remove("invalid"),i.classList.add("sent")):i.submit())},a.open("POST",i.action),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(c)):(o.innerHTML="That doesn't look like an email address&hellip;",i.classList.add("invalid"))}),!0})},{}],16:[function(e,t,n){"use strict";var o=document.createElement("DIV"),r=["etc-details__cell-concealer","etc-details__cell-revealer"],a=['<span class="etc-details__cell-concealer-text">Read More</span><button class="etc-details__cell-concealer-button">+</button>','<span class="etc-details__cell-concealer-text">Read Less</span><button class="etc-details__cell-concealer-button">-</button>'];function c(e){var t="etc-details__cell-free-content--hidden",n=e.target.parentElement.querySelector(".etc-details__cell-free-content"),o=n.classList.contains(t);e.target.innerHTML=a[o?1:0],e.target.className=r[o?1:0],o?n.classList.remove(t):n.classList.add(t)}o.className=r[0],o.innerHTML=a[0],Array.from(document.querySelectorAll(".etc-details__cell-free")).forEach(function(e){var t;200<e.offsetHeight&&(e.querySelector(".etc-details__cell-free-content").classList.add("etc-details__cell-free-content--hidden"),(t=o.cloneNode(!0)).onclick=c,e.appendChild(t))})},{}],17:[function(e,t,n){"use strict";var o,p,_;(_=Array.from(document.querySelectorAll(".js-object-image-overlay-item"))).length&&(o=document.querySelector(".b-object-image-overlay")||document.createElement("div"),document.body.appendChild(o),o.classList.add("b-object-image-overlay"),o.setAttribute("tabindex",0),o.innerHTML='<a class="b-object-image-overlay__dismiss" title="Close" aria-label="Close"></a><div class="b-object-image-overlay__items"></div>',p=o.querySelector(".b-object-image-overlay__items"),o.addItem=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=_[e]||_[0],o=n.dataset.objectImageOverlay?JSON.parse(n.dataset.objectImageOverlay):null,r=o&&o.museumNumber?'Museum number: <span itemprop="identifier">'+o.museumNumber+"</span>":"",a=o&&o.copyright?'<br/><span itemprop="copyrightHolder">'+o.copyright+"</span>":"",c=r||a?'<div class="b-object-image-overlay__numbercopyright">'+r+""+a+"</div>":"",i=o&&o.onDisplay?'<div class="b-object-image-overlay__location-status"><svg role="img" id="on-display" viewBox="0 0 52 52"><path d="M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z" fill="currentColor"/></svg>On display</div>':"",s="";o&&o.onDisplay?s=(s=o.displayOverride)||(o.locationSite?'<div class="b-object-image-overlay__location-site">'+o.locationSite+"</div>":"")+(o.locationRoom?o.locationRoom:""):o&&null!==o.onDisplay&&!o.onDisplay&&(s=o.storageOverride||"This object is currently not on display");var l=o&&o.visitUrl?'<a class="b-object-image-overlay__visit" href="'+o.visitUrl+'" data-tracking-oic="visit the object">Find out how to visit this object</a>':"",u=s||l?'<div class="b-object-image-overlay__location">'+i+'<div class="b-object-image-overlay__location-copy">'+s+"</div>"+l+"</div>":"",d=n.querySelector("a").getAttribute("href"),m=1<d.length?'<br/><a class="b-object-image-overlay__cta b-object-image-overlay__cta--screen" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",f=1<d.length?'<a class="b-object-image-overlay__cta b-object-image-overlay__cta--mobile" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",g=document.createElement("div");g.classList.add("b-object-image-overlay__item"),g.innerHTML+='<div class="b-object-image-overlay__content"><figure class="b-object-image-overlay__figure"><img class="b-object-image-overlay__image"itemprop="contentUrl"alt="'+n.querySelector("img").alt+'"sizes="(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px"srcset="'+n.querySelector("img").srcset+'"src="'+n.querySelector("img").src+'"><figcaption class="b-object-image-overlay__figcaption">'+c+'<div class="b-object-image-overlay__prevnext"><a class="b-object-image-overlay__prev b-object-image-overlay__prev--disabled" href="#" title="Previous" aria-label="Previous" data-tracking-oic="previous object"><svg role="img" id="point-left" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z" fill="currentColor" fill-rule="nonzero"/></g></svg></a><a class="b-object-image-overlay__next b-object-image-overlay__next--disabled" href="#" title="Next" aria-label="Next" data-tracking-oic="next object"><svg role="img" id="point-right" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z" fill="currentColor" fill-rule="nonzero"/></g></svg></a></div></figcaption></figure><div class="b-object-image-overlay__details"><div class="b-object-image-overlay__caption">'+n.querySelector("figcaption").textContent+""+m+"</div>"+u+""+f+"</div></div>",t?p.insertBefore(g,p.firstElementChild):p.appendChild(g);var v=g.querySelector(".b-object-image-overlay__prev"),b=g.querySelector(".b-object-image-overlay__next");0<e&&v.classList.add("b-object-image-overlay__prev--enabled"),e<_.length-1&&b.classList.add("b-object-image-overlay__next--enabled")},o.getIndex=function(t){return _.findIndex(function(e){return e===t})},o.clipItem=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?p.lastElementChild.remove():p.firstElementChild.remove()},o.advance=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(!e&&o._index<_.length-1||e&&0<o._index)&&(o.clipItem(e),o.addItem(o._index+2*(e?-1:1),e),o._index+=e?-1:1,o.track(o._index))},o.track=function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"OIC",object:_[e].querySelector("figcaption").textContent.trim(),museumNumber:JSON.parse(_[e].dataset.objectImageOverlay).museumNumber})},document.addEventListener("click",function(e){var t,n;e.target.closest(".js-object-image-overlay-item")&&(e.preventDefault(),t=e.target.closest(".js-object-image-overlay-item"),o._index=o.getIndex(t),o.addItem(o._index),o.classList.add("b-object-image-overlay--active"),o.addItem(o._index+1),o.addItem(o._index-1,!0),o.focus(),o.track(o._index),n=function(e){"ArrowLeft"===e.key?(e.preventDefault(),o.advance(!0)):"ArrowRight"===e.key&&(e.preventDefault(),o.advance())},document.addEventListener("keydown",n,!1),o.onclick=function(e){e.target.matches(".b-object-image-overlay__item, .b-object-image-overlay__dismiss")?(e.preventDefault(),o.classList.remove("b-object-image-overlay--active"),p.innerHTML="",o.onclick=null,document.removeEventListener("keydown",n,!1)):e.target.closest(".b-object-image-overlay__next--enabled")?(e.preventDefault(),o.advance()):e.target.closest(".b-object-image-overlay__prev--enabled")&&(e.preventDefault(),o.advance(!0))})},!1))},{}],18:[function(e,t,n){"use strict";var d,o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};d={init:function(t){for(var o=JSON.parse(t.dataset.objectShuffler),e=t.querySelector(".js-object-shuffler__deck"),r=e.firstElementChild.firstElementChild,n=r.firstElementChild,a=d.setSize(r),c=parseFloat(window.getComputedStyle(r).getPropertyValue("transition-duration")),i=parseFloat(window.getComputedStyle(n).getPropertyValue("transition-duration")),s=t.querySelector(".js-object-shuffler__tabs"),l=1;l<o.length;l+=1){e.parentNode.appendChild(e.cloneNode(!0)).removeAttribute("active")}var u=0;Array.from(t.querySelectorAll(".js-object-shuffler__deck"),function(n){n._props={slideSize:a,itemsData:o[u].data||[],itemsDataFeed:o[u].feed,itemsIndex:0,transitionDurationItem:c,transitionDurationImg:i};var e=s.appendChild(document.createElement("a"));return e.className="b-object-shuffler__tab-link",e.innerHTML=o[u].title,e.title="filter by "+o[u].title,0===u&&e.setAttribute("active",!0),e.onclick=function(){s.querySelector("[active]").removeAttribute("active"),e.setAttribute("active",!0),t.querySelector(".js-object-shuffler__deck[active]").removeAttribute("active"),n.setAttribute("active",!0)},d.getData(n).then(function(){for(var e=n.firstElementChild,t=1;t<a;t+=1)e.appendChild(r.cloneNode(!0));e.removeAttribute("active"),d.newSlide(n).setAttribute("active",!0),d.newSlide(n)}),u+=1,!0}),document.addEventListener("click",function(e){e.target.closest(".js-object-shuffler__more")&&(e.preventDefault(),d.nextSlide(t.querySelector(".js-object-shuffler__deck[active]")))},!1)},setSize:function(e){return 2*Math.floor(e.parentNode.getBoundingClientRect().width/e.getBoundingClientRect().width)},getData:function(n){if(n._props.itemsData.length<n._props.itemsIndex+2*n._props.slideSize){var e=n._props.itemsDataFeed.replace(/offset=[^&]+/,"offset="+n._props.itemsData.length);return fetch(e).then(function(e){return e.json()}).then(function(e){Array.from(e.records,function(e){var t="https://media.vam.ac.uk/media/thira/collection_images/"+e.fields.primary_image_id.substring(0,6)+"/"+e.fields.primary_image_id+".jpg";return n._props.itemsData.push({img:{srcset:t+" 320w, "+t+" 640w, "+t+" 960w",src:t,alt:e.fields.title},title:e.fields.title,href:"http://d3dn4d27rggz6y.cloudfront.net/item/"+e.fields.object_number+"/index.html"}),!0})}).catch(function(e){return console.error(e.name,e.message)})}return Promise.resolve(!0)},newSlide:function(m){var e=m.appendChild(m.firstElementChild.cloneNode(!0));return Array.from(e.children,function(e){var t=m._props.itemsIndex%m._props.itemsData.length,n=e.querySelector("img");e.title=m._props.itemsData[t].title,e.href=m._props.itemsData[t].href,n.srcset=m._props.itemsData[t].img.srcset,n.src=m._props.itemsData[t].img.src,n.alt=m._props.itemsData[t].img.alt;var o=.1*Math.random(),r=1+(0<m._props.itemsIndex%2?1:-1)*o,a=m._props.itemsIndex%m._props.slideSize,c=a>m._props.slideSize/2-1?-1:1,i=.5<Math.random()?1:-1;0==a||a==m._props.slideSize/2?i=1:a!=m._props.slideSize/2-1&&a!=m._props.slideSize-1||(i=-1);var s=a%(m._props.slideSize/2)*(100/(m._props.slideSize/2)),l=a<m._props.slideSize/2?0:50,u=i*o*34*1,d=c*o*74;return e.style.width="auto",e.style.height=50*r+"%",e.style.position="absolute",e.style.left=s+u+"%",e.style.top=l+d+"%",e.style.transitionDuration=m._props.transitionDurationItem*r*r+"s",n.style.transitionDuration=m._props.transitionDurationImg*r*r+"s",m._props.itemsIndex+=1,!0}),d.getData(m),e},nextSlide:function(e){d.newSlide(e),e.firstElementChild.remove();var t=e.querySelector("[active]");t.removeAttribute("active"),t.nextSibling.setAttribute("active",!0)}},o=null,"IntersectionObserver"in window&&(o=new IntersectionObserver(function(e){var t,n=r(e,1)[0];0<n.intersectionRatio&&(t=n.target,o.unobserve(t),t.initialised||(d.init(t),t.initialised=!0))},{rootMargin:"0px 0px 1000px 0px"})),document.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".js-object-shuffler"),function(t){try{o.observe(t)}catch(e){d.init(t)}return!0})},!0)},{}],19:[function(e,t,n){"use strict";function s(e){window.dataLayer.push({event:e.target.tracking.event,eventCategory:e.target.tracking.eventCategory,eventAction:e.target.tracking.eventAction,eventLabel:e.target.tracking.eventLabel})}Array.from(document.querySelectorAll(".js-search-site, .js-search-etc-gateway"),function(r){var e,t,n,o,a,c,i=r.querySelector(".b-search-form__input");return r.classList.contains("js-search-site")?(r._props={type:"siteSearch"},e=r.querySelector(".b-search-form__underscore"),t=r.querySelector(".b-search-form__submit"),n=r.querySelector(".b-search-form__clear"),o=function(){e.innerHTML=i.value.replace(/\s/g,"&nbsp;")},i.value.length?n.classList.remove("b-search-form__clear--hidden"):t.classList.add("b-search-form__submit--hidden"),i.focus(),o(),i.addEventListener("input",function(){o(),n.classList.add("b-search-form__clear--hidden"),i.value.length?t.classList.remove("b-search-form__submit--hidden"):t.classList.add("b-search-form__submit--hidden")},!1),n.addEventListener("click",function(){n.classList.add("b-search-form__clear--hidden"),i.value="",o()},!1)):r.classList.contains("js-search-etc-gateway")&&(r._props={type:"etcGatewaySearch",suggestionsTop:"//localhost/vam-fractal/src/assets/etc-search-suggestions-top",suggestionsAPI:"http://51.11.136.250/api/v2/sayt/search"},a=r.querySelector(".b-search-form__suggestions"),c=function(e,t){var n,o,r=document.createElement("a");a.childElementCount<10&&(n=t.uniqueID,o=t.displayName||t.displayTerm,r.className="b-search-form__suggestion",r.href=n,r.tabindex=0,r.role="option",r.innerHTML='<div class="b-search-form__suggestion-type">'+t.index+"</div>"+o+"",r.tracking={event:"autosuggest EtC landing",eventCategory:"search - autosuggest - "+t.index,eventAction:e,eventLabel:n},r.addEventListener("click",s),a.appendChild(r))},function(n){n._props.storedSuggestions=JSON.parse(sessionStorage.getItem("storedSuggestions_"+n._props.type));var o=new Date;return!n._props.storedSuggestions||o.getTime()>n._props.storedSuggestions.expires?fetch(n._props.suggestionsTop,{cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){var t={expires:o.getTime()+9e5,data:e};n._props.storedSuggestions=t,sessionStorage.setItem("storedSuggestions_"+n._props.type,JSON.stringify(n._props.storedSuggestions))}).catch(function(e){return console.error(e.name,e.message)}):Promise.resolve(!0)}(r).then(function(){var o=null;i.addEventListener("input",function(){var e,t,n;r.removeAttribute("suggesting"),a.innerHTML="",i.value.length&&(e=i.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t="(^|\\|)",2<i.value.length&&(t="\\b"),n=new RegExp(""+t+e+".*","i"),Array.from(r._props.storedSuggestions.data,function(e){return Array.from(e.suggestions,function(e){var t=e.displayName;return n.test(t)&&(r.setAttribute("suggesting",!0),c(i.value,e)),!0}),!0}),4<i.value.length&&(o&&o.abort(),o=new window.AbortController,setTimeout(function(){return o.abort()},500),fetch(r._props.suggestionsAPI+"?q="+encodeURI(e)+"&limit=10",{signal:o.signal}).then(function(e){return e.json()}).then(function(e){0<e.info.totalrecords&&(r.setAttribute("suggesting",!0),Array.from(e.records,function(e){return c(i.value,e),!0}))}).catch(function(e){return console.error(e.name,e.message)})))},!1)}).catch(function(e){return console.error(e.name,e.message)}),Array.from(r.querySelectorAll(".b-search-form__filter-toggle"),function(e){return e.addEventListener("click",function(){e.closest(".b-search-form__filter-toggle-set").toggleAttribute("active")},!1),!0})),!0})},{}],20:[function(e,t,n){"use strict";var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function k(e){return Object.entries(e).reduce(function(e,t){var n,o,r,a=s(t,2),c=a[0],i=a[1];return Object.assign(e,(n={},o=c,r=parseInt(i,10),o in n?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,n))},{})}function o(){var e=document.querySelector(".b-search-pagination"),o=e.cloneNode(!0);function p(e){e.filter(function(e){return 2===e.classList.length}).forEach(function(e){return e.classList.remove(e.classList[0]+"--inactive")})}function _(e){e.filter(function(e){return 1===e.classList.length}).forEach(function(e){return e.classList.add(e.classList[0]+"--inactive")})}function r(){(parseInt(t.dataset.pageIndex,10)<1?_:p)([t]),(parseInt(c.dataset.pageIndex,10)>w?_:p)([c])}function y(e){document.querySelector('button[data-page-index="'+String(e)+'"]').classList.add(u)}function h(e){o.dataset.pageIndex=e,document.querySelector("."+u)&&document.querySelector("."+u).classList.remove(u),t.dataset.pageIndex=e-1,c.dataset.pageIndex=e+1}function a(){var e=parseInt(o.dataset.pageIndex,10)-1,t=l*e+1,n=l*e+l;document.querySelector(".b-search-pagination__display-counter").innerHTML=""+t+" - "+(s<n?s:n)+" of "+s+""}function n(e){var t=e.target,n=k(t.dataset).pageIndex;if(h(n),n<=2){var o=S[2],r=S[0];p([q,r]),_([x,L,o]),y(n);for(var a=0;a<3;a+=1){var c=S[a],i=a+2;c.dataset.pageIndex=i,c.value=i,c.innerHTML=""+(i<10?0:"")+i}}if(2<n&&n<w-1){p([x,L].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(S))),_([q]);for(var s=n-1,l=0;l<3;l+=1){var u=S[l],d=s+l;u.dataset.pageIndex=d,u.value=d,u.innerHTML=""+(d<10?0:"")+d}y(n)}if(w-1<=n){var m=S[0],f=S[2];p([x,f]),_([q,L,m]),y(n);for(var g=0;g<3;g+=1){var v=S[g],b=w-3+g;v.dataset.pageIndex=b,v.value=b,v.innerHTML=""+(b<10?0:"")+b}}}e.parentNode.replaceChild(o,e);var S=Array.from(document.querySelectorAll(".b-search-pagination__page-button")),t=document.querySelector(".b-search-pagination__prev-link"),c=document.querySelector(".b-search-pagination__next-link"),x=document.querySelector(".b-search-pagination__page-button-seperator-start"),q=document.querySelector(".b-search-pagination__page-button-seperator-middle"),L=document.querySelector(".b-search-pagination__page-button-seperator-last"),i=k(o.dataset),s=i.totalCount,l=i.offset,w=i.pages;4<w?document.querySelector(".b-search-pagination").addEventListener("changeSearchPage",function(e){p([document.querySelector(".b-search-pagination__page-button-last")]),n(e),r(),a();var t=k(e.target.dataset).pageIndex;document.querySelector(".b-search-pagination__hidden-input")&&document.querySelector(".b-search-pagination__hidden-input").value!==t&&(document.querySelector(".b-search-pagination__hidden-input").value=t)}):(_([x,q,L]),S.forEach(function(e){parseInt(e.dataset.pageIndex,10)>w&&_([e])}),_([document.querySelector(".b-search-pagination__page-button-last")]),document.querySelector(".b-search-pagination").addEventListener("changeSearchPage",function(e){var t,n;t=e.target,n=k(t.dataset).pageIndex,h(n),y(n),r(),a();var o=k(e.target.dataset).pageIndex;document.querySelector(".b-search-pagination__hidden-input")&&document.querySelector(".b-search-pagination__hidden-input").value!==o&&(document.querySelector(".b-search-pagination__hidden-input").value=o)})),document.querySelector(".b-search-pagination").addEventListener("click",function(e){var t=e.target,n=k(t.dataset).pageIndex;return(t.closest(".b-search-pagination__page-button")||t.closest(".b-search-pagination__prev-link")||t.closest(".b-search-pagination__next-link")||t.closest(".b-search-pagination__page-button-start")||t.closest(".b-search-pagination__page-button-last"))&&0<n&&n<=w&&t.dispatchEvent(new Event("changeSearchPage",{bubbles:!0})),!1}),document.querySelector(".b-search-pagination").dispatchEvent(new Event("changeSearchPage"))}var u="b-search-pagination__page-button--current";document.querySelector(".b-search-pagination")&&(o(),document.querySelector(".b-search-pagination").addEventListener("newSearch",o),document.querySelector(".b-search-pagination").dispatchEvent(new Event("changeSearchPage")))},{}],21:[function(e,t,n){"use strict";var o=document.querySelectorAll(".js-search-result-text");function r(e){var t,n,o,r,a;e.innerHTML=e.textFull,10<e.scrollHeight-e.clientHeight&&(n=e.textFull.indexOf("</em>")-(t=e.clientHeight/e.scrollHeight*e.textFull.length),o=0,r=e.textFull.lastIndexOf(" ",t),a="",0<n&&(a="&hellip;",o=e.textFull.indexOf(" ",20+n)+1,r=e.textFull.lastIndexOf(" ",t+n+20)),e.innerHTML=""+a+e.textFull.substring(o,r)+"&hellip;")}o.length&&Array.from(o,function(e){return e.textFull=e.innerHTML,r(e),window.addEventListener("resize",r.bind(void 0,e),!1),!0})},{}],22:[function(e,t,n){"use strict";Array.from(document.querySelectorAll(".b-search-results__body-row")).forEach(function(e,t){var n;e.classList.contains("b-search-results__body-row--offensive")&&((n=document.createElement("DIV")).className="b-search-results__offensive-warning",n.innerHTML='<div class="b-search-results__offensive-warning-text">This record uses a term that has since fallen from usage and is now considered offensive. The term is repeated in this record in its original historical context.</div><button class="b-search-results__offensive-warning-button">View record</button>',n.style.top=e.offsetTop+e.offsetHeight/4+"px",n.style.left=e.getBoundingClientRect().left+"px",n.setAttribute("data-row-index",t),n.onclick=function(e){Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.target.parentElement.getAttribute("data-row-index")].classList.remove("b-search-results__body-row--offensive"),e.target.parentElement.remove()},document.querySelector(".b-search-results").appendChild(n))}),window.addEventListener("resize",function(){Array.from(document.querySelectorAll(".b-search-results__offensive-warning")).forEach(function(e){var t=Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.getAttribute("data-row-index")];e.style.top=t.offsetTop+t.offsetHeight/4+"px",window.outerWidth<1200&&(e.style.left=t.getBoundingClientRect().left+"px")})})},{}],23:[function(e,t,n){"use strict";var o=a(e("browser-cookies")),r=a(e("smooth-scroll"));function a(e){return e&&e.__esModule?e:{default:e}}var c,i,s,l,u,d,m,f,g,v,b,p,_,y,h,S,x,q,L,w,k,j=document.querySelector(".js-site-nav");j&&(c=document.querySelector("html").scrollHeight,i=document.querySelectorAll(".js-site-nav__mobile-toggle"),s=document.querySelector(".js-site-nav__mobile-toggle--icon"),l=document.querySelector(".js-site-nav__mobile-toggle-text"),u=document.querySelector(".js-site-nav__mobile-top"),d=document.querySelector(".js-site-nav-bag"),m=document.querySelector(".js-site-nav-bag-total"),f=document.querySelector(".js-site-nav-search-btn"),g=document.querySelector(".js-site-nav-search"),v=document.querySelector(".js-search-input"),b=document.querySelector(".js-search-content"),p=document.querySelector(".js-search-suggest"),_=o.default.get("basketCount"),y=document.querySelector(".js-site-nav__tablet-toggle"),_&&0<_&&(d&&d.classList.remove("b-site-nav__bag--hidden"),m.innerHTML=_<100?_:"",s&&l.classList.add("b-site-nav__mobile-toggle-text--hidden")),s&&"none"!==window.getComputedStyle(s).display&&(k=!(L=function(e){60<e?s.classList.add("b-site-nav__mobile-toggle--solo"):s.classList.remove("b-site-nav__mobile-toggle--solo"),.35<e/c?u.classList.add("b-site-nav__mobile-top--show"):u.classList.remove("b-site-nav__mobile-top--show")}),window.addEventListener("scroll",function(e){return e.preventDefault(),w=window.pageYOffset,k||window.requestAnimationFrame(function(){L.call(void 0,w),k=!1}),k=!0},!1),u.addEventListener("click",function(){r.default.animateScroll(0)})),Array.from(i,function(t){return t.addEventListener("click",function(e){e.preventDefault(),j.classList.toggle("b-site-nav--open"),t.classList.toggle("active")},!1),!0}),y&&y.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".js-site-nav-more").classList.toggle("active")},!1),(!(h=JSON.parse(sessionStorage.getItem("storedSearch")))||Date.parse(new Date)>Date.parse(h.expires))&&((S=new XMLHttpRequest).open("GET","https://vam.ac.uk/services/search/suggest/promoted"),S.send(),S.onreadystatechange=function(){var e,t;S.readyState===XMLHttpRequest.DONE&&200===S.status&&(e=new Date,t={expires:new Date(e.setMinutes(e.getMinutes()+15)),results:S.responseText},sessionStorage.setItem("storedSearch",JSON.stringify(t)),h=JSON.parse(sessionStorage.getItem("storedSearch")))}),x=function(){window.dataLayer.push({event:"autosuggest search",eventCategory:(void 0).tracking.eventCategory,eventAction:(void 0).tracking.eventAction,eventLabel:(void 0).tracking.eventLabel})},q=function(n,e,o,r){var a=null,c=null,i=null;JSON.parse(e).forEach(function(e){for(a=0;a<e.suggestions.length;a+=1){var t;c=e.suggestions[a].title,e.suggestions[a].terms&&(c=e.suggestions[a].terms.join("|")),n.test(c)&&(b.classList.remove("b-site-nav__core__search__container--hidden"),i=e.suggestions[a].icon?e.suggestions[a].icon:"https://s3-eu-west-1.amazonaws.com/vanda-production-assets/static/search/result_placeholder.jpg",t=document.createElement("li"),r&&t.classList.add("js-live-result"),t.innerHTML='<div class="b-search-result-auto-suggest"><a class="b-search-result-auto-suggest-content"href="'+e.suggestions[a].url+'"><img class="b-search-result-auto-suggest-image"src="'+i+'"alt=""aria-hidden="true"><div class="b-search-result-auto-suggest-text"><div class="b-search-result-auto-suggest-content-type">'+e.suggestions[a].type+'</div><div class="b-search-result-auto-suggest-title js-search-result-text">'+e.suggestions[a].title+"</div></div></a></div>",t.tracking={eventCategory:"search - autosuggest - "+e.suggestions[a].type,eventAction:o,eventLabel:e.suggestions[a].url},t.addEventListener("click",x),p.appendChild(t))}})},f&&f.addEventListener("click",function(e){e.preventDefault(),f.classList.toggle("b-site-nav__core__search-btn--active"),g.classList.toggle("b-site-nav__core__search--active"),v.focus(),v.setSelectionRange(100,100)},!1),v&&v.addEventListener("input",function(){var e,t,n,o;v.value.length<42&&(b.classList.add("b-site-nav__core__search__container--hidden"),p.innerHTML="",v.value.length&&(e="(^|\\|)",2<v.value.length&&(e="\\b"),t=v.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=new RegExp(""+e+t+".*","i"),q(n,h.results,v.value,!1),4<v.value.length&&((o=new XMLHttpRequest).open("GET","https:/vam.ac.uk/services/search/suggest/popular?q="+encodeURI(v.value)),o.send(),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&200===o.status&&(Array.from(p.querySelectorAll(".js-live-result"),function(e){return e.remove(),!0}),q(n,o.responseText,v.value,!0))})))},!1))},{"browser-cookies":1,"smooth-scroll":5}],24:[function(e,t,n){"use strict";var o,r=e("querystring"),a=(o=r)&&o.__esModule?o:{default:o};var c,i,s=document.querySelector(".js-toggle-nav");s&&(c=s.querySelectorAll(".js-toggle-nav-btn"),i=a.default.parse(window.location.search.replace("?","")).type,Array.from(c,function(n){var o=document.querySelectorAll(n.dataset.toggeesSelector);return n.addEventListener("click",function(e){e.preventDefault();var t=n.dataset.toggleType;s.scrollLeft=n.offsetLeft-(s.getBoundingClientRect().width-n.getBoundingClientRect().width)/2,n.preventHistoryPush||window.history.pushState({toggleNavType:t},"","?type="+t),n.preventHistoryPush=!1,Array.from(o,function(e){return e.classList.add("s-visually-hidden"),e.dataset.toggleType===t&&e.classList.remove("s-visually-hidden"),!0}),Array.from(c,function(e){return e.classList.remove("b-toggle-nav__button--active"),!0}),n.classList.add("b-toggle-nav__button--active")},!1),n.dataset.toggleType===i&&(n.preventHistoryPush=!0,setTimeout(function(){n.click()},50)),!0}),window.addEventListener("popstate",function(t){return Array.from(document.querySelectorAll("s-visually-hidden"),function(e){return e.classList.remove("s-visually-hidden"),!0}),t.state&&t.state.toggleNavType&&Array.from(c,function(e){return t.state.toggleNavType===e.dataset.toggleType&&(e.preventHistoryPush=!0,e.click()),!0}),!0},!1),i||void 0===s.dataset.toggleTypeDefault||document.querySelector("[data-toggle-type="+s.dataset.toggleTypeDefault+"]").click())},{querystring:4}],25:[function(e,t,n){"use strict";var o=document.querySelectorAll(".js-video-thumbnail");Array.from(o,function(o){return o.addEventListener("click",function(e){e.preventDefault();var t=document.createElement("div"),n=document.createElement("div");t.className="b-video-thumbnail__popup",t.innerHTML='<iframe class="b-video-thumbnail__popup-iframe" width="90%" height="90%" src="'+o.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',t.addEventListener("click",function(){t.remove()}),n.className="b-video-thumbnail__popup-close",n.innerHTML='<svg role="img" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>',t.appendChild(n),document.body.appendChild(t)}),!0})},{}],26:[function(e,t,n){"use strict";var o,r,a=document.querySelector(".js-video-trailer");a&&(o=a.querySelector(".js-video-trailer-preview"),r=document.createElement("div"),a.addEventListener("click",function(e){e.preventDefault(),r.className="b-video-trailer__image",r.innerHTML='<iframe class="" width="100%" height="100%" src="'+a.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',o.remove(),a.appendChild(r),r.style.height=.5625*r.offsetWidth+"px"}),window.addEventListener("resize",function(){r.style.height=.5625*r.offsetWidth+"px"}))},{}],27:[function(e,t,n){"use strict";var o=document.querySelectorAll(".js-grid-reveal-more");o.length&&(Array.from(document.querySelectorAll(".js-grid-reveal-more"),function(o){var e,r,t,n,a,c,i=o.dataset.revealMoreCounter||4;return i<o.childElementCount&&(e=o.dataset.iconUrl,r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.children)),t=o.dataset.revealMoreTheme||"dark",n=o.dataset.revealMoreTracking||"",(a=o).dataset.revealMorePutAfter&&(a=document.querySelector(o.dataset.revealMorePutAfter)),r.slice(i).forEach(function(e){return e.classList.add("s-visually-hidden")}),(c=document.createElement("footer")).setAttribute("class","b-block-grid__footer b-block-grid__footer--"+t),c.innerHTML='<a href="#" data-tracking-showmorebutton="'+n+'" class="js-reveal-more-btn"><div class="b-icon-badge b-icon-badge--small b-icon-badge--'+t+'"><div class="b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover"><svg role="img"><use xlink:href="'+e+'#plus"></use></svg></div><small class="b-icon-badge__label">Show more</small></div></a>',a.parentNode.insertBefore(c,a.nextSibling),o.revealMoreClicks=0,c.addEventListener("click",function(e){e.preventDefault(),o.revealMoreClicks+=1;var t=r.filter(function(e){return e.classList.contains("s-visually-hidden")}),n=t[0].parentNode.insertBefore(t[0].cloneNode(!1),t[0]);n.classList.remove("s-visually-hidden"),n.classList.add("b-block-grid__cols-restarter"),t.slice(0,i).forEach(function(e){return e.classList.remove("s-visually-hidden")}),t.length<=i&&c.remove()},!1)),!0}),window.addEventListener("beforeunload",function(){var t=[];Array.from(o,function(e){return t.push(e.revealMoreClicks),!0}),history.replaceState({revealMoreClicks:t},"revealMoreClicks")},!1),window.addEventListener("load",function(){if(history.state&&history.state.revealMoreClicks)for(var e=document.querySelectorAll(".js-reveal-more-btn"),t=0;t<history.state.revealMoreClicks.length;t+=1)for(var n=0;n<history.state.revealMoreClicks[t];)e[t].click(),n+=1},!1))},{}],28:[function(e,t,n){"use strict";document.querySelector(".b-facet-box-modal__button")&&(document.querySelector(".b-facet-box-modal__button").onclick=function(e){document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active"),e.preventDefault()}),document.querySelector(".b-facet-box-modal__button")&&document.addEventListener("closeFacetOverlay",function(){return document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active")})},{}],29:[function(e,t,n){"use strict";function o(e){var t,n,o,r,a=e&&e.detail&&e.detail.opr,c=e&&e.detail&&e.detail.index,i="b-image-overlay__image--active",s=document.querySelector("."+i);a&&(c=parseInt(s.getAttribute("data-image-index"),10)),"+"===a?c+=1:"-"===a&&--c,document.querySelector('img[data-image-index="'+String(c)+'"]')&&(s&&s.classList.remove(i),t="b-image-carousel__image-preview-container--selected",(n=document.querySelector("."+t))&&n.classList.remove(t),document.querySelector("div[data-image-index='"+String(c)+"']").classList.add(t),o=document.querySelector(".b-image-overlay-detail__next"),r=document.querySelector(".b-image-overlay-detail__prev"),c===document.querySelectorAll(".b-image-carousel__image-preview-container").length-1?o.classList.remove("b-image-overlay-detail__next--enabled"):o.classList.add("b-image-overlay-detail__next--enabled"),0===c?r.classList.remove("b-image-overlay-detail__prev--enabled"):r.classList.add("b-image-overlay-detail__prev--enabled"),document.querySelector("img[data-image-index='"+String(c)+"']").classList.add(i),document.querySelector(".b-image-overlay-detail__current-image").innerHTML=parseInt(document.querySelector(".b-image-carousel__image-preview-container--selected").getAttribute("data-image-index"),10)+1,document.querySelector(".b-image-overlay-detail__total-number-of-images").innerHTML=document.querySelectorAll(".b-image-carousel__image-preview-container").length)}function r(e){return new CustomEvent("updateimageandcounter",{detail:{opr:e},bubbles:!0})}var a,c;document.querySelector(".b-image-overlay-detail")&&(a=document.querySelector(".b-image-overlay-detail__next"),c=document.querySelector(".b-image-overlay-detail__prev"),document.querySelector(".b-image-overlay-detail")&&(c.onclick=function(e){return e.target.dispatchEvent(r("-"))},a.onclick=function(e){return e.target.dispatchEvent(r("+"))},document.querySelector(".b-image-overlay-detail").addEventListener("updateimageandcounter",o)),document.querySelector(".b-image-overlay-detail").dispatchEvent(r("")))},{}],30:[function(e,t,n){"use strict";function o(){document.querySelector(".b-image-overlay__container").classList.add("b-image-overlay__container--active"),document.querySelector("body").style.overflowY="hidden";var e=window.pageYOffset;document.querySelector(".b-image-overlay__container").style.top=e+"px"}document.querySelector(".b-image-overlay__preview-concealer")&&(document.querySelector(".b-image-overlay__preview-concealer").onclick=function(e){e.stopPropagation()},document.querySelector(".b-image-overlay__preview-concealer-button").onclick=function(e){e.stopPropagation(),document.querySelector(".b-image-overlay__preview--offensive").classList.remove("b-image-overlay__preview--offensive"),document.querySelector(".b-image-overlay__preview-concealer").remove()}),document.querySelector(".b-image-overlay")&&(document.querySelector(".b-image-overlay__close-container").onclick=function(e){e.target.dispatchEvent(new Event("closedImageOverlay"),{bubbles:!0}),document.querySelector(".b-image-overlay__container").classList.remove("b-image-overlay__container--active"),document.querySelector("body").style.overflowY="auto"},document.querySelector(".b-image-overlay").addEventListener("openObjectOverlay",o),document.querySelector(".b-image-overlay__container").addEventListener("jsModalOpen",function(){document.querySelector(".b-image-overlay__close-container").style.display="none"}),document.querySelector(".b-image-overlay__container").addEventListener("jsModalClosed",function(){document.querySelector(".b-image-overlay__close-container").style.display="block"}),Array.from(document.querySelectorAll(".b-image-overlay__preview")).forEach(function(e){e.onclick=function(e){e.preventDefault(),e.target.classList.contains("b-image-overlay__preview--offensive")||e.target.dispatchEvent(new CustomEvent("openObjectOverlay",{bubbles:!0}))}}))},{}],31:[function(e,t,n){"use strict";document.querySelector(".b-story-box")&&function(){var o=Array.from(document.querySelectorAll(".b-story-box")),r=Array.from(document.querySelectorAll(".b-story-box--column"));window.onload=function(){for(var e=0;e<r.length;e+=2)!function(e){var t=r.slice(e,e+2).map(function(e){return e.querySelector(".b-story-box__content-text")}),n=t[t[0].offsetHeight>t[1].offsetHeight?0:1].offsetHeight;t.forEach(function(e){e.style.height=n+"px"})}(e)},4<o.length&&document.querySelector(".b-story-box-container__reveal-container").classList.add("b-story-box-container__reveal-container--active"),o.slice(0,4).forEach(function(e){e.classList.add("b-story-box--active")});var e=document.querySelector(".b-story-box-container__reveal-btn");e&&(e.onclick=function(){var e,t,n=Array.from(document.querySelectorAll(".b-story-box--active")).length;return Array.from(document.querySelectorAll(".b-story-box")).slice(n,n+2).forEach(function(e){e.classList.add("b-story-box--active")}),n+1===o.length?document.querySelector(".b-story-box-container__reveal-container").classList.remove("b-story-box-container__reveal-container--active"):(e=r.slice(n-1,n+2).map(function(e){return e.querySelector(".b-story-box__content-text")}),t=e[e[0].offsetHeight>e[1].offsetHeight?0:1].offsetHeight,e.forEach(function(e){e.style.height=t+"px"})),!1})}()},{}],32:[function(e,t,n){"use strict";"undefined"!=typeof Modernizr&&Modernizr.on("objectfit",function(e){var t;e||(t=document.querySelectorAll(".js-object-fit-container"),[].forEach.call(t,function(t){var n;t.getElementsByTagName("img")[0]&&(n=t.getElementsByTagName("img")[0]).addEventListener("load",function(){var e=n.src;e&&(t.classList.add("js-object-fit-container--fallback"),t.style.backgroundImage="url('"+e+"')")})}))})},{}]},{},[8]);
//# sourceMappingURL=vamscript.js.map
