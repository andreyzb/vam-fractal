!function a(c,i,s){function l(t,e){if(!i[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=i[t]={exports:{}};c[t][0].call(o.exports,function(e){return l(c[t][1][e]||e)},o,o.exports,a,c,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,m){m.defaults={},m.set=function(e,t,n){var r=n||{},o=m.defaults,a=r.expires||o.expires,c=r.domain||o.domain,i=void 0!==r.path?r.path:void 0!==o.path?o.path:"/",s=void 0!==r.secure?r.secure:o.secure,l=void 0!==r.httponly?r.httponly:o.httponly,u=void 0!==r.samesite?r.samesite:o.samesite,d=a?new Date("number"==typeof a?(new Date).getTime()+864e5*a:a):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(d&&0<=d.getTime()?";expires="+d.toUTCString():"")+(c?";domain="+c:"")+(i?";path="+i:"")+(s?";secure":"")+(l?";httponly":"")+(u?";samesite="+u:"")},m.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),r=(r=n.indexOf("="))<0?n.length:r;if(decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(r+1))}return null},m.erase=function(e,t){m.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},m.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),r=(r=n.indexOf("="))<0?n.length:r;e[decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))]=decodeURIComponent(n.slice(r+1))}return e}},{}],2:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var i=e.length;0<c&&c<i&&(i=c);for(var s,l,u=0;u<i;++u){var d,m=e[u].replace(a,"%20"),f=m.indexOf(n),b=0<=f?(d=m.substr(0,f),m.substr(f+1)):(d=m,""),v=decodeURIComponent(d),g=decodeURIComponent(b);s=o,l=v,Object.prototype.hasOwnProperty.call(s,l)?p(o[v])?o[v].push(g):o[v]=[o[v],g]:o[v]=g}return o};var p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],3:[function(e,t,n){"use strict";function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,o,e){return r=r||"&",o=o||"=",null===n&&(n=void 0),"object"==typeof n?i(s(n),function(e){var t=encodeURIComponent(a(e))+o;return c(n[e])?i(n[e],function(e){return t+encodeURIComponent(a(e))}).join(r):t+encodeURIComponent(a(n[e]))}).join(r):e?encodeURIComponent(a(e))+o+encodeURIComponent(a(n)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],4:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":2,"./encode":3}],5:[function(e,r,o){(function(e){var t,n;t=void 0!==e?e:this.window||this.global,n=function(p){"use strict";function _(e){return e?(t=e,Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)+e.offsetTop):0;var t}var y,r,o,h,S,t,x,n={},a="querySelector"in document&&"addEventListener"in p,w={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},q=function(){var n={},r=!1,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],e++);for(;e<t;e++){!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r&&"[object Object]"===Object.prototype.toString.call(e[t])?n[t]=q(!0,n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},L=function(){return Math.max(document.documentElement.clientHeight,p.innerHeight||0)},k=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};n.animateScroll=function(c,i,e){var t,r,o,a,s,l,u,d,m,n,f=(t=i?i.getAttribute("data-options"):null)&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):{},b=q(y||w,e||{},f),v="[object Number]"===Object.prototype.toString.call(c),g=v||!c.tagName?null:c;(v||g)&&(r=p.pageYOffset,b.selectorHeader&&!h&&(h=document.querySelector(b.selectorHeader)),S=S||_(h),s=v?c:function(e,t,n){var r=0;if(e.offsetParent)for(;r+=e.offsetTop,e=e.offsetParent;);return r=Math.max(r-t-n,0),Math.min(r,k()-L())}(g,S,parseInt(b.offset,10)),l=s-r,u=k(),m=function(e,t,n){var r,o,a=p.pageYOffset;(e==t||a==t||p.innerHeight+a>=u)&&(clearInterval(n),r=c,o=t,v||(r.focus(),document.activeElement.id!==r.id&&(r.setAttribute("tabindex","-1"),r.focus(),r.style.outline="none"),p.scrollTo(0,o)),b.callback(c,i))},n=function(){var e,t,n;o=1<(o=(d+=16)/parseInt(b.speed,10))?1:o,a=r+l*(e=b.easing,t=o,"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t),p.scrollTo(0,Math.floor(a)),m(a,s,x)},(d=0)===p.pageYOffset&&p.scrollTo(0,0),clearInterval(x),x=setInterval(n,16))};function c(e){p.location.hash,r&&(r.id=r.getAttribute("data-scroll-id"),n.animateScroll(r,o),o=r=null)}function i(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey&&((o=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(e.target,y.selector))&&"a"===o.tagName.toLowerCase()&&o.hostname===p.location.hostname&&o.pathname===p.location.pathname&&/#/.test(o.href))){var t=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),r=n.length,o=-1,a="",c=n.charCodeAt(0);++o<r;){if(0===(t=n.charCodeAt(o)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===o&&48<=t&&t<=57||1===o&&48<=t&&t<=57&&45===c?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(o):"\\"+n.charAt(o)}return"#"+a}(o.hash);if("#"===t){e.preventDefault();var n=(r=document.body).id?r.id:"smooth-scroll-top";return r.setAttribute("data-scroll-id",n),r.id="",void(p.location.hash.substring(1)===n?c():p.location.hash=n)}(r=document.querySelector(t))&&(r.setAttribute("data-scroll-id",r.id),r.id="",o.hash===p.location.hash&&(e.preventDefault(),c()))}}function s(e){t=t||setTimeout(function(){t=null,S=_(h)},66)}return n.destroy=function(){y&&(document.removeEventListener("click",i,!1),p.removeEventListener("resize",s,!1),x=t=S=h=o=r=y=null)},n.init=function(e){a&&(n.destroy(),y=q(w,e||{}),h=y.selectorHeader?document.querySelector(y.selectorHeader):null,S=_(h),document.addEventListener("click",i,!1),p.addEventListener("hashchange",c,!1),h&&p.addEventListener("resize",s,!1))},n},"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof o?r.exports=n(t):t.smoothScroll=n(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){var r,o;r=this,o=function(){function g(e,t,n){if(n){var r=document.createDocumentFragment(),o=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");o&&t.setAttribute("viewBox",o);for(var a=n.cloneNode(!0);a.childNodes.length;)r.appendChild(a.firstChild);e.appendChild(r)}}return function(e){var u=Object(e),t=window.top!==window.self,d="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&t,m={},f=window.requestAnimationFrame||setTimeout,b=document.getElementsByTagName("use"),v=0;d&&function e(){for(var t=0;t<b.length;){var n,r,o,a,c=b[t],i=c.parentNode,s=function(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}(i),l=c.getAttribute("xlink:href")||c.getAttribute("href");!l&&u.attributeName&&(l=c.getAttribute(u.attributeName)),s&&l?d&&(!u.validate||u.validate(l,s,c)?(i.removeChild(c),r=(n=l.split("#")).shift(),o=n.join("#"),r.length?((a=m[r])||((a=m[r]=new XMLHttpRequest).open("GET",r),a.send(),a._embeds=[]),a._embeds.push({parent:i,svg:s,id:o}),function(r){r.onreadystatechange=function(){var n;4===r.readyState&&((n=r._cachedDocument)||((n=r._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=r.responseText,r._cachedTarget={}),r._embeds.splice(0).map(function(e){var t=(t=r._cachedTarget[e.id])||(r._cachedTarget[e.id]=n.getElementById(e.id));g(e.parent,e.svg,t)}))},r.onreadystatechange()}(a)):g(i,s,document.getElementById(o))):(++t,++v)):++t}(!b.length||0<b.length-v)&&f(e,67)}()}},"function"==typeof define&&define.amd?define([],function(){return r.svg4everybody=o()}):"object"==typeof t&&t.exports?t.exports=o():r.svg4everybody=o()},{}],7:[function(e,t,n){var r,o;r=this,o=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return t({},$,e)}function o(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)}function h(e,t){return e.getAttribute("data-"+t)}function S(e,t,n){var r="data-"+t;null!==n?e.setAttribute(r,n):e.removeAttribute(r)}function p(e){return h(e,"ll-status")}function x(e,t){return S(e,"ll-status",t)}function _(e){return x(e,null),0}function y(e){return null===p(e)}function c(e){return"native"===p(e)}function w(e,t,n,r){e&&(void 0===r?void 0===n?e(t):e(t,n):e(t,n,r))}function q(e,t){Q?e.classList.add(t):e.className+=(e.className?" ":"")+t}function L(e,t){Q?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function k(e){return e.llTempImage}function A(e,t){var n;!t||(n=t._observer)&&n.unobserve(e)}function j(e,t){e&&(e.loadingCount+=t)}function s(e,t){e&&(e.toLoadCount=t)}function r(e){for(var t,n=[],r=0;t=e.children[r];r+=1)"SOURCE"===t.tagName&&n.push(t);return n}function n(e,t,n){n&&e.setAttribute(t,n)}function a(e,t){e.removeAttribute(t)}function l(e){return!!e.llOriginalAttrs}function u(e){var t;l(e)||((t={}).src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t)}function E(e){var t;l(e)&&(t=e.llOriginalAttrs,n(e,"src",t.src),n(e,"srcset",t.srcset),n(e,"sizes",t.sizes))}function d(e,t){n(e,"sizes",h(e,t.data_sizes)),n(e,"srcset",h(e,t.data_srcset)),n(e,"src",h(e,t.data_src))}function I(e){a(e,"src"),a(e,"srcset"),a(e,"sizes")}function C(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&r(n).forEach(t)}function m(e,t){r(e).forEach(t)}function f(e,t){var n=X[e.tagName];n&&n(e,t)}function M(e,t,n){j(n,1),q(e,t.class_loading),x(e,"loading"),w(t.callback_loading,e,n)}function b(e,t){var n,r,o=Z[e.tagName];o?o(e,t):(S(n=e,(r=t).data_bg,null),S(n,r.data_bg_hidpi,null))}function v(e,t){!t||0<t.loadingCount||0<t.toLoadCount||w(e.callback_finish,t)}function g(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n}function O(e){return!!e.llEvLisnrs}function T(e){if(O(e)){var t=e.llEvLisnrs;for(var n in t){var r=t[n];o=n,a=r,e.removeEventListener(o,a)}delete e.llEvLisnrs}var o,a}function N(e,t,n){delete e.llTempImage,j(n,-1),n&&--n.toLoadCount,L(e,t.class_loading),t.unobserve_completed&&A(e,n)}function D(n,r,o){var a=k(n)||n;O(a)||function(e){O(e)||(e.llEvLisnrs={});var t="VIDEO"===e.tagName?"loadeddata":"load";g(e,t,function(e){!function(e,t,n,r){var o=c(t);N(t,n,r),q(t,n.class_loaded),x(t,"loaded"),b(t,n),w(n.callback_loaded,t,r),o||v(n,r)}(0,n,r,o),T(a)}),g(e,"error",function(e){!function(e,t,n,r){var o=c(t);N(t,n,r),q(t,n.class_error),x(t,"error"),w(n.callback_error,t,r),o||v(n,r)}(0,n,r,o),T(a)})}(a)}function H(e,t,n){var r,o,a,c,i,s,l,u,d,m,f,b,v,g,p,_,y;e.llTempImage=document.createElement("IMG"),D(e,t,n),g=n,p=h(b=e,(v=t).data_bg),_=h(b,v.data_bg_hidpi),(y=Y&&_?_:p)&&(b.style.backgroundImage='url("'.concat(y,'")'),k(b).setAttribute("src",y),M(b,v,g)),a=n,d=h(r=e,(o=t).data_bg_multi),m=h(r,o.data_bg_multi_hidpi),(f=Y&&m?m:d)&&(r.style.backgroundImage=f,s=a,q(c=r,(i=o).class_applied),x(c,"applied"),S(l=c,(u=i).data_bg_multi,null),S(l,u.data_bg_multi_hidpi,null),i.unobserve_completed&&A(c,i),w(i.callback_applied,c,s))}function z(e,t,n){var r,o,a;-1<ee.indexOf(e.tagName)?(D(r=e,o=t,a=n),f(r,o),M(r,o,a)):H(e,t,n)}function R(e){return e.use_native&&"loading"in HTMLImageElement.prototype}function P(e,v,g){e.forEach(function(e){return e.isIntersecting||0<e.intersectionRatio?(d=e.target,m=e,f=v,b=g,x(d,"entered"),f.unobserve_entered&&A(d,b),w(f.callback_enter,d,m,b),void(0<=K.indexOf(p(d))||z(d,f,b))):(t=e.target,n=e,r=v,o=g,void(y(t)||(a=t,c=n,s=o,(i=r).cancel_on_exit&&"loading"===p(a)&&"IMG"===a.tagName&&(T(a),C(u=a,function(e){I(e)}),I(u),C(l=a,function(e){E(e)}),E(l),L(a,i.class_loading),j(s,-1),_(a),w(i.callback_cancel,a,c,s)),w(r.callback_exit,t,n,o))));var t,n,r,o,a,c,i,s,l,u,d,m,f,b})}function U(e){return Array.prototype.slice.call(e)}function F(e){return e.container.querySelectorAll(e.elements_selector)}function B(e){return"error"===p(e)}function W(e,t){return n=e||F(t),U(n).filter(y);var n}function e(e,t){var r,o,n,a,c=i(e);this._settings=c,this.loadingCount=0,n=c,a=this,G&&!R(n)&&(a._observer=new IntersectionObserver(function(e){P(e,n,a)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),r=c,o=this,J&&window.addEventListener("online",function(){var t,e,n;e=o,n=F(t=r),U(n).filter(B).forEach(function(e){L(e,t.class_error),_(e)}),e.update()}),this.update(t)}var J="undefined"!=typeof window,V=J&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),G=J&&"IntersectionObserver"in window,Q=J&&"classList"in document.createElement("p"),Y=J&&1<window.devicePixelRatio,$={elements_selector:".lazy",container:V||J?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},K=["loading","loaded","applied","error"],X={IMG:function(e,t){C(e,function(e){u(e),d(e,t)}),u(e),d(e,t)},IFRAME:function(e,t){n(e,"src",h(e,t.data_src))},VIDEO:function(e,t){m(e,function(e){n(e,"src",h(e,t.data_src))}),n(e,"poster",h(e,t.data_poster)),n(e,"src",h(e,t.data_src)),e.load()}},Z={IMG:function(e,t){S(e,t.data_src,null),S(e,t.data_srcset,null),S(e,t.data_sizes,null),C(e,function(e){S(e,t.data_srcset,null),S(e,t.data_sizes,null)})},IFRAME:function(e,t){S(e,t.data_src,null)},VIDEO:function(e,t){S(e,t.data_src,null),S(e,t.data_poster,null),m(e,function(e){S(e,t.data_src,null)})}},ee=["IMG","IFRAME","VIDEO"],te=["IMG","IFRAME"];return e.prototype={update:function(e){var t,n,r,o,a,c=this._settings,i=W(e,c);s(this,i.length),!V&&G?R(c)?(o=c,a=this,i.forEach(function(e){var t,n;-1!==te.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),D(t=e,n=o,a),f(t,n),b(t,n),x(t,"native"))}),s(a,0)):(n=i,(t=this._observer).disconnect(),r=t,n.forEach(function(e){r.observe(e)})):this.loadAll(i)},destroy:function(){this._observer&&this._observer.disconnect(),F(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;W(e,n).forEach(function(e){A(e,t),z(e,n,t)})}},e.load=function(e,t){var n=i(t);z(e,n)},e.resetStatus=function(e){_(e)},J&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)o(e,n);else o(e,t)}(e,window.lazyLoadOptions),e},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):(r=r||self).LazyLoad=o()},{}],8:[function(e,t,n){"use strict";var r=c(e("vanilla-lazyload")),o=c(e("svg4everybody")),a=c(e("../../components/blocks/object-image-overlay/_object-image-overlay"));function c(e){return e&&e.__esModule?e:{default:e}}e("../../components/services/object_fit_polyfill/_poly-object-fit.js"),e("../../components/blocks/background-video/_background-video.js"),e("../../components/groups/block-grid/_grid-reveal-more.js"),e("../../components/blocks/cookie-banner/_cookie-banner.js"),e("../../components/blocks/facet-box/_facet-box.js"),e("../../components/blocks/image-carousel/_image-carousel.js"),e("../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js"),e("../../components/blocks/object-details/object-details.js"),e("../../components/blocks/object-shuffler/_object-shuffler.js"),e("../../components/blocks/modal/_modal.js"),e("../../components/blocks/newsletter-signup/_newsletter-signup.js"),e("../../components/blocks/search-form/_search-form.js"),e("../../components/blocks/search-pagination/_search-pagination.js"),e("../../components/blocks/search-result/_search-result.js"),e("../../components/blocks/search-results/_search-results.js"),e("../../components/blocks/site-nav/_site-nav.js"),e("../../components/blocks/toggle-nav/_toggle-nav.js"),e("../../components/blocks/video-thumbnail/_video-thumbnail.js"),e("../../components/blocks/video-trailer/_video-trailer.js"),e("../../components/groups/facet-box-modal/_facet-box-modal.js"),e("../../components/groups/image-overlay/_image-overlay.js"),e("../../components/groups/story-box-container/_story-box-container.js"),new r.default({elements_selector:"img[data-srcset]",class_loading:"s-lazyload-blur"}),(0,a.default)(),(0,o.default)()},{"../../components/blocks/background-video/_background-video.js":9,"../../components/blocks/cookie-banner/_cookie-banner.js":10,"../../components/blocks/facet-box/_facet-box.js":11,"../../components/blocks/image-carousel/_image-carousel.js":12,"../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js":13,"../../components/blocks/modal/_modal.js":14,"../../components/blocks/newsletter-signup/_newsletter-signup.js":15,"../../components/blocks/object-details/object-details.js":16,"../../components/blocks/object-image-overlay/_object-image-overlay":17,"../../components/blocks/object-shuffler/_object-shuffler.js":18,"../../components/blocks/search-form/_search-form.js":19,"../../components/blocks/search-pagination/_search-pagination.js":20,"../../components/blocks/search-result/_search-result.js":21,"../../components/blocks/search-results/_search-results.js":22,"../../components/blocks/site-nav/_site-nav.js":23,"../../components/blocks/toggle-nav/_toggle-nav.js":24,"../../components/blocks/video-thumbnail/_video-thumbnail.js":25,"../../components/blocks/video-trailer/_video-trailer.js":26,"../../components/groups/block-grid/_grid-reveal-more.js":27,"../../components/groups/facet-box-modal/_facet-box-modal.js":28,"../../components/groups/image-overlay/_image-overlay.js":29,"../../components/groups/story-box-container/_story-box-container.js":30,"../../components/services/object_fit_polyfill/_poly-object-fit.js":31,svg4everybody:6,"vanilla-lazyload":7}],9:[function(e,t,n){"use strict";var r,o,a,c,i,s,l,u,d=document.querySelector(".js-background-video");d&&(r=document.querySelector(".js-background-video-container"),o=document.querySelector(".js-stop-button"),a=document.querySelector(".js-background-video-credit"),c=document.querySelector(".js-background-image-credit"),i=0,s=function(){a&&a.classList.remove("hidden"),c&&c.classList.add("hidden")},l=function(){a&&a.classList.add("hidden"),c&&c.classList.remove("hidden")},d.addEventListener("canplaythrough",function(){20<=i?(r.classList.remove("b-video-background--fade"),d.pause(),l()):(r.classList.add("b-video-background--fade"),i+=1,s())}),u=function(){0===r.offsetHeight?(d.pause(),l()):(d.play(),s())},window.addEventListener("load",function(){u()}),window.addEventListener("resize",function(){u()}),o&&(o.onclick=function(){d.pause(),r.classList.remove("b-video-background--fade"),d.paused&&(o.classList.add("hidden"),l())}))},{}],10:[function(e,t,n){"use strict";var r,o=document.querySelector(".js-cookie-banner");o&&(r=document.querySelector(".js-cookie-banner-close"),window.onload=function(){o.classList.remove("b-cookie-banner--hidden")},r.onclick=function(e){e.preventDefault(),o.classList.add("b-cookie-banner--hidden")})},{}],11:[function(e,t,n){"use strict";function m(e,n,t,r,o){var a=document.createElement("LI");a.className="b-facet-box__facet-term-toggle",a.innerHTML='<button class="b-facet-box__facet-term-toggle-button"><div class="b-facet-box__facet-term-toggle-checkbox"><svg class="b-facet-box__facet-term-toggle-tick" aria-hidden="true" role="img"><use xlink:href="/svg/vamicons.svg#tick"></use></svg></div><span id="'+n.replace(" ","")+"-"+t.replace(" ","")+'-checkbox-label" class="b-facet-box__facet-term-toggle-text">'+t+'</span><span class="b-facet-box__facet-term-toggle-result">('+o+")</span></button>";var c=a.querySelector("button");c.dataset.id=n.replace(" ","")+"-"+r,c.dataset.facet=e,c.dataset.paramName=n,c.dataset.term=t,c.dataset.value=r,c.dataset.count=o,c.setAttribute("aria-labelledby",n.replace(" ","")+"-"+t.replace(" ","")+"-checkbox-label"),c.setAttribute("role","switch"),c.setAttribute("aria-checked","false");var i=document.createElement("INPUT");return i.type="checkbox",i.className="b-facet-box__hidden-input",i.name=n,i.value=r,i.id=n+"="+r,i.setAttribute("aria-hidden","true"),a.addEventListener("termToggle",function(e){var t=document.querySelector('input[id="'+n+"="+r+'"]');t?(t.click(),t.remove()):(document.querySelector("#vam-etc-search").appendChild(i),document.querySelector('input[id="'+n+"="+r+'"]').checked=!0),e.target.querySelector("."+l).classList.contains(l+"--active")?e.target.setAttribute("aria-checked","false"):e.target.setAttribute("aria-checked","true"),e.target.querySelector("."+l).classList.toggle(l+"--active"),e.detail.refreshing_page||document.querySelector(".b-facet-box").dispatchEvent(new Event("boxChecked",{bubbles:!0}))}),a}function s(e){var u=document.querySelector(".b-facet-box__facet-container"),d=Array.from(e).reduce(function(e,t){var n=t.split("-")[0],r=t.split("-")[1];return e[n]?e[n].push(r):e[n]=[r],e},{});Object.values(g).forEach(function(e){var t,n,o=e.facet,r=e.terms,a=e.paramName,c=e.index,i=document.createElement("DIV");i.className="b-facet-box__facet",i.innerHTML=(t=o,n=5<r.length,'<button class="b-facet-box__facet-text" data-facet-text="'+t+'">'+t+'</button><ul data-facet="'+t+'" class="b-facet-box__facet-term-container">'+(n?'<li class="b-facet-box__term-more-container"><button data-facet="'+t+'" class="b-facet-box__term-more" aria-label="see more terms of facet '+t+'">See more</button></li>':"")+"</ul>"),i.setAttribute("aria-haspopup","true"),i.setAttribute("aria-expanded","false"),i.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains(f)&&(e.target.parentNode.setAttribute("aria-expanded",String(!("true"===e.target.parentNode.getAttribute("aria-expanded")))),e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+b).classList.toggle(b+"--active"))});var s=r.map(function(e){return e.value}),l=d[a]&&d[a].reduce(function(e,t){var n=s.indexOf(t);return n<e?e:n},5)||0;l=(l=5*Math.ceil(l/5))>r.length?r.length:l||5,r.slice(c,l).forEach(function(e){var t=e.term,n=e.count,r=e.value;i.querySelector("."+b).appendChild(m(o,a,t,r,n))}),g[o].index+=l,5<r.length&&(g[o].index<r.length?(i.querySelector("."+b).appendChild(i.querySelector(".b-facet-box__term-more-container")),i.querySelector("."+b+" .b-facet-box__term-more").onclick=function(e){e.preventDefault(),function(e){e.preventDefault();var t=e.target,o=e.target.parentNode.parentNode,n=g[e.target.dataset.facet],r=n.terms,a=n.index,c=n.facet,i=n.paramName;e.target.remove(),r.slice(a,a+5).forEach(function(e){var t=e.term,n=e.count,r=e.value;o.appendChild(m(c,i,t,r,n))}),g[c].index+=5,g[c].index!==r.length&&o.appendChild(t),Array.from(o.querySelectorAll(".b-facet-box__facet-term-toggle-button"))[g[c].index-5].focus()}(e)}):i.querySelector("."+b).appendChild(i.querySelector(".b-facet-box__term-more-container")).remove()),u.appendChild(i)})}function u(e,t){return new CustomEvent("termToggle",{detail:e,bubbles:!(1<arguments.length&&void 0!==t)||t})}function r(){v.addEventListener("termToggle",function(e){var t,n,r,o,a,c,i,s,l;e.stopPropagation(),t=e.detail,c=t.id,i=t.facet,s=t.term,l=t.paramName,c&&((n=Array.from(document.querySelectorAll("button[data-id='"+c+"']")).filter(function(e){return!e.classList.contains("b-facet-box__facet-term-toggle-button")})).length?(n.forEach(function(e){return e.remove()}),document.querySelector(".b-search-form__facets").children.length||document.querySelector(".b-search-form__facet-pane").classList.remove("b-search-form__facet-pane--active")):(r=function(){Array.from(document.querySelectorAll("button[data-id='"+c+"']")).forEach(function(e){return e.dispatchEvent(u({id:c,facet:i,term:s,paramName:l}))})},(o=document.createElement("button")).dataset.id=c,o.className="b-facet-box__term",o.innerHTML='<span class="b-facet-box__term-text">'+i+": "+s+"</span>",o.onclick=function(e){e.preventDefault(),r()},v.appendChild(o),(a=o.cloneNode(!0)).onclick=function(e){e.preventDefault(),r()},a.classList.add("b-facet-box__term--form"),document.querySelector(".b-search-form__facets")&&document.querySelector(".b-search-form__facets").appendChild(a),document.querySelector(".b-search-form__facet-pane--active")||document.querySelector(".b-search-form__facet-pane").classList.add("b-search-form__facet-pane--active")),window.dispatchEvent(new Event("resize")))}),document.querySelector(".b-facet-box").addEventListener("newFacets",function(t){Object.keys(g).forEach(function(e){return delete g[e]});var e=t.detail,n=e.facets,r=e.activeFacets,o=document.querySelector('input[name="before_year"]')?document.querySelector('input[name="before_year"]').value:"",a=document.querySelector('input[name="after_year"]')?document.querySelector('input[name="after_year"]').value:"";n.forEach(function(e){var t,n,r;Object.assign(g,(t={},n=e.facet,r=Object.assign(e,{index:0}),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}),Array.from(document.querySelectorAll(".b-facet-box__hidden-input")).forEach(function(e){return e.remove()});var c=document.querySelector(".b-facet-box__facet-container");c.innerHTML="",v.innerHTML="",s(r);var i=document.createElement("DIV");i.className="b-facet-box__facet b-facet-box__facet-date",i.innerHTML='<div class="b-facet-box__facet-text">Dates</div><div class="b-facet-box__facet-term-container b-facet-box__facet-date-container"><div class="b-facet-box__facet-date-container-start"><label class="b-facet-box__facet-date-label">From year:</label><input class="b-facet-box__facet-date-input" placeholder="Year" type="number" name="after_year"></div><div class="b-facet-box__facet-date-container-end"><label class="b-facet-box__facet-date-label">To year:</label><input class="b-facet-box__facet-date-input" placeholder="Year" type="number" name="before_year"></div><div class="b-facet-box__facet-date-container-button"><label class="b-facet-box__facet-date-label">&nbsp;</label><button class="b-facet-box__facet-date-button"><svg class="b-facet-box__facet-date-button-icon" aria-label="apply-date-facet" role="img"><use xlink:href="/svg/vamicons.svg#search"></use></svg></button></div></div>',i.addEventListener("click",function(e){t.preventDefault(),e.target.classList.contains(f)&&(e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+b).classList.toggle(b+"--active"))}),i.querySelector('input[name="before_year"]').value=o,i.querySelector('input[name="after_year"]').value=a,c.append(i),r&&Array.from(r).forEach(function(e){var t=document.querySelector("button[data-id='"+e+"'");t&&(t.dispatchEvent(u(Object.assign(t.dataset,{refreshing_page:!0}))),document.querySelector("."+d).dispatchEvent(u(t.dataset)))}),window.dispatchEvent(new Event("resize"))},!0),document.onclick=function(e){var t;e.target.classList.contains("b-facet-box__close-button")&&(e.preventDefault(),e.target.dispatchEvent(new Event("closeFacetOverlay",{bubbles:!0}))),e.target.closest("."+a+"-button")&&(e.preventDefault(),t=e.target.closest("."+a+"-button"),v.dispatchEvent(u(t.dataset,!1)),t.dispatchEvent(u(t.dataset)))}}var o="b-facet-box__facet",a=o+"-term-toggle",l=a+"-tick",f=o+"-text",b=o+"-term-container",d="b-facet-box__term-list",v=document.querySelector("."+d),g={};document.querySelector(".b-facet-box")&&(r(),document.querySelector(".b-facet-box__modal-button-open")&&document.querySelectorAll(".b-facet-box__modal-button-open").forEach(function(e){return e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".b-facet-box").classList.add("b-facet-box--active")})}),document.querySelector(".b-facet-box__close-button")&&document.querySelector(".b-facet-box__close-button").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".b-facet-box").classList.remove("b-facet-box--active")}),window.onresize=function(){var t,n,r,e=Array.from(document.querySelectorAll(".b-facet-box__term.b-facet-box__term--form"));document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross")&&(499<window.innerWidth&&window.innerWidth<992?(t=document.querySelector(".b-search-form__facets").offsetWidth,n=0,r=1,e.forEach(function(e){(n+=e.offsetWidth)<t&&(r+=1)}),0<e.length-r?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML="+"+(e.length-r)):window.innerWidth<500?(0<e.length?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML=e.length-1+" filter"+(1<e.length-1?"s":"")+" applied"):document.querySelector(".b-search-form__facets-mobile").style.display="none")})},{}],12:[function(e,t,n){"use strict";var c,i,s,o,a,l,r,u,d,m,f=document.querySelector(".b-image-carousel"),b=document.querySelector(".b-image-carousel__conceal-right"),v=document.querySelector(".b-image-carousel__conceal-left"),g=Array.from(document.querySelectorAll(".b-image-carousel__prev")),p=Array.from(document.querySelectorAll(".b-image-carousel__next")),_=document.querySelector(".b-image-overlay-detail__total-number-of-images"),y=document.querySelector(".b-image-overlay-detail__current-image"),h=document.querySelectorAll(".b-image-overlay-detail__navigation-container button"),S=document.querySelectorAll(".b-image-carousel__navigation-container button");f&&(c=document.querySelector(".b-image-overlay__image"),i=(f?JSON.parse(f.dataset.images):{}).images,s=i.map(function(e){var t=e.src,n=e.alt,r=new Image;return r.src=t,r.alt=n,r.className="b-image-overlay__image b-image-overlay__image--active",r}),o=function(e){f.dataset.index=e},a=i.map(function(e){var t=e.thumb,n=e.alt,r=new Image;return r.src=t,r.alt="thumbnail for "+n,r.className="b-image-carousel__image-preview",r}),l=function(r){Array.from(document.querySelectorAll(".b-image-carousel__image-preview-container")).forEach(function(e,t){var n=parseInt(f.dataset.viewIndex,10)+t;e.classList.remove("b-image-carousel__image-preview-container--selected"),n===parseInt(f.dataset.index,10)&&(e.classList.add("b-image-carousel__image-preview-container--selected"),r&&e.focus()),e.setAttribute("aria-label","view "+i[n].alt),e.firstElementChild&&e.firstElementChild.remove(),e.appendChild(a[n]),e.onclick=function(){o(n)}})},new MutationObserver(function(e){var t,n,r,o,a;e.filter(function(e){return"data-view-index"===e.attributeName}).length&&(t=parseInt(f.dataset.viewIndex,10),v.style.display=0<t?"block":"none",b.style.display=t+document.querySelectorAll(".b-image-carousel__image-preview-container").length>=i.length?"none":"block"),e.filter(function(e){return"data-index"===e.attributeName}).length&&(n=parseInt(f.dataset.index,10),a=n,f.dataset.viewIndex=i.length-Math.max(0,a-Math.floor(document.querySelectorAll(".b-image-carousel__image-preview-container").length/2))<document.querySelectorAll(".b-image-carousel__image-preview-container").length?i.length-document.querySelectorAll(".b-image-carousel__image-preview-container").length:Math.max(0,a-Math.floor(document.querySelectorAll(".b-image-carousel__image-preview-container").length/2)),r=s[n],o=document.querySelector(".b-image-overlay__figure"),c.remove(),o.appendChild(r),c=r,l(!0),991<window.innerWidth?(0<n?S[0].removeAttribute("disabled"):S[0].setAttribute("disabled","true"),n===i.length-1?S[1].setAttribute("disabled","true"):S[1].removeAttribute("disabled")):(0<n?h[0].removeAttribute("disabled"):h[0].setAttribute("disabled","true"),n===i.length-1?h[1].setAttribute("disabled","true"):h[1].removeAttribute("disabled")),y.innerHTML=""+(n+1))}).observe(f,{attributes:!0}),document.addEventListener("keydown",function(){var e,t;37!==event.keyCode||0<=(e=parseInt(f.dataset.index,10)-1)&&o(e),39!==event.keyCode||(t=parseInt(f.dataset.index,10)+1)<i.length&&o(t)}),r=function(e){var t=0<arguments.length&&void 0!==e&&e;if(_.innerHTML=i.length,f.dataset.index||(f.dataset.index=0),f.dataset.viewIndex||(f.dataset.viewIndex=0),f){for(var n=0;n<Math.max(0,document.querySelectorAll(".b-image-carousel__image-preview-container").length-i.length);n+=1)document.querySelector(".b-image-carousel__image-preview-container").remove();t?o(parseInt(f.dataset.index,10)):(f.dataset.viewIndex=0,f.dataset.index=0),l()}},(u=document.createElement("BUTTON")).className="b-image-carousel__image-preview-container",u.innerHTML='<div class="b-image-carousel__image-preview"></div>',d=function(){if(window.innerWidth<1200&&3<document.querySelectorAll(".b-image-carousel__image-preview-container").length){document.querySelector(".b-image-carousel__image-carousel").innerHTML="";for(var e=0;e<3&&e!==i.length;e+=1)document.querySelector(".b-image-carousel__image-carousel").appendChild(u.cloneNode(!0));r(!0)}if(1199<window.innerWidth&&document.querySelectorAll(".b-image-carousel__image-preview-container").length<5&&i.length!==document.querySelectorAll(".b-image-carousel__image-preview-container").length){document.querySelector(".b-image-carousel__image-carousel").innerHTML="";for(var t=0;t<5&&t!==i.length;t+=1)document.querySelector(".b-image-carousel__image-carousel").appendChild(u.cloneNode(!0));r(!0)}},m=function(){window.innerWidth<992&&(h.forEach(function(e){e.removeAttribute("disabled")}),S.forEach(function(e){e.setAttribute("disabled","true")})),991<window.innerWidth&&(h.forEach(function(e){e.setAttribute("disabled","true")}),S.forEach(function(e){e.removeAttribute("disabled")}))},b.onclick=function(){var e=parseInt(f.dataset.viewIndex,10)+1;f.dataset.viewIndex=e,l()},v.onclick=function(){var e=parseInt(f.dataset.viewIndex,10)-1;f.dataset.viewIndex=e,l()},g.forEach(function(e){e.onclick=function(){var e=parseInt(f.dataset.index,10);o(e-1)}}),p.forEach(function(e){e.onclick=function(){var e=parseInt(f.dataset.index,10);o(e+1)}}),window.onresize=function(){d(),m(),f.dataset.index=f.dataset.index},d(),m(),r(),f.dataset.index=f.dataset.index)},{}],13:[function(e,t,n){"use strict";var i="b-image-overlay-license-modal",r=["__download-icon-link","__download-link-text"],o="__download-button",a="__contact-button",s="__image-modal",c="__contact-modal-open",l="__agree-to-terms",u="__modal-download-content",d="__modal-contact-content",m="__checkbox-container",f="__agree-checkbox",b="__agree-to-terms-reminder",v="--active",g="--warning",p=["__icon-link-container","__checkmark","__image-icon-link",l];window.addEventListener("keydown",function(e){var t,n,r,o,a=document.querySelector("."+i+s+".b-modal--active"),c=document.querySelector("."+i+u+"."+i+u+v)||document.querySelector("."+i+d+"."+i+d+v);return a&&9===e.keyCode&&(n=(t=c.querySelectorAll("button"))[0],r=t[t.length-1],o=e.shiftKey,t.length&&(o&&document.activeElement===n?(r.focus(),e.preventDefault()):o||document.activeElement!==r||(n.focus(),e.preventDefault()))),!a||27!==e.keyCode||(document.querySelector("."+i+s).classList.remove("b-modal--active"),e.preventDefault(),e.stopPropagation(),!1)}),document.querySelector("."+i+o)&&(document.querySelector("."+i+o).onclick=function(){window.setTimeout(function(){document.querySelector(".b-image-overlay-license-modal__agree-to-terms").focus()},10),document.querySelector(".b-image-overlay").classList.add("b-image-overlay--unfocus"),document.querySelector("."+i+s).dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),document.querySelector("."+i+s).classList.add("b-modal--active"),document.querySelector("."+i+u).classList.add(i+u+v),document.querySelector("."+i+d).classList.remove(i+d+v)}),document.querySelector("."+i+a)&&(document.querySelector("."+i+a).onclick=function(){window.setTimeout(function(){document.querySelector(".b-modal__description-license-contact").focus()},10),document.querySelector(".b-image-overlay").classList.add("b-image-overlay--unfocus"),document.querySelector("."+i+s).dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),document.querySelector("."+i+s).classList.add("b-modal--active"),document.querySelector("."+i+u).classList.remove(i+u+v),document.querySelector("."+i+d).classList.add(i+d+v)}),document.querySelector("."+i+c)&&(document.querySelector("."+i+c).onclick=function(){window.setTimeout(function(){document.querySelector(".b-modal__description-license-contact").focus()},10),document.querySelector("."+i+u).classList.remove(i+u+v),document.querySelector("."+i+d).classList.add(i+d+v)}),document.querySelector("."+i+m)&&(document.querySelector("."+i+m).onclick=function(e){e.target.closest("."+i+l)===document.querySelector("."+i+l)&&(document.querySelector("."+i+f).checked=!document.querySelector("."+i+f).checked,document.querySelector("."+i+l).classList.remove(i+l+g),document.querySelector("."+i+f).checked?(document.querySelector("."+i+b).style.display="none",p.forEach(function(e){return document.querySelector("."+i+e)&&document.querySelector("."+i+e).classList.add(i+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.add("b-icon-link--active")):(p.forEach(function(e){return document.querySelector("."+i+e)&&document.querySelector("."+i+e).classList.remove(i+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.remove("b-icon-link--active")))}),r.forEach(function(e){document.querySelector("."+i+e)&&(document.querySelector("."+i+e).onclick=function(){document.querySelector("."+i+f).checked||(document.querySelector("."+i+b).style.display="block",document.querySelector("."+i+l).classList.add(i+l+g))})})},{}],14:[function(e,t,n){"use strict";var r,o=e("browser-cookies"),a=(r=o)&&r.__esModule?r:{default:r};var c=document.querySelectorAll(".js-modal");function i(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"myClick",category:e,action:t})}Array.from(c,function(t){var n=t.dataset.modalCampaign;return t.dataset.modalOnceOnly&&a.default.get(n)||t.dataset.notOnLoad||(document.body.appendChild(t),t.classList.add("b-modal--active"),i(n,"pop-up displayed")),t.addEventListener("click",function(e){t.dataset.modalOnceOnly&&a.default.set(n,"seen",{domain:t.dataset.modalDomain,expires:365}),e.target!==t&&(Array.from(e.target.classList).find(function(e){return"js-modal-action"===e})||e.target.closest(".js-modal-action")?i(n,"clicked: "+e.target.textContent):(i(n,"pop-up dismissed"),t.dispatchEvent(new CustomEvent("jsModalClosed",{bubbles:!0})),t.classList.remove("b-modal--active")))}),!0})},{"browser-cookies":1}],15:[function(e,t,n){"use strict";Array.from(document.querySelectorAll(".js-newsletter_form"),function(i){return i.addEventListener("submit",function(e){e.preventDefault();var t,n=i.querySelector(".js-emailValidation"),r=i.querySelector(".js-newsletter__descriptor"),o=i.querySelector(".js-newsletter__submit"),a=new XMLHttpRequest,c="";t=n.value,/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)?(a||i.submit(),Array.from(i.querySelectorAll("input"),function(e){return c+=e.name+"="+encodeURIComponent(e.value)+"&",!0}),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?(o.value="Thank you!",r.innerHTML="A confirmation email will be sent to this address shortly&hellip;",i.classList.remove("invalid"),i.classList.add("sent")):i.submit())},a.open("POST",i.action),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(c)):(r.innerHTML="That doesn't look like an email address&hellip;",i.classList.add("invalid"))}),!0})},{}],16:[function(e,t,n){"use strict";var r=document.createElement("DIV"),o=["etc-details__cell-concealer","etc-details__cell-revealer"],a=['<span class="etc-details__cell-concealer-text">Read More</span><button class="etc-details__cell-concealer-button">+</button>','<span class="etc-details__cell-concealer-text">Read Less</span><button class="etc-details__cell-concealer-button">-</button>'];function c(e){var t="etc-details__cell-free-content--hidden",n=e.target.parentElement.querySelector(".etc-details__cell-free-content"),r=n.classList.contains(t);e.target.innerHTML=a[r?1:0],e.target.className=o[r?1:0],r?n.classList.remove(t):n.classList.add(t)}r.className=o[0],r.innerHTML=a[0],Array.from(document.querySelectorAll(".etc-details__cell-free")).forEach(function(e){var t;200<e.offsetHeight&&(e.querySelector(".etc-details__cell-free-content").classList.add("etc-details__cell-free-content--hidden"),(t=r.cloneNode(!0)).onclick=c,e.appendChild(t))})},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var r,p,_=Array.from(document.querySelectorAll(".js-object-image-overlay-item"));_.length&&(r=document.querySelector(".b-object-image-overlay")||document.createElement("div"),document.body.appendChild(r),r.classList.add("b-object-image-overlay"),r.setAttribute("tabindex",0),r.innerHTML='<a class="b-object-image-overlay__dismiss" title="Close" aria-label="Close"></a><div class="b-object-image-overlay__items"></div>',p=r.querySelector(".b-object-image-overlay__items"),r.addItem=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=_[e]||_[0],r=n.dataset.objectImageOverlay?JSON.parse(n.dataset.objectImageOverlay):null,o=r&&r.museumNumber?'Museum number: <span itemprop="identifier">'+r.museumNumber+"</span>":"",a=r&&r.copyright?'<br/><span itemprop="copyrightHolder">'+r.copyright+"</span>":"",c=o||a?'<div class="b-object-image-overlay__numbercopyright">'+o+""+a+"</div>":"",i=r&&r.onDisplay?'<div class="b-object-image-overlay__location-status"><svg role="img" viewBox="0 0 52 52"><path d="M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z" fill="currentColor"/></svg>On display</div>':"",s="";r&&r.onDisplay?s=(s=r.displayOverride)||(r.locationSite?'<div class="b-object-image-overlay__location-site">'+r.locationSite+"</div>":"")+(r.locationRoom?r.locationRoom:""):r&&null!==r.onDisplay&&!r.onDisplay&&(s=r.storageOverride||"This object is currently not on display");var l=r&&r.visitUrl?'<a class="b-object-image-overlay__visit" href="'+r.visitUrl+'" data-tracking-oic="visit the object">Find out how to visit this object</a>':"",u=s||l?'<div class="b-object-image-overlay__location">'+i+'<div class="b-object-image-overlay__location-copy">'+s+"</div>"+l+"</div>":"",d=n.querySelector("a").getAttribute("href"),m=1<d.length?'<br/><a class="b-object-image-overlay__cta b-object-image-overlay__cta--screen" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",f=1<d.length?'<a class="b-object-image-overlay__cta b-object-image-overlay__cta--mobile" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",b=document.createElement("div");b.classList.add("b-object-image-overlay__item"),b.innerHTML+='<div class="b-object-image-overlay__content"><figure class="b-object-image-overlay__figure"><img class="b-object-image-overlay__image"itemprop="contentUrl"alt="'+n.querySelector("img").alt+'"sizes="(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px"srcset="'+n.querySelector("img").srcset+'"src="'+n.querySelector("img").src+'"><figcaption class="b-object-image-overlay__figcaption">'+c+'<div class="b-object-image-overlay__prevnext"><a class="b-object-image-overlay__prev b-object-image-overlay__prev--disabled" href="#" title="Previous" aria-label="Previous" data-tracking-oic="previous object"><svg role="img" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z" fill="currentColor"/></svg></a><a class="b-object-image-overlay__next b-object-image-overlay__next--disabled" href="#" title="Next" aria-label="Next" data-tracking-oic="next object"><svg role="img" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z" fill="currentColor"/></svg></a></div></figcaption></figure><div class="b-object-image-overlay__details"><div class="b-object-image-overlay__caption">'+n.querySelector("figcaption").textContent+""+m+"</div>"+u+""+f+"</div></div>",t?p.insertBefore(b,p.firstElementChild):p.appendChild(b);var v=b.querySelector(".b-object-image-overlay__prev"),g=b.querySelector(".b-object-image-overlay__next");0<e&&v.classList.add("b-object-image-overlay__prev--enabled"),e<_.length-1&&g.classList.add("b-object-image-overlay__next--enabled")},r.getIndex=function(t){return _.findIndex(function(e){return e===t})},r.clipItem=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?p.lastElementChild.remove():p.firstElementChild.remove()},r.advance=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(!e&&r._index<_.length-1||e&&0<r._index)&&(r.clipItem(e),r.addItem(r._index+2*(e?-1:1),e),r._index+=e?-1:1,r.track(r._index))},r.track=function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"OIC",object:_[e].querySelector("figcaption").textContent.trim(),museumNumber:JSON.parse(_[e].dataset.objectImageOverlay).museumNumber})},document.addEventListener("click",function(e){var t,n;e.target.closest(".js-object-image-overlay-item")&&(e.preventDefault(),t=e.target.closest(".js-object-image-overlay-item"),r._index=r.getIndex(t),r.addItem(r._index),r.classList.add("b-object-image-overlay--active"),r.addItem(r._index+1),r.addItem(r._index-1,!0),r.focus(),r.track(r._index),n=function(e){"ArrowLeft"===e.key?(e.preventDefault(),r.advance(!0)):"ArrowRight"===e.key&&(e.preventDefault(),r.advance())},document.addEventListener("keydown",n,!1),r.onclick=function(e){e.target.matches(".b-object-image-overlay__item, .b-object-image-overlay__dismiss")?(e.preventDefault(),r.classList.remove("b-object-image-overlay--active"),p.innerHTML="",r.onclick=null,document.removeEventListener("keydown",n,!1)):e.target.closest(".b-object-image-overlay__next--enabled")?(e.preventDefault(),r.advance()):e.target.closest(".b-object-image-overlay__prev--enabled")&&(e.preventDefault(),r.advance(!0))})},!1))}},{}],18:[function(e,t,n){"use strict";var d,r,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};d={init:function(t){for(var r=JSON.parse(t.dataset.objectShuffler),e=t.querySelector(".js-object-shuffler__deck"),o=e.firstElementChild.firstElementChild,n=o.firstElementChild,a=d.setSize(o),c=parseFloat(window.getComputedStyle(o).getPropertyValue("transition-duration")),i=parseFloat(window.getComputedStyle(n).getPropertyValue("transition-duration")),s=t.querySelector(".js-object-shuffler__tabs"),l=1;l<r.length;l+=1){e.parentNode.appendChild(e.cloneNode(!0)).removeAttribute("active")}var u=0;Array.from(t.querySelectorAll(".js-object-shuffler__deck"),function(n){n._props={slideSize:a,itemsData:r[u].data||[],itemsDataFeed:r[u].feed,itemsIndex:0,transitionDurationItem:c,transitionDurationImg:i};var e=s.appendChild(document.createElement("a"));return e.className="b-object-shuffler__tab-link",e.innerHTML=r[u].title,e.title="filter by "+r[u].title,0===u&&e.setAttribute("active",!0),e.onclick=function(){s.querySelector("[active]").removeAttribute("active"),e.setAttribute("active",!0),t.querySelector(".js-object-shuffler__deck[active]").removeAttribute("active"),n.setAttribute("active",!0)},d.getData(n).then(function(){for(var e=n.firstElementChild,t=1;t<a;t+=1)e.appendChild(o.cloneNode(!0));e.removeAttribute("active"),d.newSlide(n).setAttribute("active",!0),d.newSlide(n)}),u+=1,!0}),document.addEventListener("click",function(e){e.target.closest(".js-object-shuffler__more")&&(e.preventDefault(),d.nextSlide(t.querySelector(".js-object-shuffler__deck[active]")))},!1)},setSize:function(e){return 2*Math.floor(e.parentNode.getBoundingClientRect().width/e.getBoundingClientRect().width)},getData:function(r){if(r._props.itemsData.length<r._props.itemsIndex+2*r._props.slideSize){var e=r._props.itemsDataFeed.replace(/offset=[^&]+/,"offset="+r._props.itemsData.length);return fetch(e).then(function(e){return e.json()}).then(function(e){Array.from(e.records,function(e){var t="https://media.vam.ac.uk/media/thira/collection_images/"+e._primaryImageId.substring(0,6)+"/"+e._primaryImageId+".jpg",n=e._primaryTitle||"untitled "+e.objectType;return r._props.itemsData.push({img:{srcset:t+" 320w, "+t+" 640w, "+t+" 960w",src:t,alt:n},title:n,href:"http://vam-etc-test.azureedge.net/item/"+e.systemNumber+"/index.html"}),!0})}).catch(function(e){return console.error(e.name,e.message)})}return Promise.resolve(!0)},newSlide:function(m){var e=m.appendChild(m.firstElementChild.cloneNode(!0));return Array.from(e.children,function(e){var t=m._props.itemsIndex%m._props.itemsData.length,n=e.querySelector("img");e.title=m._props.itemsData[t].title,e.href=m._props.itemsData[t].href,n.srcset=m._props.itemsData[t].img.srcset,n.src=m._props.itemsData[t].img.src,n.alt=m._props.itemsData[t].img.alt;var r=.1*Math.random(),o=1+(0<m._props.itemsIndex%2?1:-1)*r,a=m._props.itemsIndex%m._props.slideSize,c=a>m._props.slideSize/2-1?-1:1,i=.5<Math.random()?1:-1;0==a||a==m._props.slideSize/2?i=1:a!=m._props.slideSize/2-1&&a!=m._props.slideSize-1||(i=-1);var s=a%(m._props.slideSize/2)*(100/(m._props.slideSize/2)),l=a<m._props.slideSize/2?0:50,u=i*r*34*1,d=c*r*74;return e.style.width="auto",e.style.height=50*o+"%",e.style.position="absolute",e.style.left=s+u+"%",e.style.top=l+d+"%",e.style.transitionDuration=m._props.transitionDurationItem*o*o+"s",n.style.transitionDuration=m._props.transitionDurationImg*o*o+"s",m._props.itemsIndex+=1,!0}),d.getData(m),e},nextSlide:function(e){d.newSlide(e),e.firstElementChild.remove();var t=e.querySelector("[active]");t.removeAttribute("active"),t.nextSibling.setAttribute("active",!0)}},r=null,"IntersectionObserver"in window&&(r=new IntersectionObserver(function(e){var t,n=o(e,1)[0];0<n.intersectionRatio&&(t=n.target,r.unobserve(t),t.initialised||(d.init(t),t.initialised=!0))},{rootMargin:"0px 0px 1000px 0px"})),document.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".js-object-shuffler"),function(t){try{r.observe(t)}catch(e){d.init(t)}return!0})},!0)},{}],19:[function(e,t,n){"use strict";function s(e){window.dataLayer.push({event:e.target.tracking.event,eventCategory:e.target.tracking.eventCategory,eventAction:e.target.tracking.eventAction,eventLabel:e.target.tracking.eventLabel})}Array.from(document.querySelectorAll(".js-search-site, .js-search-etc-gateway"),function(o){var e,t,n,r,a,c,i=o.querySelector(".b-search-form__input");return o.classList.contains("js-search-site")?(o._props={type:"siteSearch"},e=o.querySelector(".b-search-form__underscore"),t=o.querySelector(".b-search-form__submit"),n=o.querySelector(".b-search-form__clear"),r=function(){e.innerHTML=i.value.replace(/\s/g,"&nbsp;")},i.value.length?n.classList.remove("b-search-form__clear--hidden"):t.classList.add("b-search-form__submit--hidden"),i.focus(),r(),i.addEventListener("input",function(){r(),n.classList.add("b-search-form__clear--hidden"),i.value.length?t.classList.remove("b-search-form__submit--hidden"):t.classList.add("b-search-form__submit--hidden")},!1),n.addEventListener("click",function(){n.classList.add("b-search-form__clear--hidden"),i.value="",r()},!1)):o.classList.contains("js-search-etc-gateway")&&(o._props={type:"etcGatewaySearch",suggestionsTop:"//localhost/vam-fractal/src/assets/etc-search-suggestions-top",suggestionsAPI:"http://51.11.136.250/api/v2/sayt/search"},a=o.querySelector(".b-search-form__suggestions"),c=function(e,t){var n,r,o=document.createElement("a");a.childElementCount<10&&(n=t.uniqueID,r=t.displayName||t.displayTerm,o.className="b-search-form__suggestion",o.href=n,o.tabindex=0,o.role="option",o.innerHTML='<div class="b-search-form__suggestion-type">'+t.index+"</div>"+r+"",o.tracking={event:"autosuggest EtC landing",eventCategory:"search - autosuggest - "+t.index,eventAction:e,eventLabel:n},o.addEventListener("click",s),a.appendChild(o))},function(n){n._props.storedSuggestions=JSON.parse(sessionStorage.getItem("storedSuggestions_"+n._props.type));var r=new Date;return!n._props.storedSuggestions||r.getTime()>n._props.storedSuggestions.expires?fetch(n._props.suggestionsTop,{cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){var t={expires:r.getTime()+9e5,data:e};n._props.storedSuggestions=t,sessionStorage.setItem("storedSuggestions_"+n._props.type,JSON.stringify(n._props.storedSuggestions))}).catch(function(e){return console.error(e.name,e.message)}):Promise.resolve(!0)}(o).then(function(){var r=null;i.addEventListener("input",function(){var e,t,n;o.removeAttribute("suggesting"),a.innerHTML="",i.value.length&&(e=i.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t="(^|\\|)",2<i.value.length&&(t="\\b"),n=new RegExp(""+t+e+".*","i"),Array.from(o._props.storedSuggestions.data,function(e){return Array.from(e.suggestions,function(e){var t=e.displayName;return n.test(t)&&(o.setAttribute("suggesting",!0),c(i.value,e)),!0}),!0}),4<i.value.length&&(r&&r.abort(),r=new window.AbortController,setTimeout(function(){return r.abort()},500),fetch(o._props.suggestionsAPI+"?q="+encodeURI(e)+"&limit=10",{signal:r.signal}).then(function(e){return e.json()}).then(function(e){0<e.info.totalrecords&&(o.setAttribute("suggesting",!0),Array.from(e.records,function(e){return c(i.value,e),!0}))}).catch(function(e){return console.error(e.name,e.message)})))},!1)}).catch(function(e){return console.error(e.name,e.message)}),Array.from(o.querySelectorAll(".b-search-form__filter-toggle"),function(e){return e.addEventListener("click",function(){e.closest(".b-search-form__filter-toggle-set").toggleAttribute("active")},!1),!0})),!0})},{}],20:[function(e,t,n){"use strict";var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function d(e){return Object.entries(e).reduce(function(e,t){var n,r,o,a=s(t,2),c=a[0],i=a[1];return Object.assign(e,(n={},r=c,o=parseInt(i,10),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))},{})}function m(e,t){e.dataset.pageIndex=t,e.value=t,e.innerHTML=""+(t+1<10?0:"")+t,e.ariaLabel="Go to page "+t}function f(){var e,t,n,r=d(b.dataset),o=r.pageIndex,a=r.offset,c=r.totalCount;c<a?document.querySelector(".b-search-pagination__display-counter").innerHTML="":(t=a*(e=o-1)+1,n=a*e+a,document.querySelector(".b-search-pagination__display-counter").innerHTML=""+t+" - "+(c<n?c:n)+" of "+c+"")}var b=document.querySelector(".b-search-pagination"),v=Array.from(document.querySelectorAll(".b-search-pagination__page-button")),g=Array.from(document.querySelectorAll(".b-search-pagination__page-button-seperator")),p=document.querySelector(".b-search-pagination__prev-link"),_=document.querySelector(".b-search-pagination__next-link"),y=document.querySelector(".b-search-pagination__page-button-seperator-start"),h=document.querySelector(".b-search-pagination__page-button-seperator-last"),S="b-search-pagination__page-button--current";b&&(b.addEventListener("click",function(e){var t=e.target,n=d(t.dataset).pageIndex;return(t.closest(".b-search-pagination__page-button")||t.closest(".b-search-pagination__prev-link")||t.closest(".b-search-pagination__next-link"))&&!t.getAttribute("disabled")&&(b.dataset.pageIndex=n),!1}),new MutationObserver(function(e){var n,t,r,o,a,c,i,s,l,u;e.filter(function(e){return"data-pages"===e.attributeName}).length&&(n=d(b.dataset).pages,v.forEach(function(e,t){n-1<t?e.setAttribute("disabled",!0):e.removeAttribute("disabled"),m(e,t+1)}),g.forEach(function(e){e.setAttribute("disabled",!0)}),t=v.slice(v.filter(function(e){return!e.getAttribute("disabled")}).length-1)[0],m(t,n),b.dataset.pageIndex=b.dataset.pageIndex),e.filter(function(e){return"data-page-index"===e.attributeName}).length&&(r=d(b.dataset),o=r.pageIndex,a=r.pages,c=document.querySelector("."+S),i=2<o&&o<a-1&&5<a,o<3&&(y.setAttribute("disabled","true"),v.slice(1)[0].removeAttribute("disabled","true"),a<6?h.setAttribute("disabled","true"):(v.slice(3)[0].setAttribute("disabled","true"),h.removeAttribute("disabled"))),a-3<o&&5<a&&(y.removeAttribute("disabled"),h.setAttribute("disabled","true"),v.slice(3)[0].setAttribute("disabled","true"),v.slice(1)[0].removeAttribute("disabled")),i&&(v.slice(3)[0].removeAttribute("disabled"),v.slice(1)[0].removeAttribute("disabled"),y.removeAttribute("disabled"),h.removeAttribute("disabled")),5<a&&v.slice(1,4).filter(function(e){return!e.getAttribute("disabled")}).forEach(function(e,t){m(e,t+(o<3?2:0)+(i?o-1:0)+(a-1<=o?a-2:0))}),c.classList.remove(S),v.filter(function(e){return parseInt(e.dataset.pageIndex,10)===o})[0].classList.add(S),f(),s=d(b.dataset),l=s.pageIndex,u=s.pages,p.dataset.pageIndex=l-1,_.dataset.pageIndex=l+1,parseInt(p.dataset.pageIndex,10)<1?p.setAttribute("disabled",!0):p.removeAttribute("disabled"),parseInt(_.dataset.pageIndex,10)>u?_.setAttribute("disabled",!0):_.removeAttribute("disabled")),e.filter(function(e){return"data-total-count"===e.attributeName}).length&&f()}).observe(b,{attributes:!0}),b.dataset.pages=b.dataset.pages,b.dataset.totalCount=b.dataset.totalCount,b.dataset.pageIndex=b.dataset.pageIndex)},{}],21:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-search-result-text");function o(e){var t,n,r,o,a;e.innerHTML=e.textFull,10<e.scrollHeight-e.clientHeight&&(n=e.textFull.indexOf("</em>")-(t=e.clientHeight/e.scrollHeight*e.textFull.length),r=0,o=e.textFull.lastIndexOf(" ",t),a="",0<n&&(a="&hellip;",r=e.textFull.indexOf(" ",20+n)+1,o=e.textFull.lastIndexOf(" ",t+n+20)),e.innerHTML=""+a+e.textFull.substring(r,o)+"&hellip;")}r.length&&Array.from(r,function(e){return e.textFull=e.innerHTML,o(e),window.addEventListener("resize",o.bind(void 0,e),!1),!0})},{}],22:[function(e,t,n){"use strict";function r(){var n=document.querySelector(".b-search-results__table");Array.from(document.querySelectorAll(".b-search-results__offensive-warning")).forEach(function(e){var t=Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.getAttribute("data-row-index")];e.style.top=t.offsetTop+t.offsetHeight/5+"px",n.clientWidth<769?e.style.left="5px":e.style.left=e.getBoundingClientRect().left/5+"px"})}function o(){Array.from(document.querySelectorAll(".b-search-results__body-row")).forEach(function(e,t){var n;e.classList.contains("b-search-results__body-row--offensive")&&((n=document.createElement("DIV")).className="b-search-results__offensive-warning",n.innerHTML='<div class="b-search-results__offensive-warning-text">This record uses a term that has since fallen from usage and is now considered offensive. The term is repeated in this record in its original historical context.</br><button class="b-search-results__offensive-warning-button">View record</button></div>',n.style.top=e.offsetTop+e.offsetHeight/5+"px",n.setAttribute("data-row-index",t),n.onclick=function(e){return Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.target.parentElement.getAttribute("data-row-index")].classList.remove("b-search-results__body-row--offensive"),e.target.parentElement.remove(),r(),e.stopPropagation(),!1},e.appendChild(n),r())}),r()}window.addEventListener("resize",function(){r()}),o(),document.querySelector(".etc-template__results-container")&&document.querySelector(".etc-template__results-container").addEventListener("initWarnings",function(){o()}),Array.from(document.querySelectorAll(".b-search-results__head-cell")).forEach(function(e){parseInt(e.dataset.sortable,10)&&(e.onclick=function(e){return t=e.target,n=t.dataset.value,r=document.querySelector(".b-search-results__hidden-input-order-by"),o=document.querySelector(".b-search-results__hidden-input-order-sort"),a="b-search-results__head-cell--sort-asc",c={"b-search-results__head-cell--sort-asc":"b-search-results__head-cell--sort-desc","b-search-results__head-cell--sort-desc":"b-search-results__head-cell--sort-none"}[Array.from(t.classList)[2]],Array.from(document.querySelectorAll(".b-search-results__head-cell")).forEach(function(e){e.classList.remove("b-search-results__head-cell--sort-desc"),e.classList.remove("b-search-results__head-cell--sort-asc"),e.classList.remove("b-search-results__head-cell--sort-none")}),c?"b-search-results__head-cell--sort-desc"===c?o.value="desc":"b-search-results__head-cell--sort-none"===c&&(r.value="",o.value="asc"):(t.classList.add(a),r.value=n),t.classList.add(c||a),void t.dispatchEvent(new Event("change",{bubbles:!0}));var t,n,r,o,a,c})})},{}],23:[function(e,t,n){"use strict";var r=a(e("browser-cookies")),o=a(e("smooth-scroll"));function a(e){return e&&e.__esModule?e:{default:e}}var c,i,s,l,u,d,m,f,b,v,g,p,_,y,h,S,x,w,q,L,k,A=document.querySelector(".js-site-nav");A&&(c=document.querySelector("html").scrollHeight,i=document.querySelectorAll(".js-site-nav__mobile-toggle"),s=document.querySelector(".js-site-nav__mobile-toggle--icon"),l=document.querySelector(".js-site-nav__mobile-toggle-text"),u=document.querySelector(".js-site-nav__mobile-top"),d=document.querySelector(".js-site-nav-bag"),m=document.querySelector(".js-site-nav-bag-total"),f=document.querySelector(".js-site-nav-search-btn"),b=document.querySelector(".js-site-nav-search"),v=document.querySelector(".js-search-input"),g=document.querySelector(".js-search-content"),p=document.querySelector(".js-search-suggest"),_=r.default.get("basketCount"),y=document.querySelector(".js-site-nav__tablet-toggle"),_&&0<_&&(d&&d.classList.remove("b-site-nav__bag--hidden"),m.innerHTML=_<100?_:"",s&&l.classList.add("b-site-nav__mobile-toggle-text--hidden")),s&&"none"!==window.getComputedStyle(s).display&&(k=!(q=function(e){60<e?s.classList.add("b-site-nav__mobile-toggle--solo"):s.classList.remove("b-site-nav__mobile-toggle--solo"),.35<e/c?u.classList.add("b-site-nav__mobile-top--show"):u.classList.remove("b-site-nav__mobile-top--show")}),window.addEventListener("scroll",function(e){return e.preventDefault(),L=window.pageYOffset,k||window.requestAnimationFrame(function(){q.call(void 0,L),k=!1}),k=!0},!1),u.addEventListener("click",function(){o.default.animateScroll(0)})),Array.from(i,function(t){return t.addEventListener("click",function(e){e.preventDefault(),A.classList.toggle("b-site-nav--open"),t.classList.toggle("active")},!1),!0}),y&&y.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".js-site-nav-more").classList.toggle("active")},!1),(!(h=JSON.parse(sessionStorage.getItem("storedSearch")))||Date.parse(new Date)>Date.parse(h.expires))&&((S=new XMLHttpRequest).open("GET","https://vam.ac.uk/services/search/suggest/promoted"),S.send(),S.onreadystatechange=function(){var e,t;S.readyState===XMLHttpRequest.DONE&&200===S.status&&(e=new Date,t={expires:new Date(e.setMinutes(e.getMinutes()+15)),results:S.responseText},sessionStorage.setItem("storedSearch",JSON.stringify(t)),h=JSON.parse(sessionStorage.getItem("storedSearch")))}),x=function(){window.dataLayer.push({event:"autosuggest search",eventCategory:(void 0).tracking.eventCategory,eventAction:(void 0).tracking.eventAction,eventLabel:(void 0).tracking.eventLabel})},w=function(n,e,r,o){var a=null,c=null,i=null;JSON.parse(e).forEach(function(e){for(a=0;a<e.suggestions.length;a+=1){var t;c=e.suggestions[a].title,e.suggestions[a].terms&&(c=e.suggestions[a].terms.join("|")),n.test(c)&&(g.classList.remove("b-site-nav__core__search__container--hidden"),i=e.suggestions[a].icon?e.suggestions[a].icon:"https://s3-eu-west-1.amazonaws.com/vanda-production-assets/static/search/result_placeholder.jpg",t=document.createElement("li"),o&&t.classList.add("js-live-result"),t.innerHTML='<div class="b-search-result-auto-suggest"><a class="b-search-result-auto-suggest-content"href="'+e.suggestions[a].url+'"><img class="b-search-result-auto-suggest-image"src="'+i+'"alt=""aria-hidden="true"><div class="b-search-result-auto-suggest-text"><div class="b-search-result-auto-suggest-content-type">'+e.suggestions[a].type+'</div><div class="b-search-result-auto-suggest-title js-search-result-text">'+e.suggestions[a].title+"</div></div></a></div>",t.tracking={eventCategory:"search - autosuggest - "+e.suggestions[a].type,eventAction:r,eventLabel:e.suggestions[a].url},t.addEventListener("click",x),p.appendChild(t))}})},f&&f.addEventListener("click",function(e){e.preventDefault(),f.classList.toggle("b-site-nav__core__search-btn--active"),b.classList.toggle("b-site-nav__core__search--active"),v.focus(),v.setSelectionRange(100,100)},!1),v&&v.addEventListener("input",function(){var e,t,n,r;v.value.length<42&&(g.classList.add("b-site-nav__core__search__container--hidden"),p.innerHTML="",v.value.length&&(e="(^|\\|)",2<v.value.length&&(e="\\b"),t=v.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=new RegExp(""+e+t+".*","i"),w(n,h.results,v.value,!1),4<v.value.length&&((r=new XMLHttpRequest).open("GET","https:/vam.ac.uk/services/search/suggest/popular?q="+encodeURI(v.value)),r.send(),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&200===r.status&&(Array.from(p.querySelectorAll(".js-live-result"),function(e){return e.remove(),!0}),w(n,r.responseText,v.value,!0))})))},!1))},{"browser-cookies":1,"smooth-scroll":5}],24:[function(e,t,n){"use strict";var r,o=e("querystring"),a=(r=o)&&r.__esModule?r:{default:r};var c,i,s=document.querySelector(".js-toggle-nav");s&&(c=s.querySelectorAll(".js-toggle-nav-btn"),i=a.default.parse(window.location.search.replace("?","")).type,Array.from(c,function(n){var r=document.querySelectorAll(n.dataset.toggeesSelector);return n.addEventListener("click",function(e){e.preventDefault();var t=n.dataset.toggleType;s.scrollLeft=n.offsetLeft-(s.getBoundingClientRect().width-n.getBoundingClientRect().width)/2,n.preventHistoryPush||window.history.pushState({toggleNavType:t},"","?type="+t),n.preventHistoryPush=!1,Array.from(r,function(e){return e.classList.add("s-visually-hidden"),e.dataset.toggleType===t&&e.classList.remove("s-visually-hidden"),!0}),Array.from(c,function(e){return e.classList.remove("b-toggle-nav__button--active"),!0}),n.classList.add("b-toggle-nav__button--active")},!1),n.dataset.toggleType===i&&(n.preventHistoryPush=!0,setTimeout(function(){n.click()},50)),!0}),window.addEventListener("popstate",function(t){return Array.from(document.querySelectorAll("s-visually-hidden"),function(e){return e.classList.remove("s-visually-hidden"),!0}),t.state&&t.state.toggleNavType&&Array.from(c,function(e){return t.state.toggleNavType===e.dataset.toggleType&&(e.preventHistoryPush=!0,e.click()),!0}),!0},!1),i||void 0===s.dataset.toggleTypeDefault||document.querySelector("[data-toggle-type="+s.dataset.toggleTypeDefault+"]").click())},{querystring:4}],25:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-video-thumbnail");Array.from(r,function(r){return r.addEventListener("click",function(e){e.preventDefault();var t=document.createElement("div"),n=document.createElement("div");t.className="b-video-thumbnail__popup",t.innerHTML='<iframe class="b-video-thumbnail__popup-iframe" width="90%" height="90%" src="'+r.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',t.addEventListener("click",function(){t.remove()}),n.className="b-video-thumbnail__popup-close",n.innerHTML='<svg role="img" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>',t.appendChild(n),document.body.appendChild(t)}),!0})},{}],26:[function(e,t,n){"use strict";var r,o,a=document.querySelector(".js-video-trailer");a&&(r=a.querySelector(".js-video-trailer-preview"),o=document.createElement("div"),a.addEventListener("click",function(e){e.preventDefault(),o.className="b-video-trailer__image",o.innerHTML='<iframe class="" width="100%" height="100%" src="'+a.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',r.remove(),a.appendChild(o),o.style.height=.5625*o.offsetWidth+"px"}),window.addEventListener("resize",function(){o.style.height=.5625*o.offsetWidth+"px"}))},{}],27:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-grid-reveal-more");r.length&&(Array.from(document.querySelectorAll(".js-grid-reveal-more"),function(r){var e,o,t,n,a,c,i=r.dataset.revealMoreCounter||4;return i<r.childElementCount&&(e=r.dataset.iconUrl,o=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.children)),t=r.dataset.revealMoreTheme||"dark",n=r.dataset.revealMoreTracking||"",(a=r).dataset.revealMorePutAfter&&(a=document.querySelector(r.dataset.revealMorePutAfter)),o.slice(i).forEach(function(e){return e.classList.add("s-visually-hidden")}),(c=document.createElement("footer")).setAttribute("class","b-block-grid__footer b-block-grid__footer--"+t),c.innerHTML='<a href="#" data-tracking-showmorebutton="'+n+'" class="js-reveal-more-btn"><div class="b-icon-badge b-icon-badge--small b-icon-badge--'+t+'"><div class="b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover"><svg role="img"><use xlink:href="'+e+'#plus"></use></svg></div><small class="b-icon-badge__label">Show more</small></div></a>',a.parentNode.insertBefore(c,a.nextSibling),r.revealMoreClicks=0,c.addEventListener("click",function(e){e.preventDefault(),r.revealMoreClicks+=1;var t=o.filter(function(e){return e.classList.contains("s-visually-hidden")}),n=t[0].parentNode.insertBefore(t[0].cloneNode(!1),t[0]);n.classList.remove("s-visually-hidden"),n.classList.add("b-block-grid__cols-restarter"),t.slice(0,i).forEach(function(e){return e.classList.remove("s-visually-hidden")}),t.length<=i&&c.remove()},!1)),!0}),window.addEventListener("beforeunload",function(){var t=[];Array.from(r,function(e){return t.push(e.revealMoreClicks),!0}),history.replaceState({revealMoreClicks:t},"revealMoreClicks")},!1),window.addEventListener("load",function(){if(history.state&&history.state.revealMoreClicks)for(var e=document.querySelectorAll(".js-reveal-more-btn"),t=0;t<history.state.revealMoreClicks.length;t+=1)for(var n=0;n<history.state.revealMoreClicks[t];)e[t].click(),n+=1},!1))},{}],28:[function(e,t,n){"use strict";document.querySelector(".b-facet-box-modal__button")&&(document.querySelector(".b-facet-box-modal__button").onclick=function(e){document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active"),e.preventDefault()}),document.querySelector(".b-facet-box-modal__button")&&document.addEventListener("closeFacetOverlay",function(){return document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active")})},{}],29:[function(e,t,n){"use strict";function r(){document.querySelector(".b-image-overlay__container").classList.add("b-image-overlay__container--active"),document.querySelector("body").style.overflowY="hidden";var e=window.pageYOffset;document.querySelector(".b-image-overlay__container").style.top=e+"px",document.querySelector(".b-image-carousel__image-preview-container").focus()}function a(){document.querySelector(".b-image-overlay__container").classList.remove("b-image-overlay__container--active"),document.querySelector("body").style.overflowY="auto"}document.querySelector(".b-image-overlay__preview-concealer")&&(document.querySelector(".b-image-overlay__preview-concealer").onclick=function(e){e.stopPropagation()},document.querySelector(".b-image-overlay__preview-concealer-button").onclick=function(e){e.stopPropagation(),document.querySelector(".b-image-overlay__preview--offensive").classList.remove("b-image-overlay__preview--offensive"),document.querySelector(".b-image-overlay__preview-concealer").remove()}),document.querySelector(".b-image-overlay")&&(document.querySelector(".b-image-overlay__close-container").onclick=a,window.addEventListener("keydown",function(e){var t,n,r,o;27===e.keyCode&&(document.querySelector(".b-image-overlay").classList.contains("b-image-overlay--unfocus")?document.querySelector(".b-image-overlay").classList.remove("b-image-overlay--unfocus"):a()),document.querySelector(".b-image-overlay").classList.contains("b-image-overlay--unfocus")||9!==e.keyCode||(n=(t=Array.from(document.querySelector(".b-image-overlay__content").querySelectorAll("button")).filter(function(e){return!e.getAttribute("disabled")}).filter(function(e){return!e.closest(".js-modal")}))[0],r=t[t.length-1],o=e.shiftKey,t.length&&(o&&document.activeElement===n?(r.focus(),e.preventDefault()):o||document.activeElement!==r||(n.focus(),e.preventDefault())))}),document.querySelector(".b-image-overlay").addEventListener("openObjectOverlay",r),document.querySelector(".b-image-overlay__container").addEventListener("jsModalOpen",function(){document.querySelector(".b-image-overlay__close-container").style.display="none"}),document.querySelector(".b-image-overlay__container").addEventListener("jsModalClosed",function(){document.querySelector(".b-image-overlay__close-container").style.display="block"}),Array.from(document.querySelectorAll(".b-image-overlay__preview")).forEach(function(e){e.onclick=function(e){e.preventDefault(),e.target.classList.contains("b-image-overlay__preview--offensive")||e.target.dispatchEvent(new CustomEvent("openObjectOverlay",{bubbles:!0}))}}))},{}],30:[function(e,t,n){"use strict";document.querySelector(".b-story-box")&&function(){var r=Array.from(document.querySelectorAll(".b-story-box")),o=Array.from(document.querySelectorAll(".b-story-box--column"));window.onload=function(){for(var e=0;e<o.length;e+=2)!function(e){var t=o.slice(e,e+2).map(function(e){return e.querySelector(".b-story-box__content-text")}),n=t[t[0].offsetHeight>t[1].offsetHeight?0:1].offsetHeight;t.forEach(function(e){e.style.height=n+"px"})}(e)},4<r.length&&document.querySelector(".b-story-box-container__reveal-container").classList.add("b-story-box-container__reveal-container--active"),r.slice(0,4).forEach(function(e){e.classList.add("b-story-box--active")});var e=document.querySelector(".b-story-box-container__reveal-btn");e&&(e.onclick=function(){var e,t,n=Array.from(document.querySelectorAll(".b-story-box--active")).length;return Array.from(document.querySelectorAll(".b-story-box")).slice(n,n+2).forEach(function(e){e.classList.add("b-story-box--active")}),n+1===r.length?document.querySelector(".b-story-box-container__reveal-container").classList.remove("b-story-box-container__reveal-container--active"):(e=o.slice(n-1,n+2).map(function(e){return e.querySelector(".b-story-box__content-text")}),t=e[e[0].offsetHeight>e[1].offsetHeight?0:1].offsetHeight,e.forEach(function(e){e.style.height=t+"px"})),!1})}()},{}],31:[function(e,t,n){"use strict";"undefined"!=typeof Modernizr&&Modernizr.on("objectfit",function(e){var t;e||(t=document.querySelectorAll(".js-object-fit-container"),[].forEach.call(t,function(t){var n;t.getElementsByTagName("img")[0]&&(n=t.getElementsByTagName("img")[0]).addEventListener("load",function(){var e=n.src;e&&(t.classList.add("js-object-fit-container--fallback"),t.style.backgroundImage="url('"+e+"')")})}))})},{}]},{},[8]);
//# sourceMappingURL=vamscript.js.map
