!function o(i,c,s){function l(t,e){if(!c[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=c[t]={exports:{}};i[t][0].call(a.exports,function(e){return l(i[t][1][e]||e)},a,a.exports,o,i,c,s)}return c[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,m){m.defaults={},m.set=function(e,t,n){var r=n||{},a=m.defaults,o=r.expires||a.expires,i=r.domain||a.domain,c=void 0!==r.path?r.path:void 0!==a.path?a.path:"/",s=void 0!==r.secure?r.secure:a.secure,l=void 0!==r.httponly?r.httponly:a.httponly,u=void 0!==r.samesite?r.samesite:a.samesite,d=o?new Date("number"==typeof o?(new Date).getTime()+864e5*o:o):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(d&&0<=d.getTime()?";expires="+d.toUTCString():"")+(i?";domain="+i:"")+(c?";path="+c:"")+(s?";secure":"")+(l?";httponly":"")+(u?";samesite="+u:"")},m.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),r=(r=n.indexOf("="))<0?n.length:r;if(decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(r+1))}return null},m.erase=function(e,t){m.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},m.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),r=(r=n.indexOf("="))<0?n.length:r;e[decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))]=decodeURIComponent(n.slice(r+1))}return e}},{}],2:[function(e,t,n){var r,a;r=this,a=function(){return function(a,e){e=e||{};var o,n=window,i={clamp:e.clamp||2,useNativeClamp:void 0===e.useNativeClamp||e.useNativeClamp,splitOnChars:e.splitOnChars||[".","-","–","—"," "],animate:e.animate||!1,truncationChar:e.truncationChar||"…",truncationHTML:e.truncationHTML},t=a.style,r=a.innerHTML,c=void 0!==a.style.webkitLineClamp,s=i.clamp,l=s.indexOf&&(-1<s.indexOf("px")||-1<s.indexOf("em"));function u(e,t){return n.getComputedStyle||(n.getComputedStyle=function(n,e){return this.el=n,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),n.currentStyle&&n.currentStyle[e]?n.currentStyle[e]:null},this}),n.getComputedStyle(e,null).getPropertyValue(t)}function d(e){var t=e||a.clientHeight,n=m(a);return Math.max(Math.floor(t/n),0)}function m(e){var t=u(e,"line-height");return"normal"==t&&(t=1.2*parseInt(u(e,"font-size"))),parseInt(t)}i.truncationHTML&&((o=document.createElement("span")).innerHTML=i.truncationHTML);var b,f,v,g,p,_=i.splitOnChars.slice(0),y=_[0];function h(e){return e.lastChild.children&&0<e.lastChild.children.length?h(Array.prototype.slice.call(e.children).pop()):e.lastChild&&e.lastChild.nodeValue&&""!==e.lastChild.nodeValue&&e.lastChild.nodeValue!=i.truncationChar?e.lastChild:(e.lastChild.parentNode.removeChild(e.lastChild),h(a))}function S(e,t){e.nodeValue=t+i.truncationChar}return"auto"==s?s=d():l&&(s=d(parseInt(s))),c&&i.useNativeClamp?(t.overflow="hidden",t.textOverflow="ellipsis",t.webkitBoxOrient="vertical",t.display="-webkit-box",t.webkitLineClamp=s,l&&(t.height=i.clamp+"px")):(g=(p=s,m(a)*p))<=a.clientHeight&&(v=function e(t,n){if(n){var r=t.nodeValue.replace(i.truncationChar,"");if(b||(y=0<_.length?_.shift():"",b=r.split(y)),1<b.length?(f=b.pop(),S(t,b.join(y))):b=null,o&&(t.nodeValue=t.nodeValue.replace(i.truncationChar,""),a.innerHTML=t.nodeValue+" "+o.innerHTML+i.truncationChar),b){if(a.clientHeight<=n){if(!(0<=_.length&&""!==y))return a.innerHTML;S(t,b.join(y)+y+f),b=null}}else""===y&&(S(t,""),t=h(a),_=i.splitOnChars.slice(0),y=_[0],f=b=null);if(!i.animate)return e(t,n);setTimeout(function(){e(t,n)},!0===i.animate?10:i.animate)}}(h(a),g)),{original:r,clamped:v}}},"function"==typeof define&&define.amd?define([],a):"object"==typeof n?t.exports=a():r.$clamp=a()},{}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var i=1e3;r&&"number"==typeof r.maxKeys&&(i=r.maxKeys);var c=e.length;0<i&&i<c&&(c=i);for(var s,l,u=0;u<c;++u){var d,m=e[u].replace(o,"%20"),b=m.indexOf(n),f=0<=b?(d=m.substr(0,b),m.substr(b+1)):(d=m,""),v=decodeURIComponent(d),g=decodeURIComponent(f);s=a,l=v,Object.prototype.hasOwnProperty.call(s,l)?p(a[v])?a[v].push(g):a[v]=[a[v],g]:a[v]=g}return a};var p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,a,e){return r=r||"&",a=a||"=",null===n&&(n=void 0),"object"==typeof n?c(s(n),function(e){var t=encodeURIComponent(o(e))+a;return i(n[e])?c(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+a+encodeURIComponent(o(n)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function c(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],5:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":3,"./encode":4}],6:[function(e,r,a){(function(e){var t,n;t=void 0!==e?e:this.window||this.global,n=function(p){"use strict";function _(e){return e?(t=e,Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)+e.offsetTop):0;var t}var y,r,a,h,S,t,x,n={},o="querySelector"in document&&"addEventListener"in p,w={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},L=function(){var n={},r=!1,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],e++);for(;e<t;e++){!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r&&"[object Object]"===Object.prototype.toString.call(e[t])?n[t]=L(!0,n[t],e[t]):n[t]=e[t])}(arguments[e])}return n},A=function(){return Math.max(document.documentElement.clientHeight,p.innerHeight||0)},q=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};n.animateScroll=function(i,c,e){var t,r,a,o,s,l,u,d,m,n,b=(t=c?c.getAttribute("data-options"):null)&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):{},f=L(y||w,e||{},b),v="[object Number]"===Object.prototype.toString.call(i),g=v||!i.tagName?null:i;(v||g)&&(r=p.pageYOffset,f.selectorHeader&&!h&&(h=document.querySelector(f.selectorHeader)),S=S||_(h),s=v?i:function(e,t,n){var r=0;if(e.offsetParent)for(;r+=e.offsetTop,e=e.offsetParent;);return r=Math.max(r-t-n,0),Math.min(r,q()-A())}(g,S,parseInt(f.offset,10)),l=s-r,u=q(),m=function(e,t,n){var r,a,o=p.pageYOffset;(e==t||o==t||p.innerHeight+o>=u)&&(clearInterval(n),r=i,a=t,v||(r.focus(),document.activeElement.id!==r.id&&(r.setAttribute("tabindex","-1"),r.focus(),r.style.outline="none"),p.scrollTo(0,a)),f.callback(i,c))},n=function(){var e,t,n;a=1<(a=(d+=16)/parseInt(f.speed,10))?1:a,o=r+l*(e=f.easing,t=a,"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t),p.scrollTo(0,Math.floor(o)),m(o,s,x)},(d=0)===p.pageYOffset&&p.scrollTo(0,0),clearInterval(x),x=setInterval(n,16))};function i(e){p.location.hash,r&&(r.id=r.getAttribute("data-scroll-id"),n.animateScroll(r,a),a=r=null)}function c(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey&&((a=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(e.target,y.selector))&&"a"===a.tagName.toLowerCase()&&a.hostname===p.location.hostname&&a.pathname===p.location.pathname&&/#/.test(a.href))){var t=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),r=n.length,a=-1,o="",i=n.charCodeAt(0);++a<r;){if(0===(t=n.charCodeAt(a)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");o+=1<=t&&t<=31||127==t||0===a&&48<=t&&t<=57||1===a&&48<=t&&t<=57&&45===i?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(a):"\\"+n.charAt(a)}return"#"+o}(a.hash);if("#"===t){e.preventDefault();var n=(r=document.body).id?r.id:"smooth-scroll-top";return r.setAttribute("data-scroll-id",n),r.id="",void(p.location.hash.substring(1)===n?i():p.location.hash=n)}(r=document.querySelector(t))&&(r.setAttribute("data-scroll-id",r.id),r.id="",a.hash===p.location.hash&&(e.preventDefault(),i()))}}function s(e){t=t||setTimeout(function(){t=null,S=_(h)},66)}return n.destroy=function(){y&&(document.removeEventListener("click",c,!1),p.removeEventListener("resize",s,!1),x=t=S=h=a=r=y=null)},n.init=function(e){o&&(n.destroy(),y=L(w,e||{}),h=y.selectorHeader?document.querySelector(y.selectorHeader):null,S=_(h),document.addEventListener("click",c,!1),p.addEventListener("hashchange",i,!1),h&&p.addEventListener("resize",s,!1))},n},"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof a?r.exports=n(t):t.smoothScroll=n(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){var r,a;r=this,a=function(){function g(e,t,n){if(n){var r=document.createDocumentFragment(),a=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");a&&t.setAttribute("viewBox",a);for(var o=n.cloneNode(!0);o.childNodes.length;)r.appendChild(o.firstChild);e.appendChild(r)}}return function(e){var u=Object(e),t=window.top!==window.self,d="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&t,m={},b=window.requestAnimationFrame||setTimeout,f=document.getElementsByTagName("use"),v=0;d&&function e(){for(var t=0;t<f.length;){var n,r,a,o,i=f[t],c=i.parentNode,s=function(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}(c),l=i.getAttribute("xlink:href")||i.getAttribute("href");!l&&u.attributeName&&(l=i.getAttribute(u.attributeName)),s&&l?d&&(!u.validate||u.validate(l,s,i)?(c.removeChild(i),r=(n=l.split("#")).shift(),a=n.join("#"),r.length?((o=m[r])||((o=m[r]=new XMLHttpRequest).open("GET",r),o.send(),o._embeds=[]),o._embeds.push({parent:c,svg:s,id:a}),function(r){r.onreadystatechange=function(){var n;4===r.readyState&&((n=r._cachedDocument)||((n=r._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=r.responseText,r._cachedTarget={}),r._embeds.splice(0).map(function(e){var t=(t=r._cachedTarget[e.id])||(r._cachedTarget[e.id]=n.getElementById(e.id));g(e.parent,e.svg,t)}))},r.onreadystatechange()}(o)):g(c,s,document.getElementById(a))):(++t,++v)):++t}(!f.length||0<f.length-v)&&b(e,67)}()}},"function"==typeof define&&define.amd?define([],function(){return r.svg4everybody=a()}):"object"==typeof t&&t.exports?t.exports=a():r.svg4everybody=a()},{}],8:[function(e,t,n){var r,a;r=this,a=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return t({},Q,e)}function a(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)}function h(e,t){return e.getAttribute("data-"+t)}function S(e,t,n){var r="data-"+t;null!==n?e.setAttribute(r,n):e.removeAttribute(r)}function p(e){return h(e,"ll-status")}function x(e,t){return S(e,"ll-status",t)}function _(e){return x(e,null),0}function y(e){return null===p(e)}function i(e){return"native"===p(e)}function w(e,t,n,r){e&&(void 0===r?void 0===n?e(t):e(t,n):e(t,n,r))}function L(e,t){$?e.classList.add(t):e.className+=(e.className?" ":"")+t}function A(e,t){$?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function q(e){return e.llTempImage}function k(e,t){var n;!t||(n=t._observer)&&n.unobserve(e)}function j(e,t){e&&(e.loadingCount+=t)}function s(e,t){e&&(e.toLoadCount=t)}function r(e){for(var t,n=[],r=0;t=e.children[r];r+=1)"SOURCE"===t.tagName&&n.push(t);return n}function n(e,t,n){n&&e.setAttribute(t,n)}function o(e,t){e.removeAttribute(t)}function l(e){return!!e.llOriginalAttrs}function u(e){var t;l(e)||((t={}).src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t)}function E(e){var t;l(e)&&(t=e.llOriginalAttrs,n(e,"src",t.src),n(e,"srcset",t.srcset),n(e,"sizes",t.sizes))}function d(e,t){n(e,"sizes",h(e,t.data_sizes)),n(e,"srcset",h(e,t.data_srcset)),n(e,"src",h(e,t.data_src))}function C(e){o(e,"src"),o(e,"srcset"),o(e,"sizes")}function I(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&r(n).forEach(t)}function m(e,t){r(e).forEach(t)}function b(e,t){var n=Y[e.tagName];n&&n(e,t)}function M(e,t,n){j(n,1),L(e,t.class_loading),x(e,"loading"),w(t.callback_loading,e,n)}function f(e,t){var n,r,a=Z[e.tagName];a?a(e,t):(S(n=e,(r=t).data_bg,null),S(n,r.data_bg_hidpi,null))}function v(e,t){!t||0<t.loadingCount||0<t.toLoadCount||w(e.callback_finish,t)}function g(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n}function O(e){return!!e.llEvLisnrs}function T(e){if(O(e)){var t=e.llEvLisnrs;for(var n in t){var r=t[n];a=n,o=r,e.removeEventListener(a,o)}delete e.llEvLisnrs}var a,o}function N(e,t,n){delete e.llTempImage,j(n,-1),n&&--n.toLoadCount,A(e,t.class_loading),t.unobserve_completed&&k(e,n)}function H(n,r,a){var o=q(n)||n;O(o)||function(e){O(e)||(e.llEvLisnrs={});var t="VIDEO"===e.tagName?"loadeddata":"load";g(e,t,function(e){!function(e,t,n,r){var a=i(t);N(t,n,r),L(t,n.class_loaded),x(t,"loaded"),f(t,n),w(n.callback_loaded,t,r),a||v(n,r)}(0,n,r,a),T(o)}),g(e,"error",function(e){!function(e,t,n,r){var a=i(t);N(t,n,r),L(t,n.class_error),x(t,"error"),w(n.callback_error,t,r),a||v(n,r)}(0,n,r,a),T(o)})}(o)}function D(e,t,n){var r,a,o,i,c,s,l,u,d,m,b,f,v,g,p,_,y;e.llTempImage=document.createElement("IMG"),H(e,t,n),g=n,p=h(f=e,(v=t).data_bg),_=h(f,v.data_bg_hidpi),(y=K&&_?_:p)&&(f.style.backgroundImage='url("'.concat(y,'")'),q(f).setAttribute("src",y),M(f,v,g)),o=n,d=h(r=e,(a=t).data_bg_multi),m=h(r,a.data_bg_multi_hidpi),(b=K&&m?m:d)&&(r.style.backgroundImage=b,s=o,L(i=r,(c=a).class_applied),x(i,"applied"),S(l=i,(u=c).data_bg_multi,null),S(l,u.data_bg_multi_hidpi,null),c.unobserve_completed&&k(i,c),w(c.callback_applied,i,s))}function z(e,t,n){var r,a,o;-1<ee.indexOf(e.tagName)?(H(r=e,a=t,o=n),b(r,a),M(r,a,o)):D(e,t,n)}function R(e){return e.use_native&&"loading"in HTMLImageElement.prototype}function P(e,v,g){e.forEach(function(e){return e.isIntersecting||0<e.intersectionRatio?(d=e.target,m=e,b=v,f=g,x(d,"entered"),b.unobserve_entered&&k(d,f),w(b.callback_enter,d,m,f),void(0<=X.indexOf(p(d))||z(d,b,f))):(t=e.target,n=e,r=v,a=g,void(y(t)||(o=t,i=n,s=a,(c=r).cancel_on_exit&&"loading"===p(o)&&"IMG"===o.tagName&&(T(o),I(u=o,function(e){C(e)}),C(u),I(l=o,function(e){E(e)}),E(l),A(o,c.class_loading),j(s,-1),_(o),w(c.callback_cancel,o,i,s)),w(r.callback_exit,t,n,a))));var t,n,r,a,o,i,c,s,l,u,d,m,b,f})}function B(e){return Array.prototype.slice.call(e)}function U(e){return e.container.querySelectorAll(e.elements_selector)}function F(e){return"error"===p(e)}function V(e,t){return n=e||U(t),B(n).filter(y);var n}function e(e,t){var r,a,n,o,i=c(e);this._settings=i,this.loadingCount=0,n=i,o=this,G&&!R(n)&&(o._observer=new IntersectionObserver(function(e){P(e,n,o)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),r=i,a=this,W&&window.addEventListener("online",function(){var t,e,n;e=a,n=U(t=r),B(n).filter(F).forEach(function(e){A(e,t.class_error),_(e)}),e.update()}),this.update(t)}var W="undefined"!=typeof window,J=W&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),G=W&&"IntersectionObserver"in window,$=W&&"classList"in document.createElement("p"),K=W&&1<window.devicePixelRatio,Q={elements_selector:".lazy",container:J||W?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},X=["loading","loaded","applied","error"],Y={IMG:function(e,t){I(e,function(e){u(e),d(e,t)}),u(e),d(e,t)},IFRAME:function(e,t){n(e,"src",h(e,t.data_src))},VIDEO:function(e,t){m(e,function(e){n(e,"src",h(e,t.data_src))}),n(e,"poster",h(e,t.data_poster)),n(e,"src",h(e,t.data_src)),e.load()}},Z={IMG:function(e,t){S(e,t.data_src,null),S(e,t.data_srcset,null),S(e,t.data_sizes,null),I(e,function(e){S(e,t.data_srcset,null),S(e,t.data_sizes,null)})},IFRAME:function(e,t){S(e,t.data_src,null)},VIDEO:function(e,t){S(e,t.data_src,null),S(e,t.data_poster,null),m(e,function(e){S(e,t.data_src,null)})}},ee=["IMG","IFRAME","VIDEO"],te=["IMG","IFRAME"];return e.prototype={update:function(e){var t,n,r,a,o,i=this._settings,c=V(e,i);s(this,c.length),!J&&G?R(i)?(a=i,o=this,c.forEach(function(e){var t,n;-1!==te.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),H(t=e,n=a,o),b(t,n),f(t,n),x(t,"native"))}),s(o,0)):(n=c,(t=this._observer).disconnect(),r=t,n.forEach(function(e){r.observe(e)})):this.loadAll(c)},destroy:function(){this._observer&&this._observer.disconnect(),U(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;V(e,n).forEach(function(e){k(e,t),z(e,n,t)})}},e.load=function(e,t){var n=c(t);z(e,n)},e.resetStatus=function(e){_(e)},W&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)a(e,n);else a(e,t)}(e,window.lazyLoadOptions),e},"object"==typeof n&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):(r=r||self).LazyLoad=a()},{}],9:[function(e,t,n){"use strict";var r=c(e("vanilla-lazyload")),a=c(e("svg4everybody")),o=c(e("../../components/blocks/object-image-overlay/_object-image-overlay")),i=c(e("../../components/blocks/object-card/_object-card"));function c(e){return e&&e.__esModule?e:{default:e}}e("../../components/services/object_fit_polyfill/_poly-object-fit.js"),e("../../components/blocks/background-video/_background-video.js"),e("../../components/groups/block-grid/_grid-reveal-more.js"),e("../../components/blocks/cookie-banner/_cookie-banner.js"),e("../../components/blocks/facet-box/_facet-box.js"),e("../../components/blocks/image-carousel/_image-carousel.js"),e("../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js"),e("../../components/blocks/object-details/object-details.js"),e("../../components/blocks/object-shuffler/_object-shuffler.js"),e("../../components/blocks/modal/_modal.js"),e("../../components/blocks/newsletter-signup/_newsletter-signup.js"),e("../../components/blocks/search-form/_search-form.js"),e("../../components/blocks/search-pagination/_search-pagination.js"),e("../../components/blocks/search-result/_search-result.js"),e("../../components/blocks/search-results/_search-results.js"),e("../../components/blocks/site-nav/_site-nav.js"),e("../../components/blocks/toggle-nav/_toggle-nav.js"),e("../../components/blocks/video-thumbnail/_video-thumbnail.js"),e("../../components/blocks/video-trailer/_video-trailer.js"),e("../../components/groups/facet-box-modal/_facet-box-modal.js"),e("../../components/groups/image-overlay/_image-overlay.js"),e("../../components/groups/story-box-container/_story-box-container.js"),new r.default({elements_selector:"img[data-srcset]",cancel_on_exit:!1,class_loading:"s-lazyload--blur",class_error:"s-lazyload--error",callback_error:function(e){e.parentNode.insertBefore(document.createElement("div"),e).className=e.className,e.parentNode.removeChild(e)}}),(0,i.default)(),(0,o.default)(),(0,a.default)()},{"../../components/blocks/background-video/_background-video.js":10,"../../components/blocks/cookie-banner/_cookie-banner.js":11,"../../components/blocks/facet-box/_facet-box.js":12,"../../components/blocks/image-carousel/_image-carousel.js":13,"../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js":14,"../../components/blocks/modal/_modal.js":15,"../../components/blocks/newsletter-signup/_newsletter-signup.js":16,"../../components/blocks/object-card/_object-card":17,"../../components/blocks/object-details/object-details.js":18,"../../components/blocks/object-image-overlay/_object-image-overlay":19,"../../components/blocks/object-shuffler/_object-shuffler.js":20,"../../components/blocks/search-form/_search-form.js":21,"../../components/blocks/search-pagination/_search-pagination.js":22,"../../components/blocks/search-result/_search-result.js":23,"../../components/blocks/search-results/_search-results.js":24,"../../components/blocks/site-nav/_site-nav.js":25,"../../components/blocks/toggle-nav/_toggle-nav.js":26,"../../components/blocks/video-thumbnail/_video-thumbnail.js":27,"../../components/blocks/video-trailer/_video-trailer.js":28,"../../components/groups/block-grid/_grid-reveal-more.js":29,"../../components/groups/facet-box-modal/_facet-box-modal.js":30,"../../components/groups/image-overlay/_image-overlay.js":31,"../../components/groups/story-box-container/_story-box-container.js":32,"../../components/services/object_fit_polyfill/_poly-object-fit.js":33,svg4everybody:7,"vanilla-lazyload":8}],10:[function(e,t,n){"use strict";var r,a,o,i,c,s,l,u,d=document.querySelector(".js-background-video");d&&(r=document.querySelector(".js-background-video-container"),a=document.querySelector(".js-stop-button"),o=document.querySelector(".js-background-video-credit"),i=document.querySelector(".js-background-image-credit"),c=0,s=function(){o&&o.classList.remove("hidden"),i&&i.classList.add("hidden")},l=function(){o&&o.classList.add("hidden"),i&&i.classList.remove("hidden")},d.addEventListener("canplaythrough",function(){20<=c?(r.classList.remove("b-video-background--fade"),d.pause(),l()):(r.classList.add("b-video-background--fade"),c+=1,s())}),u=function(){0===r.offsetHeight?(d.pause(),l()):(d.play(),s())},window.addEventListener("load",function(){u()}),window.addEventListener("resize",function(){u()}),a&&(a.onclick=function(){d.pause(),r.classList.remove("b-video-background--fade"),d.paused&&(a.classList.add("hidden"),l())}))},{}],11:[function(e,t,n){"use strict";var r,a=document.querySelector(".js-cookie-banner");a&&(r=document.querySelector(".js-cookie-banner-close"),document.addEventListener("DOMContentLoaded",function(){a.classList.remove("b-cookie-banner--hidden")},!0),r.onclick=function(e){e.preventDefault(),a.classList.add("b-cookie-banner--hidden")})},{}],12:[function(e,t,n){"use strict";function m(e,n,t,r,a){var o=document.createElement("LI");o.className="b-facet-box__facet-term-toggle",o.innerHTML='<button class="b-facet-box__facet-term-toggle-button"><div class="b-facet-box__facet-term-toggle-checkbox"><svg class="b-facet-box__facet-term-toggle-tick" aria-hidden="true" role="img"><use xlink:href="/assets/svg/vamicons.svg#tick"></use></svg></div><span id="'+n.replace(" ","")+"-"+t.replace(" ","")+'-checkbox-label" class="b-facet-box__facet-term-toggle-text">'+t+'</span><span class="b-facet-box__facet-term-toggle-result">('+a+")</span></button>";var i=o.querySelector("button");i.dataset.id=n.replace(" ","")+"-"+r,i.dataset.facet=e,i.dataset.paramName=n,i.dataset.term=t,i.dataset.value=r,i.dataset.count=a,i.setAttribute("aria-labelledby",n.replace(" ","")+"-"+t.replace(" ","")+"-checkbox-label"),i.setAttribute("role","switch"),i.setAttribute("aria-checked","false");var c=document.createElement("INPUT");return c.type="checkbox",c.className="b-facet-box__hidden-input",c.name=n,c.value=r,c.id=n+"="+r,c.setAttribute("aria-hidden","true"),o.addEventListener("termToggle",function(e){var t=document.querySelector('input[id="'+n+"="+r+'"]');t?(t.click(),t.remove()):(document.querySelector("#vam-etc-search").appendChild(c),document.querySelector('input[id="'+n+"="+r+'"]').checked=!0),e.target.querySelector("."+s).classList.contains(s+"--active")?e.target.setAttribute("aria-checked","false"):e.target.setAttribute("aria-checked","true"),e.target.querySelector("."+s).classList.toggle(s+"--active"),e.detail.refreshing_page||document.querySelector(".b-facet-box").dispatchEvent(new Event("boxChecked",{bubbles:!0}))}),o}function c(e){var u=document.querySelector(".b-facet-box__facet-container"),d=Array.from(e).reduce(function(e,t){var n=t.split("-")[0],r=t.split("-")[1];return e[n]?e[n].push(r):e[n]=[r],e},{});Object.values(v).forEach(function(e){var t,n,a=e.facet,r=e.terms,o=e.paramName,i=e.index,c=document.createElement("DIV");c.className="b-facet-box__facet",c.setAttribute("data-param-name",o),c.innerHTML=(t=a,n=5<r.length,'<button class="b-facet-box__facet-text" data-facet-text="'+t+'">'+t+'</button><ul data-facet="'+t+'" class="b-facet-box__facet-term-container">'+(n?'<li class="b-facet-box__term-more-container"><button data-facet="'+t+'" class="b-facet-box__term-more" aria-label="see more terms of facet '+t+'">See more</button></li>':"")+"</ul>"),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false"),c.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains(b)&&(e.target.parentNode.setAttribute("aria-expanded",String(!("true"===e.target.parentNode.getAttribute("aria-expanded")))),e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+f).classList.toggle(f+"--active"))});var s=r.map(function(e){return e.value}),l=d[o]&&d[o].reduce(function(e,t){var n=s.indexOf(t);return n<e?e:n},5)||0;l=(l=5*Math.ceil(l/5))>r.length?r.length:l||5,r.slice(i,l).forEach(function(e){var t=e.term,n=e.count,r=e.value;c.querySelector("."+f).appendChild(m(a,o,t,r,n))}),v[a].index+=l,5<r.length&&(v[a].index<r.length?(c.querySelector("."+f).appendChild(c.querySelector(".b-facet-box__term-more-container")),c.querySelector("."+f+" .b-facet-box__term-more").onclick=function(e){e.preventDefault(),function(e){e.preventDefault();var t=e.target.parentNode,a=e.target.parentNode.parentNode,n=v[e.target.dataset.facet],r=n.terms,o=n.index,i=n.facet,c=n.paramName;r.slice(o,o+5).forEach(function(e){var t=e.term,n=e.count,r=e.value;a.appendChild(m(i,c,t,r,n))}),v[i].index+=5,v[i].index<r.length?a.appendChild(t):t.remove(),Array.from(a.querySelectorAll(".b-facet-box__facet-term-toggle-button")).slice(-1)[0].focus()}(e)}):c.querySelector("."+f).appendChild(c.querySelector(".b-facet-box__term-more-container")).remove()),u.appendChild(c)})}function u(e,t){return new CustomEvent("termToggle",{detail:e,bubbles:!(1<arguments.length&&void 0!==t)||t})}function r(){d.addEventListener("termToggle",function(e){var t,n,r,a,o,i,c,s,l;e.stopPropagation(),t=e.detail,i=t.id,c=t.facet,s=t.term,l=t.paramName,i&&((n=Array.from(document.querySelectorAll("button[data-id='"+i+"']")).filter(function(e){return!e.classList.contains("b-facet-box__facet-term-toggle-button")})).length?(n.forEach(function(e){return e.remove()}),document.querySelector(".b-search-form__facets").children.length||document.querySelector(".b-search-form__facet-pane").classList.remove("b-search-form__facet-pane--active")):(r=function(){Array.from(document.querySelectorAll("button[data-id='"+i+"']")).forEach(function(e){return e.dispatchEvent(u({id:i,facet:c,term:s,paramName:l}))})},(a=document.createElement("button")).dataset.id=i,a.className="b-facet-box__term",a.innerHTML='<span class="b-facet-box__term-text">'+c+": "+s+"</span>",a.onclick=function(e){"date_terms"===e.target.closest(".b-facet-box__term").dataset.id&&Array.from(document.querySelectorAll(".b-facet-box__facet-date-container input")).forEach(function(e){e.value=""}),e.preventDefault(),r()},a.classList.add("b-facet-box__term--mobile"),d.appendChild(a),(o=a.cloneNode(!0)).classList.remove("b-facet-box__term--mobile"),o.onclick=function(e){"date_terms"===e.target.closest(".b-facet-box__term").dataset.id&&Array.from(document.querySelectorAll(".b-facet-box__facet-date-container input")).forEach(function(e){e.value=""}),e.preventDefault(),r()},o.classList.add("b-facet-box__term--form"),document.querySelector(".b-search-form__facets")&&document.querySelector(".b-search-form__facets").appendChild(o),document.querySelector(".b-search-form__facet-pane--active")||document.querySelector(".b-search-form__facet-pane").classList.add("b-search-form__facet-pane--active")),window.dispatchEvent(new Event("resize")))}),document.querySelector(".b-facet-box").addEventListener("newFacets",function(t){Object.keys(v).forEach(function(e){return delete v[e]});var e=t.detail,n=e.facets,r=e.activeFacets;n.forEach(function(e){var t,n,r;Object.assign(v,(t={},n=e.facet,r=Object.assign(e,{index:0}),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}),Array.from(document.querySelectorAll(".b-facet-box__hidden-input")).forEach(function(e){return e.remove()});var a=document.querySelector(".b-facet-box__facet-container");a.innerHTML="",d.innerHTML="",c(r);var o=document.createElement("DIV");o.className="b-facet-box__facet b-facet-box__facet-date",o.innerHTML='<div class="b-facet-box__facet-text" data-facet-text="dates">Dates</div><div class="b-facet-box__facet-term-container"><span class="b-facet-box__facet-term-container-text">Use a hyphen to indicate dates BC. For example -800 is 800 BC.</span><form class="b-facet-box__facet-date-container"><div class="b-facet-box__facet-date-container-start"><label class="b-facet-box__facet-date-label">From year:</label><input class="b-facet-box__facet-date-input" placeholder="-800" type="number" name="year_made_from"></div><div class="b-facet-box__facet-date-container-end"><label class="b-facet-box__facet-date-label">To year:</label><input class="b-facet-box__facet-date-input" placeholder="2000" type="number" name="year_made_to"></div><div class="b-facet-box__facet-date-container-button"><label class="b-facet-box__facet-date-label">&nbsp;</label><button class="b-facet-box__facet-date-button"><svg class="b-facet-box__facet-date-button-icon" aria-label="apply-date-facet" role="img"><use xlink:href="/assets/svg/vamicons.svg#search"></use></svg></button></div></form><span disabled="false" class="b-facet-box__facet-term-container-text b-facet-box__facet-term-container-text--warning">Please enter both a start and end year.</span></div>',o.addEventListener("click",function(e){t.preventDefault(),e.target.classList.contains(b)&&(e.target.classList.toggle(e.target.classList[0]+"--active"),e.target.parentNode.querySelector("."+f).classList.toggle(f+"--active"))}),o.querySelector("form").addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation();var n=Array.from(document.querySelectorAll(".b-facet-box__facet-date-container input"));n.forEach(function(e){return e.classList.remove("b-facet-box__facet-date-input--error")});var t,r,a,o,i=n.map(function(e){return e.value});2!==i.filter(function(e){return e.length}).length?(i.forEach(function(e,t){e.length||n[t].classList.add("b-facet-box__facet-date-input--error")}),document.querySelector(".b-facet-box__facet-term-container-text--warning").removeAttribute("disabled")):((t=document.createElement("INPUT")).type="hidden",t.className="b-search-results__hidden-date",document.querySelectorAll(".b-search-results__hidden-date").forEach(function(e){return e.remove()}),r=function(e){return parseInt(e,10)<0?-1*e+" BC":e},document.querySelector('button[data-id="date_terms"]')&&d.dispatchEvent(u({facet:"dates",id:"date_terms",paramName:"date_terms",refreshing_page:!1,term:r(i[0])+" - "+r(i[1])},!0)),document.querySelector(".b-facet-box__facet-term-container-text--warning").setAttribute("disabled","true"),(a=t.cloneNode(!0)).name="year_made_from",a.value=i[0],(o=t.cloneNode(!0)).name="year_made_to",o.value=i[1],document.querySelector("#vam-etc-search").appendChild(a),document.querySelector("#vam-etc-search").appendChild(o),d.dispatchEvent(u({facet:"dates",id:"date_terms",paramName:"date_terms",refreshing_page:!1,term:r(i[0])+" - "+r(i[1])},!0)))}),a.append(o);var i={};r&&Array.from(r).forEach(function(e){var t=document.querySelector("button[data-id='"+e+"'"),n=e.split("-");if(t)t.dispatchEvent(u(Object.assign(t.dataset,{refreshing_page:!0}))),document.querySelector("."+l).dispatchEvent(u(t.dataset));else for(;!document.querySelector("button[data-id='"+e+"']")&&document.querySelector('div[data-param-name="'+n[0]+'"] .b-facet-box__term-more');)document.querySelector('div[data-param-name="'+n[0]+'"] .b-facet-box__term-more').click(),document.querySelector("button[data-id='"+e+"'").dispatchEvent(u(Object.assign(document.querySelector("button[data-id='"+e+"'").dataset,{refreshing_page:!0}))),document.querySelector("."+l).dispatchEvent(u(document.querySelector("button[data-id='"+e+"'").dataset));var r;"year_made_from"!==n[0]&&"year_made_to"!==n[0]||(r=n[0],o.querySelector('input[name="'+r+'"]').value=2!==n.length?"-"+n[2]:n[1],i[r]=2!==n.length?"-"+n[2]:n[1],2===Object.keys(i).length&&o.querySelector("form button").click())}),window.dispatchEvent(new Event("resize"))},!0),document.onclick=function(e){var t;e.target.classList.contains("b-facet-box__close-button")&&(e.preventDefault(),e.target.dispatchEvent(new Event("closeFacetOverlay",{bubbles:!0}))),e.target.closest("."+o+"-button")&&(e.preventDefault(),t=e.target.closest("."+o+"-button"),d.dispatchEvent(u(t.dataset,!1)),t.dispatchEvent(u(t.dataset)))}}var a="b-facet-box__facet",o=a+"-term-toggle",s=o+"-tick",b=a+"-text",f=a+"-term-container",l="b-facet-box__term-list",d=document.querySelector("."+l),v={};document.querySelector(".b-facet-box")&&(r(),document.querySelector(".b-facet-box__modal-button-open")&&document.querySelectorAll(".b-facet-box__modal-button-open").forEach(function(e){return e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".b-facet-box").classList.add("b-facet-box--active")})}),document.querySelector(".b-facet-box__close-button")&&document.querySelector(".b-facet-box__close-button").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".b-facet-box").classList.remove("b-facet-box--active")}),window.addEventListener("resize",function(){var t,n,r,e=Array.from(document.querySelectorAll(".b-facet-box__term.b-facet-box__term--form"));document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross")&&(499<window.innerWidth&&window.innerWidth<992?(t=document.querySelector(".b-search-form__facets").offsetWidth,n=0,r=1,e.forEach(function(e){(n+=e.offsetWidth)<t&&(r+=1)}),0<e.length-r?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML="+"+(e.length-r)):window.innerWidth<500?(0<e.length?document.querySelector(".b-search-form__facets-mobile").style.display="block":document.querySelector(".b-search-form__facets-mobile").style.display="none",document.querySelector(".b-facet-box__term-text.b-facet-box__term-text--no-cross").innerHTML=e.length-1+" filter"+(1<e.length-1?"s":"")+" applied"):document.querySelector(".b-search-form__facets-mobile").style.display="none")}))},{}],13:[function(e,t,n){"use strict";var s,l,u,o,i,d,r,a,c,m=document.querySelector(".b-image-carousel"),b=document.querySelector(".b-image-carousel__conceal-right"),f=document.querySelector(".b-image-carousel__conceal-left"),v=Array.from(document.querySelectorAll(".b-image-carousel__prev")),g=Array.from(document.querySelectorAll(".b-image-carousel__next")),p=document.querySelector(".b-image-overlay-detail__total-number-of-images"),_=document.querySelector(".b-image-overlay-detail__current-image"),y=document.querySelector(".b-image-overlay__img-ref-number"),h=document.querySelector(".b-image-overlay-detail__copyright-holder"),S=document.querySelector(".b-modal__description-license-contact"),x=document.querySelectorAll(".b-image-overlay-detail__navigation-container button"),w=document.querySelectorAll(".b-image-carousel__navigation-container button"),L=[];m&&(L=(m?JSON.parse(m.dataset.images):{images:[]}).images),m&&L.length&&(s=document.querySelector(".b-image-overlay__image"),l=L.map(function(e){var t=e.src,n=e.alt,r=e.ref,a=e.copyright,o=new Image;return o.src=t,o.alt=n,o.className="b-image-overlay__image b-image-overlay__image--active",o.dataset.ref=r,o.dataset.copyright=a,o}),u=function(e){var t=document.querySelectorAll(".b-image-carousel__image-preview-container").length;m.dataset.viewIndex=0<e?e>L.length-t?L.length-t:e:0},o=function(e){m.dataset.index=e},i=L.map(function(e){var t=e.thumb,n=e.alt,r=new Image;return r.src=t,r.alt="thumbnail for "+n,r.className="b-image-carousel__image-preview",r}),d=function(r){var e=Array.from(document.querySelectorAll(".b-image-carousel__image-preview-container")),a=parseInt(m.dataset.viewIndex,10);e.forEach(function(e,t){var n=a+t;e.classList.remove("b-image-carousel__image-preview-container--selected"),n===parseInt(m.dataset.index,10)&&(e.classList.add("b-image-carousel__image-preview-container--selected"),r&&e.focus()),L[n].alt&&e.setAttribute("aria-label","view "+L[n].alt),e.firstElementChild&&e.firstElementChild.remove(),e.appendChild(i[n]),e.onclick=function(){o(n)}})},new MutationObserver(function(e){var t,n,r,a,o,i,c;e.filter(function(e){return"data-view-index"===e.attributeName}).length&&(t=parseInt(m.dataset.viewIndex,10),f.style.display=0<t?"block":"none",b.style.display=t+document.querySelectorAll(".b-image-carousel__image-preview-container").length>=L.length?"none":"block"),e.filter(function(e){return"data-index"===e.attributeName}).length&&(n=parseInt(m.dataset.index,10),u(n-Math.floor(document.querySelectorAll(".b-image-carousel__image-preview-container").length/2)),r=l[n],a=document.querySelector(".b-image-overlay__figure"),s.remove(),a.appendChild(r),i=(o=r.dataset).ref,c=o.copyright,S.setAttribute("href","mailto:vaimages@vam.ac.uk?subject=Image reference: "+i),y.innerHTML=i,h.innerHTML=c,s=r,d(!0),991<window.innerWidth?(0<n?w[0].removeAttribute("disabled"):w[0].setAttribute("disabled","true"),n===L.length-1?w[1].setAttribute("disabled","true"):w[1].removeAttribute("disabled")):(0<n?x[0].removeAttribute("disabled"):x[0].setAttribute("disabled","true"),n===L.length-1?x[1].setAttribute("disabled","true"):x[1].removeAttribute("disabled")),_.innerHTML=""+(n+1))}).observe(m,{attributes:!0}),document.addEventListener("keydown",function(){var e,t;document.querySelector(".b-image-overlay__container--active")&&(37!==event.keyCode||0<=(e=parseInt(m.dataset.index,10)-1)&&o(e),39!==event.keyCode||(t=parseInt(m.dataset.index,10)+1)<L.length&&o(t))}),(r=document.createElement("BUTTON")).className="b-image-carousel__image-preview-container",r.innerHTML='<div class="b-image-carousel__image-preview"></div>',a=function(){if(p.innerHTML=L.length,m.dataset.index||(m.dataset.index=0),m.dataset.viewIndex||(m.dataset.viewIndex=0),m)if(window.innerWidth<1200){if(3<document.querySelectorAll(".b-image-carousel__image-preview-container").length||0===document.querySelectorAll(".b-image-carousel__image-preview-container").length){document.querySelector(".b-image-carousel__image-carousel").innerHTML="";for(var e=0;e<3&&e!==L.length;e+=1)document.querySelector(".b-image-carousel__image-carousel").appendChild(r.cloneNode(!0))}}else if(1199<window.innerWidth&&(document.querySelectorAll(".b-image-carousel__image-preview-container").length<5||0===document.querySelectorAll(".b-image-carousel__image-preview-container").length)&&L.length!==document.querySelectorAll(".b-image-carousel__image-preview-container").length){document.querySelector(".b-image-carousel__image-carousel").innerHTML="";for(var t=0;t<5&&t!==L.length;t+=1)document.querySelector(".b-image-carousel__image-carousel").appendChild(r.cloneNode(!0))}},c=function(){window.innerWidth<992&&(x.forEach(function(e){e.removeAttribute("disabled")}),w.forEach(function(e){e.setAttribute("disabled","true")})),991<window.innerWidth&&(x.forEach(function(e){e.setAttribute("disabled","true")}),w.forEach(function(e){e.removeAttribute("disabled")}))},b.onclick=function(){var e=parseInt(m.dataset.viewIndex,10)+1;u(e),d()},f.onclick=function(){var e=parseInt(m.dataset.viewIndex,10)-1;u(e),d()},v.forEach(function(e){e.onclick=function(){var e=parseInt(m.dataset.index,10);o(e-1)}}),g.forEach(function(e){e.onclick=function(){var e=parseInt(m.dataset.index,10);o(e+1)}}),window.addEventListener("resize",function(){a(),o(parseInt(m.dataset.index,10)),c(),m.dataset.index=m.dataset.index,d()}),c(),a(),m.dataset.index=m.dataset.index,d())},{}],14:[function(e,t,n){"use strict";var c="b-image-overlay-license-modal",s="__image-modal",r="__agree-to-terms",l="__modal-download-content",u="__modal-contact-content",a="__checkbox-container",o="__agree-checkbox",i="__agree-to-terms-reminder",d="--active",m="--warning",b=["__icon-link-container","__checkmark","__image-icon-link",r],f=document.querySelector("."+c+s),v=document.querySelector(".b-image-overlay"),g=document.querySelector("."+c+l),p=document.querySelector("."+c+u),_=document.querySelector(".u-link.b-image-overlay-license-modal__download-link.js-modal-action"),y=document.querySelector(".b-icon-link.b-icon-link__download.js-modal-action");window.addEventListener("click",function(e){e.target.closest("."+c+"__download-button")&&(window.setTimeout(function(){document.querySelector(".b-image-overlay-license-modal__agree-to-terms").focus()},10),v.classList.add("b-image-overlay--unfocus"),f.dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),f.classList.add("b-modal--active"),g.classList.add(c+l+d),p.classList.remove(c+u+d)),e.target.closest("."+c+"__contact-button")&&(window.setTimeout(function(){document.querySelector(".b-modal__description-license-contact").focus()},10),v.classList.add("b-image-overlay--unfocus"),f.dispatchEvent(new CustomEvent("jsModalOpen",{bubbles:!0})),f.classList.add("b-modal--active"),g.classList.remove(c+l+d),p.classList.add(c+u+d)),e.target.closest("."+c+"__contact-modal-open")&&(window.setTimeout(function(){document.querySelector(".b-modal__description-license-contact").focus()},10),g.classList.remove(c+l+d),p.classList.add(c+u+d)),e.target.closest("."+c+a)&&e.target.closest("."+c+r)===document.querySelector("."+c+r)&&(document.querySelector("."+c+o).checked=!document.querySelector("."+c+o).checked,document.querySelector("."+c+r).classList.remove(c+r+m),document.querySelector("."+c+o).checked?(document.querySelector("."+c+i).style.display="none",b.forEach(function(e){return document.querySelector("."+c+e)&&document.querySelector("."+c+e).classList.add(c+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.add("b-icon-link--active"),_.setAttribute("data-tracking-collections","image download"),y.setAttribute("data-tracking-collections","image download")):(b.forEach(function(e){return document.querySelector("."+c+e)&&document.querySelector("."+c+e).classList.remove(c+e+"--active")}),document.querySelector(".b-image-overlay-license-modal__download-link .b-icon-link").classList.remove("b-icon-link--active"),_.removeAttribute("data-tracking-collections"),y.removeAttribute("data-tracking-collections"))),e.target.closest("."+c+a)&&(document.querySelector("."+c+o).checked||(document.querySelector("."+c+i).style.display="block",document.querySelector("."+c+r).classList.add(c+r+m)))}),window.addEventListener("keydown",function(e){var t,n,r,a,o=document.querySelector("."+c+s+".b-modal--active"),i=document.querySelector("."+c+l+"."+c+l+d)||document.querySelector("."+c+u+"."+c+u+d);return o&&9===e.keyCode&&(n=(t=i.querySelectorAll("button"))[0],r=t[t.length-1],a=e.shiftKey,t.length&&(a&&document.activeElement===n?(r.focus(),e.preventDefault()):a||document.activeElement!==r||(n.focus(),e.preventDefault()))),!o||27!==e.keyCode||(f.classList.remove("b-modal--active"),e.preventDefault(),e.stopPropagation(),!1)})},{}],15:[function(e,t,n){"use strict";var r,a=e("browser-cookies"),s=(r=a)&&r.__esModule?r:{default:r};var o=document.querySelectorAll(".js-modal");function l(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"myClick",category:e,action:t})}Array.from(o,function(a){function o(){a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),l(t,"pop-up dismissed"),a.dispatchEvent(new CustomEvent("jsModalClosed",{bubbles:!0})),a.classList.remove("b-modal--active")}function i(e){var t,n,r;9===e.keyCode&&(t=c[0],n=c[c.length-1],r=e.shiftKey,c.length&&(r&&document.activeElement===t?(n.focus(),e.preventDefault()):r||document.activeElement!==n||(t.focus(),e.preventDefault()))),"Escape"===e.key&&(a.removeEventListener("keydown",i),o())}var t=a.dataset.modalCampaign,c=a.querySelectorAll("a");return a.dataset.modalOnceOnly&&s.default.get(t)||a.dataset.notOnLoad||(document.body.appendChild(a),a.setAttribute("tabindex","0"),a.removeAttribute("aria-hidden"),a.classList.add("b-modal--active"),l(t,"pop-up displayed"),a.focus(),c[1].focus(),a.addEventListener("keydown",i)),a.addEventListener("click",function(e){a.dataset.modalOnceOnly&&s.default.set(t,"seen",{domain:a.dataset.modalDomain,expires:365}),e.target!==a&&(Array.from(e.target.classList).find(function(e){return"js-modal-action"===e})||e.target.closest(".js-modal-action")?l(t,"clicked: "+e.target.textContent):(a.removeEventListener("keydown",i),o()))}),!0})},{"browser-cookies":1}],16:[function(e,t,n){"use strict";Array.from(document.querySelectorAll(".js-newsletter_form"),function(c){return c.addEventListener("submit",function(e){e.preventDefault();var t,n=c.querySelector(".js-emailValidation"),r=c.querySelector(".js-newsletter__descriptor"),a=c.querySelector(".js-newsletter__submit"),o=new XMLHttpRequest,i="";t=n.value,/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)?(o||c.submit(),Array.from(c.querySelectorAll("input"),function(e){return i+=e.name+"="+encodeURIComponent(e.value)+"&",!0}),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&(200===o.status?(a.value="Thank you!",r.innerHTML="A confirmation email will be sent to this address shortly&hellip;",c.classList.remove("invalid"),c.classList.add("sent")):c.submit())},o.open("POST",c.action),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i)):(r.innerHTML="That doesn't look like an email address&hellip;",c.classList.add("invalid"))}),!0})},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){Array.from(document.querySelectorAll(".b-object-card__warning"),function(e){return e.innerHTML='<div class="b-object-card__warning__banner"><div class="b-object-card__warning__banner__text">This object, or the text that describes it, is deemed offensive and discriminatory. We are committed to improving our records, and work is ongoing.</div><div class="b-object-card__warning__banner__dismiss">View record</div></div>'+e.innerHTML+"",!0})},document.addEventListener("click",function(e){return!e.target.closest(".b-object-card__warning")||(e.preventDefault(),e.stopImmediatePropagation(),e.target.closest(".b-object-card__warning").classList.remove("b-object-card__warning"),!1)},!1)},{}],18:[function(e,t,n){"use strict";var r=document.createElement("DIV"),a=["etc-details__cell-concealer","etc-details__cell-revealer"],o=['<span class="etc-details__cell-concealer-text">Read More</span><button class="etc-details__cell-concealer-button">+</button>','<span class="etc-details__cell-concealer-text">Read Less</span><button class="etc-details__cell-concealer-button">-</button>'];function i(e){var t="etc-details__cell-free-content--hidden",n=e.target.parentElement.querySelector(".etc-details__cell-free-content"),r=n.classList.contains(t);e.target.innerHTML=o[r?1:0],e.target.className=a[r?1:0],r?(n.classList.remove(t),e.target.setAttribute("data-tracking-collections","read less")):(n.classList.add(t),e.target.setAttribute("data-tracking-collections","read more"))}r.className=a[0],r.innerHTML=o[0],r.setAttribute("data-tracking-collections","read more"),Array.from(document.querySelectorAll(".etc-details__cell-free")).forEach(function(e){var t;200<e.offsetHeight&&(e.querySelector(".etc-details__cell-free-content").classList.add("etc-details__cell-free-content--hidden"),(t=r.cloneNode(!0)).onclick=i,e.appendChild(t))})},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var o,v,g=Array.from(document.querySelectorAll(".js-object-image-overlay-item"));g.length&&(o=document.querySelector(".b-object-image-overlay")||document.createElement("div"),document.body.appendChild(o),o.classList.add("b-object-image-overlay"),o.innerHTML='<button class="b-object-image-overlay__dismiss" title="Close" aria-label="Close"></button><div class="b-object-image-overlay__items"></div>',v=o.querySelector(".b-object-image-overlay__items"),o.addItem=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=g[e]||g[0],r=n.dataset.objectImageOverlay?JSON.parse(n.dataset.objectImageOverlay):null,a=r&&r.museumNumber?'Museum number: <span itemprop="identifier">'+r.museumNumber+"</span>":"",o=r&&r.copyright?'<br/><span itemprop="copyrightHolder">'+r.copyright+"</span>":"",i=a||o?'<div class="b-object-image-overlay__numbercopyright">'+a+""+o+"</div>":"",c=r&&r.onDisplay?'<div class="b-object-image-overlay__location-status"><svg role="img" viewBox="0 0 52 52"><path d="M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z" fill="currentColor"/></svg>On display</div>':"",s="";r&&r.onDisplay?s=(s=r.displayOverride)||(r.locationSite?'<div class="b-object-image-overlay__location-site">'+r.locationSite+"</div>":"")+(r.locationRoom?r.locationRoom:""):r&&null!==r.onDisplay&&!r.onDisplay&&(s=r.storageOverride||"This object is currently not on display");var l=r&&r.visitUrl?'<a tabindex="-1" class="b-object-image-overlay__visit" href="'+r.visitUrl+'" data-tracking-oic="visit the object">Find out how to visit this object</a>':"",u=s||l?'<div class="b-object-image-overlay__location">'+c+'<div class="b-object-image-overlay__location-copy">'+s+"</div>"+l+"</div>":"",d=n.querySelector("a").getAttribute("href"),m=1<d.length?'<br/><a tabindex="-1" class="b-object-image-overlay__cta b-object-image-overlay__cta--screen" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",b=1<d.length?'<a tabindex="-1" class="b-object-image-overlay__cta b-object-image-overlay__cta--mobile" href="'+d+'" data-tracking-oic="explore the object">Explore object in more depth</a>':"",f=document.createElement("div");f.classList.add("b-object-image-overlay__item"),f.innerHTML+='<div class="b-object-image-overlay__content"><figure class="b-object-image-overlay__figure"><img class="b-object-image-overlay__image"itemprop="contentUrl"alt="'+n.querySelector("img").alt+'"sizes="(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px"srcset="'+n.querySelector("img").srcset+'"src="'+n.querySelector("img").src+'"><figcaption class="b-object-image-overlay__figcaption">'+i+'<div class="b-object-image-overlay__prevnext"><button disabled class="b-object-image-overlay__prev b-object-image-overlay__prev--disabled" title="Previous" aria-label="Previous" data-tracking-oic="previous object"><svg role="img" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z" fill="currentColor"/></svg></button><button disabled class="b-object-image-overlay__next b-object-image-overlay__next--disabled" title="Next" aria-label="Next" data-tracking-oic="next object"><svg role="img" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z" fill="currentColor"/></svg></button></div></figcaption></figure><div class="b-object-image-overlay__details"><div class="b-object-image-overlay__caption">'+n.querySelector("figcaption").textContent+""+m+"</div>"+u+""+b+"</div></div>",t?v.insertBefore(f,v.firstElementChild):v.appendChild(f)},o.getIndex=function(t){return g.findIndex(function(e){return e===t})},o.clipItem=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?v.lastElementChild.remove():v.firstElementChild.remove()},o.buttonInit=function(e){o.querySelectorAll("button").forEach(function(e){return e.setAttribute("disabled",!0)}),o.querySelectorAll("a").forEach(function(e){return e.setAttribute("tabindex","-1")}),991<window.innerWidth&&o.querySelector(".b-object-image-overlay__dismiss").removeAttribute("disabled"),o.querySelector(".b-object-image-overlay__dismiss").removeAttribute("disabled");var t=document.querySelectorAll(".b-object-image-overlay__item")[1],n=t.querySelector(".b-object-image-overlay__prev"),r=t.querySelector(".b-object-image-overlay__next");991<window.innerWidth&&(0<o._index&&(n.classList.add("b-object-image-overlay__prev--enabled"),n.removeAttribute("disabled")),o._index<g.length-1&&(r.classList.add("b-object-image-overlay__next--enabled"),r.removeAttribute("disabled"))),t.querySelectorAll("a").forEach(function(e){return e.removeAttribute("tabindex")}),991<window.innerWidth?t.querySelector(".b-object-image-overlay__cta--mobile")&&(t.querySelector(".b-object-image-overlay__cta--mobile").setAttribute("tabindex",-1),t.querySelector(".b-object-image-overlay__cta--screen").removeAttribute("tabindex")):t.querySelector(".b-object-image-overlay__cta--screen")&&(t.querySelector(".b-object-image-overlay__cta--screen").setAttribute("tabindex",-1),t.querySelector(".b-object-image-overlay__cta--mobile").removeAttribute("tabindex")),o.focusable=[document.querySelector(".b-object-image-overlay__dismiss")].concat(Array.from(t.querySelectorAll('button:not([disabled]), a:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])')));function a(e,t,n){e?e.focus():t?t.focus():n.focus()}e?e&&a(t.querySelector(".b-object-image-overlay__prev:not([disabled]"),t.querySelector(".b-object-image-overlay__next:not([disabled]"),o.focusable[0]):a(t.querySelector(".b-object-image-overlay__next:not([disabled]"),t.querySelector(".b-object-image-overlay__prev:not([disabled]"),o.focusable[0])},o.advance=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(!e&&o._index<g.length-1||e&&0<o._index)&&(o.clipItem(e),o.addItem(o._index+2*(e?-1:1),e),o._index+=e?-1:1,o.track(o._index)),o.buttonInit(e)},o.track=function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"OIC",object:g[e].querySelector("figcaption").textContent.trim(),museumNumber:JSON.parse(g[e].dataset.objectImageOverlay).museumNumber})},document.addEventListener("click",function(e){var t,n,a;e.target.closest(".js-object-image-overlay-item")&&(e.preventDefault(),t=e.target.closest(".js-object-image-overlay-item"),o._index=o.getIndex(t),o.addItem(o._index),o.classList.add("b-object-image-overlay--active"),o.addItem(o._index+1),o.addItem(o._index-1,!0),o.focus(),o.track(o._index),o.buttonInit(),n=function(e){var t,n,r;"ArrowLeft"===e.key?(e.preventDefault(),o.advance(!0)):"ArrowRight"===e.key?(e.preventDefault(),o.advance()):"Escape"===e.key||"Esc"===e.key?a():9===e.keyCode&&(t=o.focusable[0],n=o.focusable[o.focusable.length-1],r=e.shiftKey,o.focusable.length&&(r&&document.activeElement===t?(n.focus(),e.preventDefault()):r||document.activeElement!==n||(t.focus(),e.preventDefault())))},a=function(){o.classList.remove("b-object-image-overlay--active"),v.innerHTML="",o.onclick=null,document.removeEventListener("keydown",n,!1)},document.addEventListener("keydown",n,!1),o.onclick=function(e){e.target.matches(".b-object-image-overlay__item, .b-object-image-overlay__dismiss")?(e.preventDefault(),a()):e.target.closest(".b-object-image-overlay__next--enabled")?(e.preventDefault(),o.advance()):e.target.closest(".b-object-image-overlay__prev--enabled")&&(e.preventDefault(),o.advance(!0))})},!1))}},{}],20:[function(e,t,n){"use strict";var b,r,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};b={init:function(e){for(var t=JSON.parse(e.dataset.objectShuffler),o=e.querySelector(".b-object-shuffler__tabs"),i=o.removeChild(o.querySelector(".b-object-shuffler__tab")),n=e.querySelector(".b-object-shuffler__deck"),c=n.firstElementChild.firstElementChild,r=c.firstElementChild,s=b.setSize(c),l=parseFloat(window.getComputedStyle(c).getPropertyValue("transition-duration")),u=parseFloat(window.getComputedStyle(r).getPropertyValue("transition-duration")),a=1;a<t.length;a+=1)n.parentNode.appendChild(n.cloneNode(!0));var d=0;Array.from(e.querySelectorAll(".b-object-shuffler__deck"),function(a){return a._props={deckTitle:t[d].title,slideSize:s,itemsData:t[d].data||[],itemsDataFeed:t[d].feed,itemsIndex:0,transitionDurationItem:l,transitionDurationImg:u},b.getData(a).then(function(){if(a._props.itemsData.length<1.5*s)return a.parentNode.removeChild(a),!1;var e=o.appendChild(i.cloneNode(!0));e.className="b-object-shuffler__tab",e.title=""+a._props.deckTitle,e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden",!1),e.dataset.trackingCollections="you may also like carousel",e._deck=a,e===e.parentNode.firstElementChild&&(e.setAttribute("active",!0),e._deck.setAttribute("active",!0));for(var t=a.firstElementChild,n=1;n<s;n+=1)t.appendChild(c.cloneNode(!0));t.removeAttribute("active");var r=b.newSlide(a);r.setAttribute("active",!0),b.newSlide(a),r.closest(".b-object-shuffler__deck[active]")&&b.tabIndexSlide(r)}),d+=1,!0}),document.addEventListener("click",function(e){var t,n;e.target.closest(".b-object-shuffler__tab")&&(t=e.target,(n=o.querySelector("[active]"))&&(n.removeAttribute("active"),n._deck.removeAttribute("active"),b.tabIndexSlide(n._deck.querySelector(".b-object-shuffler__slide[active]"),!1)),t.setAttribute("active",!0),t._deck.setAttribute("active",!0),b.tabIndexSlide(t._deck.querySelector(".b-object-shuffler__slide[active]")))},!1);var m=e.querySelector(".b-object-shuffler__more");m.addEventListener("click",function(){b.nextSlide(e.querySelector(".b-object-shuffler__deck[active]")),m.setAttribute("active",!0)},!1),m.addEventListener("animationend",function(){m.removeAttribute("active")},!1)},setSize:function(e){return 2*Math.floor(e.parentNode.getBoundingClientRect().width/e.getBoundingClientRect().width)},getData:function(r){var e=2*r._props.slideSize;if(r._props.itemsData.length<r._props.itemsIndex+e){var t=r._props.itemsDataFeed+"&page_size="+e+"&page="+r._props.itemsData.length/e;return fetch(t).then(function(e){return e.json()}).then(function(e){Array.from(e.records,function(e){var t=e._images._iiif_image_base_url+"full/",n=e._primaryTitle||"untitled "+e.objectType;return r._props.itemsData.push({img:{srcset:t+"250,/0/default.jpg 250w, "+t+"350,/0/default.jpg 350w, "+t+"450,/0/default.jpg 450w, "+t+"550,/0/default.jpg 550w, "+t+"700,/0/default.jpg 700w, "+t+"900,/0/default.jpg 900w",src:t+"350,/0/default.jpg",alt:n},title:n,href:"/item/"+e.systemNumber+"/"}),!0})}).catch(function(e){return console.error(e.name,e.message)})}return Promise.resolve(!0)},newSlide:function(d){var e=d.appendChild(d.firstElementChild.cloneNode(!0));return Array.from(e.children,function(e){var t=d._props.itemsIndex%d._props.itemsData.length,n=e.querySelector("img");e.title=d._props.itemsData[t].title,e.href=d._props.itemsData[t].href,e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden",!0),e.dataset.trackingCollections="you may also like object",n.alt=d._props.itemsData[t].img.alt,n.classList.remove("s-lazyload--abort"),n.onerror=function(){return n.classList.add("s-lazyload--abort"),!0},n.srcset=d._props.itemsData[t].img.srcset,n.src=d._props.itemsData[t].img.src;var r=.1*Math.random(),a=1+(0<d._props.itemsIndex%2?1:-1)*r,o=d._props.itemsIndex%d._props.slideSize,i=o>d._props.slideSize/2-1?-1:1,c=o%(d._props.slideSize/2)*(100/(d._props.slideSize/2)),s=o<d._props.slideSize/2?0:50,l=34*r*1,u=i*r*74;return e.style.width="auto",e.style.height=50*a+"%",e.style.position="absolute",e.style.left=c+l+"%",e.style.top=s+u+"%",e.style.setProperty("--js-rotation",5*Math.sin(2*Math.random()*Math.PI)+"deg"),e.style.transitionDuration=d._props.transitionDurationItem*a*a+"s",n.style.transitionDuration=d._props.transitionDurationImg*a*a+"s",d._props.itemsIndex+=1,!0}),b.getData(d),e},nextSlide:function(e){b.newSlide(e),e.firstElementChild.remove();var t=e.querySelector("[active]");t.removeAttribute("active"),b.tabIndexSlide(t,!1),t.nextSibling.setAttribute("active",!0),b.tabIndexSlide(t.nextSibling)},tabIndexSlide:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;Array.from(e.children,function(e){return e.setAttribute("tabindex",n?"0":"-1"),e.setAttribute("aria-hidden",!n),!0})}},r=null,"IntersectionObserver"in window&&(r=new IntersectionObserver(function(e){var t,n=a(e,1)[0];0<n.intersectionRatio&&(t=n.target,r.unobserve(t),t.initialised||(b.init(t),t.initialised=!0))},{rootMargin:"0px 0px 1000px 0px"})),document.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".js-object-shuffler"),function(t){try{r.observe(t)}catch(e){b.init(t)}return!0})},!0)},{}],21:[function(e,t,n){"use strict";function s(e){window.dataLayer.push({event:e.target.tracking.event,eventCategory:e.target.tracking.eventCategory,eventAction:e.target.tracking.eventAction,eventLabel:e.target.tracking.eventLabel})}Array.from(document.querySelectorAll(".js-search-site, .js-search-etc-gateway"),function(a){var e,t,n,r,o,i,c=a.querySelector(".b-search-form__input");return a.classList.contains("js-search-site")?(a._props={type:"siteSearch"},e=a.querySelector(".b-search-form__underscore"),t=a.querySelector(".b-search-form__submit"),n=a.querySelector(".b-search-form__clear"),r=function(){e.innerHTML=c.value.replace(/\s/g,"&nbsp;")},c.value.length?n.classList.remove("b-search-form__clear--hidden"):t.classList.add("b-search-form__submit--hidden"),c.focus(),r(),c.addEventListener("input",function(){r(),n.classList.add("b-search-form__clear--hidden"),c.value.length?t.classList.remove("b-search-form__submit--hidden"):t.classList.add("b-search-form__submit--hidden")},!1),n.addEventListener("click",function(){n.classList.add("b-search-form__clear--hidden"),c.value="",r()},!1)):a.classList.contains("js-search-etc-gateway")&&(a._props={type:"etcGatewaySearch",suggestionsTop:"https://collections.vam.ac.uk/assets/data/suggestions.json",suggestionsAPI:"https://api.vam.ac.uk/v2/sayt/search"},o=a.querySelector(".b-search-form__suggestions"),i=function(e,t){var n,r,a=document.createElement("a");o.childElementCount<10&&(n=t.displayName||t.displayTerm,r="https://collections.vam.ac.uk/search/?id_"+t.recordType+"="+t.systemNumber,a.className="b-search-form__suggestion",a.href=r,a.tabindex=0,a.innerHTML='<div class="b-search-form__suggestion-type">'+t.recordType+"</div>"+n+"",a.tracking={event:"autosuggest EtC landing",eventCategory:"search - autosuggest - "+t.index,eventAction:e,eventLabel:r},a.addEventListener("click",s),o.appendChild(a))},function(n){n._props.storedSuggestions=JSON.parse(sessionStorage.getItem("storedSuggestions_"+n._props.type));var r=new Date;return!n._props.storedSuggestions||r.getTime()>n._props.storedSuggestions.expires?fetch(n._props.suggestionsTop,{cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){var t={expires:r.getTime()+9e5,data:e};n._props.storedSuggestions=t,sessionStorage.setItem("storedSuggestions_"+n._props.type,JSON.stringify(n._props.storedSuggestions))}).catch(function(e){return console.error(e.name,e.message)}):Promise.resolve(!0)}(a).then(function(){var r=null;c.addEventListener("input",function(){var e,t,n;a.removeAttribute("suggesting"),o.innerHTML="",c.value.length&&(e=c.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t="(^|\\|)",2<c.value.length&&(t="\\b"),n=new RegExp(""+t+e+".*","i"),Array.from(a._props.storedSuggestions.data,function(e){return Array.from(e.suggestions,function(e){var t=e.displayName;return n.test(t)&&(a.setAttribute("suggesting",!0),i(c.value,e)),!0}),!0}),4<c.value.length&&(r&&r.abort(),r=new window.AbortController,setTimeout(function(){return r.abort()},500),fetch(a._props.suggestionsAPI+"?q="+encodeURI(e)+"&page_size=10",{signal:r.signal}).then(function(e){return e.json()}).then(function(e){0<e.info.record_count&&(a.setAttribute("suggesting",!0),Array.from(e.records,function(e){return i(c.value,e),!0}))}).catch(function(e){return console.error(e.name,e.message)})))},!1)}).catch(function(e){return console.error(e.name,e.message)}),document.addEventListener("click",function(e){var t;e.target.closest(".b-search-form__filter-toggle")&&((t=e.target.closest(".b-search-form__filter-toggle-set")).toggleAttribute("active"),Array.from(t.querySelectorAll("input"),function(e){return!(e.value="")}))},!1)),!0})},{}],22:[function(e,t,n){"use strict";var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function d(e){return Object.entries(e).reduce(function(e,t){var n,r,a,o=s(t,2),i=o[0],c=o[1];return Object.assign(e,(n={},r=i,a=parseInt(c,10),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n))},{})}function m(e,t){e.dataset.pageIndex=t,e.value=t,e.innerHTML=""+(t+1<11?0:"")+t,e.ariaLabel="Go to page "+t}function b(){var e,t,n,r=d(f.dataset),a=r.pageIndex,o=r.offset,i=r.totalCount;i<o?document.querySelector(".b-search-pagination__display-counter").innerHTML="":(t=o*(e=a-1)+1,n=o*e+o,document.querySelector(".b-search-pagination__display-counter").innerHTML=""+t+" - "+(i<n?i:n)+" of "+i+"")}var f=document.querySelector(".b-search-pagination"),v=Array.from(document.querySelectorAll(".b-search-pagination__page-button")),g=Array.from(document.querySelectorAll(".b-search-pagination__page-button-seperator")),p=document.querySelector(".b-search-pagination__prev-link"),_=document.querySelector(".b-search-pagination__next-link"),y=document.querySelector(".b-search-pagination__page-button-seperator-start"),h=document.querySelector(".b-search-pagination__page-button-seperator-last"),S="b-search-pagination__page-button--current";f&&(f.addEventListener("click",function(e){var t=e.target,n=d(t.dataset).pageIndex;return(t.closest(".b-search-pagination__page-button")||t.closest(".b-search-pagination__prev-link")||t.closest(".b-search-pagination__next-link"))&&!t.getAttribute("disabled")&&(f.dataset.pageIndex=n),!1}),new MutationObserver(function(e){var n,t,r,a,o,i,c,s,l,u;e.filter(function(e){return"data-pages"===e.attributeName}).length&&(n=d(f.dataset).pages,v.forEach(function(e,t){n-1<t?e.setAttribute("disabled",!0):e.removeAttribute("disabled"),m(e,t+1)}),g.forEach(function(e){e.setAttribute("disabled",!0)}),t=v.slice(v.filter(function(e){return!e.getAttribute("disabled")}).length-1)[0],m(t,n),f.dataset.pageIndex=f.dataset.pageIndex),e.filter(function(e){return"data-page-index"===e.attributeName}).length&&(r=d(f.dataset),a=r.pageIndex,o=r.pages,i=document.querySelector("."+S),c=2<a&&a<o-1&&5<o,a<3&&(y.setAttribute("disabled","true"),v.slice(1)[0].removeAttribute("disabled","true"),o<6?h.setAttribute("disabled","true"):(v.slice(3)[0].setAttribute("disabled","true"),h.removeAttribute("disabled"))),o-3<a&&5<o&&(y.removeAttribute("disabled"),h.setAttribute("disabled","true"),v.slice(3)[0].setAttribute("disabled","true"),v.slice(1)[0].removeAttribute("disabled")),c&&(v.slice(3)[0].removeAttribute("disabled"),v.slice(1)[0].removeAttribute("disabled"),y.removeAttribute("disabled"),h.removeAttribute("disabled")),5<o&&v.slice(1,4).filter(function(e){return!e.getAttribute("disabled")}).forEach(function(e,t){m(e,t+(a<3?2:0)+(c?a-1:0)+(o-1<=a?o-2:0))}),i.classList.remove(S),v.filter(function(e){return parseInt(e.dataset.pageIndex,10)===a})[0].classList.add(S),b(),s=d(f.dataset),l=s.pageIndex,u=s.pages,p.dataset.pageIndex=l-1,_.dataset.pageIndex=l+1,parseInt(p.dataset.pageIndex,10)<1?p.setAttribute("disabled",!0):p.removeAttribute("disabled"),parseInt(_.dataset.pageIndex,10)>u?_.setAttribute("disabled",!0):_.removeAttribute("disabled")),e.filter(function(e){return"data-total-count"===e.attributeName}).length&&b()}).observe(f,{attributes:!0}),f.dataset.pages=f.dataset.pages,f.dataset.totalCount=f.dataset.totalCount,f.dataset.pageIndex=f.dataset.pageIndex)},{}],23:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-search-result-text");function a(e){var t,n,r,a,o;e.innerHTML=e.textFull,10<e.scrollHeight-e.clientHeight&&(n=e.textFull.indexOf("</em>")-(t=e.clientHeight/e.scrollHeight*e.textFull.length),r=0,a=e.textFull.lastIndexOf(" ",t),o="",0<n&&(o="&hellip;",r=e.textFull.indexOf(" ",20+n)+1,a=e.textFull.lastIndexOf(" ",t+n+20)),e.innerHTML=""+o+e.textFull.substring(r,a)+"&hellip;")}r.length&&Array.from(r,function(e){return e.textFull=e.innerHTML,a(e),window.addEventListener("resize",a.bind(void 0,e),!1),!0})},{}],24:[function(e,t,n){"use strict";function a(){Array.from(document.querySelectorAll(".b-search-results__offensive-warning")).forEach(function(e){var t=Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.getAttribute("data-row-index")],n=(t.offsetHeight-e.offsetHeight)/2;e.style.top=t.offsetTop+n+"px",e.style.left="5px"})}function r(){Array.from(document.querySelectorAll(".b-search-results__body-row")).forEach(function(e,t){var n,r;e.classList.contains("b-search-results__body-row--offensive")&&((n=document.createElement("DIV")).className="b-search-results__offensive-warning",n.innerHTML='<div class="b-search-results__offensive-warning-text">This object, or the text that describes it, is deemed offensive and discriminatory. We are committed to improving our records, and work is ongoing.</br><button class="b-search-results__offensive-warning-button">View record</button></div>',r=(e.offsetHeight-n.offsetHeight)/2,n.style.top=e.offsetTop+r+"px",n.setAttribute("data-row-index",t),n.onclick=function(e){return Array.from(document.querySelectorAll(".b-search-results__body-row"))[e.target.parentElement.getAttribute("data-row-index")].classList.remove("b-search-results__body-row--offensive"),e.target.parentElement.remove(),a(),e.stopPropagation(),!1},e.parentElement.appendChild(n),a())}),a()}window.addEventListener("resize",function(){a()}),r(),document.querySelector(".etc-template__results-container")&&(document.querySelector(".etc-template__results-container").addEventListener("initWarnings",function(){r()}),document.querySelector(".etc-template__results-container").addEventListener("initSorts",function(){Array.from(document.querySelectorAll(".b-search-results__head-cell")).forEach(function(e){parseInt(e.dataset.sortable,10)&&(e.onclick=function(e){return t=e.target,n=t.dataset.value,r=document.querySelector(".b-search-results__hidden-input-order-by"),a=document.querySelector(".b-search-results__hidden-input-order-sort"),o="b-search-results__head-cell--sort-asc",i={"b-search-results__head-cell--sort-asc":"b-search-results__head-cell--sort-desc","b-search-results__head-cell--sort-desc":"b-search-results__head-cell--sort-none"}[Array.from(t.classList)[2]],Array.from(document.querySelectorAll(".b-search-results__head-cell")).forEach(function(e){e.classList.remove("b-search-results__head-cell--sort-desc"),e.classList.remove("b-search-results__head-cell--sort-asc"),e.classList.remove("b-search-results__head-cell--sort-none")}),i?"b-search-results__head-cell--sort-desc"===i?a.value="desc":"b-search-results__head-cell--sort-none"===i&&(r.value="",a.value="asc"):(t.classList.add(o),r.value=n),t.classList.add(i||o),void t.dispatchEvent(new Event("change",{bubbles:!0}));var t,n,r,a,o,i})})}),document.querySelector(".etc-template__results-container").dispatchEvent(new Event("initSorts")))},{}],25:[function(e,t,n){"use strict";var r=o(e("browser-cookies")),a=o(e("smooth-scroll"));function o(e){return e&&e.__esModule?e:{default:e}}var i,c,s,l,u,d,m,b,f,v,g,p,_,y,h,S,x,w,L,A,q,k=document.querySelector(".js-site-nav");k&&(i=document.querySelector("html").scrollHeight,c=document.querySelectorAll(".js-site-nav__mobile-toggle"),s=document.querySelector(".js-site-nav__mobile-toggle--icon"),l=document.querySelector(".js-site-nav__mobile-toggle-text"),u=document.querySelector(".js-site-nav__mobile-top"),d=document.querySelector(".js-site-nav-bag"),m=document.querySelector(".js-site-nav-bag-total"),b=document.querySelector(".js-site-nav-search-btn"),f=document.querySelector(".js-site-nav-search"),v=document.querySelector(".js-search-input"),g=document.querySelector(".js-search-content"),p=document.querySelector(".js-search-suggest"),_=r.default.get("basketCount"),y=document.querySelector(".js-site-nav__tablet-toggle"),_&&0<_&&(d&&d.classList.remove("b-site-nav__bag--hidden"),m.innerHTML=_<100?_:"",s&&l.classList.add("b-site-nav__mobile-toggle-text--hidden")),s&&"none"!==window.getComputedStyle(s).display&&(q=!(L=function(e){60<e?s.classList.add("b-site-nav__mobile-toggle--solo"):s.classList.remove("b-site-nav__mobile-toggle--solo"),.35<e/i?u.classList.add("b-site-nav__mobile-top--show"):u.classList.remove("b-site-nav__mobile-top--show")}),window.addEventListener("scroll",function(e){return e.preventDefault(),A=window.pageYOffset,q||window.requestAnimationFrame(function(){L.call(void 0,A),q=!1}),q=!0},!1),u.addEventListener("click",function(){a.default.animateScroll(0)})),Array.from(c,function(t){return t.addEventListener("click",function(e){e.preventDefault(),k.classList.toggle("b-site-nav--open"),t.classList.toggle("active")},!1),!0}),y&&y.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".js-site-nav-more").classList.toggle("active")},!1),(!(h=JSON.parse(sessionStorage.getItem("storedSearch")))||Date.parse(new Date)>Date.parse(h.expires))&&((S=new XMLHttpRequest).open("GET","https://vam.ac.uk/services/search/suggest/promoted"),S.send(),S.onreadystatechange=function(){var e,t;S.readyState===XMLHttpRequest.DONE&&200===S.status&&(e=new Date,t={expires:new Date(e.setMinutes(e.getMinutes()+15)),results:S.responseText},sessionStorage.setItem("storedSearch",JSON.stringify(t)),h=JSON.parse(sessionStorage.getItem("storedSearch")))}),x=function(){window.dataLayer.push({event:"autosuggest search",eventCategory:(void 0).tracking.eventCategory,eventAction:(void 0).tracking.eventAction,eventLabel:(void 0).tracking.eventLabel})},w=function(n,e,r,a){var o=null,i=null,c=null;JSON.parse(e).forEach(function(e){for(o=0;o<e.suggestions.length;o+=1){var t;i=e.suggestions[o].title,e.suggestions[o].terms&&(i=e.suggestions[o].terms.join("|")),n.test(i)&&(g.classList.remove("b-site-nav__core__search__container--hidden"),c=e.suggestions[o].icon?e.suggestions[o].icon:"https://s3-eu-west-1.amazonaws.com/vanda-production-assets/static/search/result_placeholder.jpg",t=document.createElement("li"),a&&t.classList.add("js-live-result"),t.innerHTML='<div class="b-search-result-auto-suggest"><a class="b-search-result-auto-suggest-content"href="'+e.suggestions[o].url+'"><img class="b-search-result-auto-suggest-image"src="'+c+'"alt=""aria-hidden="true"><div class="b-search-result-auto-suggest-text"><div class="b-search-result-auto-suggest-content-type">'+e.suggestions[o].type+'</div><div class="b-search-result-auto-suggest-title js-search-result-text">'+e.suggestions[o].title+"</div></div></a></div>",t.tracking={eventCategory:"search - autosuggest - "+e.suggestions[o].type,eventAction:r,eventLabel:e.suggestions[o].url},t.addEventListener("click",x),p.appendChild(t))}})},b&&b.addEventListener("click",function(e){e.preventDefault(),b.classList.toggle("b-site-nav__core__search-btn--active"),f.classList.toggle("b-site-nav__core__search--active"),v.focus(),v.setSelectionRange(100,100)},!1),v&&v.addEventListener("input",function(){var e,t,n,r;v.value.length<42&&(g.classList.add("b-site-nav__core__search__container--hidden"),p.innerHTML="",v.value.length&&(e="(^|\\|)",2<v.value.length&&(e="\\b"),t=v.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=new RegExp(""+e+t+".*","i"),w(n,h.results,v.value,!1),4<v.value.length&&((r=new XMLHttpRequest).open("GET","https:/vam.ac.uk/services/search/suggest/popular?q="+encodeURI(v.value)),r.send(),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&200===r.status&&(Array.from(p.querySelectorAll(".js-live-result"),function(e){return e.remove(),!0}),w(n,r.responseText,v.value,!0))})))},!1))},{"browser-cookies":1,"smooth-scroll":6}],26:[function(e,t,n){"use strict";var r,a=e("querystring"),o=(r=a)&&r.__esModule?r:{default:r};var i,c,s=document.querySelector(".js-toggle-nav");s&&(i=s.querySelectorAll(".js-toggle-nav-btn"),c=o.default.parse(window.location.search.replace("?","")).type,Array.from(i,function(n){var r=document.querySelectorAll(n.dataset.toggeesSelector);return n.addEventListener("click",function(e){e.preventDefault();var t=n.dataset.toggleType;s.scrollLeft=n.offsetLeft-(s.getBoundingClientRect().width-n.getBoundingClientRect().width)/2,n.preventHistoryPush||window.history.pushState({toggleNavType:t},"","?type="+t),n.preventHistoryPush=!1,Array.from(r,function(e){return e.classList.add("s-visually-hidden"),e.dataset.toggleType===t&&e.classList.remove("s-visually-hidden"),!0}),Array.from(i,function(e){return e.classList.remove("b-toggle-nav__button--active"),!0}),n.classList.add("b-toggle-nav__button--active")},!1),n.dataset.toggleType===c&&(n.preventHistoryPush=!0,setTimeout(function(){n.click()},50)),!0}),window.addEventListener("popstate",function(t){return Array.from(document.querySelectorAll("s-visually-hidden"),function(e){return e.classList.remove("s-visually-hidden"),!0}),t.state&&t.state.toggleNavType&&Array.from(i,function(e){return t.state.toggleNavType===e.dataset.toggleType&&(e.preventHistoryPush=!0,e.click()),!0}),!0},!1),c||void 0===s.dataset.toggleTypeDefault||document.querySelector("[data-toggle-type="+s.dataset.toggleTypeDefault+"]").click())},{querystring:5}],27:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-video-thumbnail");Array.from(r,function(r){return r.addEventListener("click",function(e){e.preventDefault();var t=document.createElement("div"),n=document.createElement("div");t.className="b-video-thumbnail__popup",t.innerHTML='<iframe class="b-video-thumbnail__popup-iframe" width="90%" height="90%" src="'+r.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',t.addEventListener("click",function(){t.remove()}),n.className="b-video-thumbnail__popup-close",n.innerHTML='<svg role="img" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>',t.appendChild(n),document.body.appendChild(t)}),!0})},{}],28:[function(e,t,n){"use strict";var r,a,o=document.querySelector(".js-video-trailer");o&&(r=o.querySelector(".js-video-trailer-preview"),a=document.createElement("div"),o.addEventListener("click",function(e){e.preventDefault(),a.className="b-video-trailer__image",a.innerHTML='<iframe class="" width="100%" height="100%" src="'+o.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',r.remove(),o.appendChild(a),a.style.height=.5625*a.offsetWidth+"px"}),window.addEventListener("resize",function(){a.style.height=.5625*a.offsetWidth+"px"}))},{}],29:[function(e,t,n){"use strict";var r=document.querySelectorAll(".js-grid-reveal-more");r.length&&(Array.from(r,function(r){var e,a,t,n,o,i,c=r.dataset.revealMoreCounter||4;return c<r.childElementCount&&(e=r.dataset.iconUrl,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.children)),t=r.dataset.revealMoreTheme||"dark",n=r.dataset.revealMoreTracking||"",(o=r).dataset.revealMorePutAfter&&(o=document.querySelector(r.dataset.revealMorePutAfter)),a.slice(c).forEach(function(e){return e.classList.add("s-visually-hidden")}),(i=document.createElement("footer")).setAttribute("class","b-block-grid__footer b-block-grid__footer--"+t),i.innerHTML='<a href="#" data-tracking-showmorebutton="'+n+'" class="js-reveal-more-btn"><div class="b-icon-badge b-icon-badge--small b-icon-badge--'+t+'"><div class="b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover"><svg role="presentation"><use xlink:href="'+e+'#plus"></use></svg></div><small class="b-icon-badge__label">Show more</small></div></a>',o.parentNode.insertBefore(i,o.nextSibling),r.revealMoreClicks=0,i.addEventListener("click",function(e){e.preventDefault(),r.revealMoreClicks+=1;var t,n=a.filter(function(e){return e.classList.contains("s-visually-hidden")});1<window.getComputedStyle(r).getPropertyValue("column-count")&&((t=n[0].parentNode.insertBefore(n[0].cloneNode(!1),n[0])).classList.remove("s-visually-hidden"),t.classList.add("b-block-grid__cols-restarter")),n.slice(0,c).forEach(function(e){return e.classList.remove("s-visually-hidden")}),n.length<=c&&i.remove()},!1)),!0}),window.addEventListener("beforeunload",function(){var t=[];Array.from(r,function(e){return t.push(e.revealMoreClicks),!0}),history.replaceState({revealMoreClicks:t},"revealMoreClicks")},!1),window.addEventListener("load",function(){if(history.state&&history.state.revealMoreClicks)for(var e=document.querySelectorAll(".js-reveal-more-btn"),t=0;t<history.state.revealMoreClicks.length;t+=1)for(var n=0;n<history.state.revealMoreClicks[t];)e[t].click(),n+=1},!1))},{}],30:[function(e,t,n){"use strict";document.querySelector(".b-facet-box-modal__button")&&(document.querySelector(".b-facet-box-modal__button").onclick=function(e){document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active"),e.preventDefault()}),document.querySelector(".b-facet-box-modal__button")&&document.addEventListener("closeFacetOverlay",function(){return document.querySelector(".b-facet-box-modal__container").classList.toggle("b-facet-box-modal__container--active")})},{}],31:[function(e,t,n){"use strict";function r(){i.classList.add("b-image-overlay__container--active"),c.style.overflowY="hidden",i.style.height=window.innerHeight+"px",window.innerWidth<=1e3&&a.any()?(c.style.position="fixed",s.style.marginBottom=screen.height-window.innerHeight+"px"):s.style.marginBottom="0px",document.querySelector(".b-image-carousel__image-preview-container").focus()}function o(){document.querySelector(".b-image-overlay__container").classList.remove("b-image-overlay__container--active"),document.querySelector("body").style.overflowY="auto",document.querySelector("body").style.position="relative"}var a={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}},i=document.querySelector(".b-image-overlay__container"),c=document.querySelector("body"),s=document.querySelector(".b-image-overlay__figcaption");document.querySelector(".b-image-overlay__preview-concealer")&&(document.querySelector(".b-image-overlay__preview-concealer").onclick=function(e){e.stopPropagation()},document.querySelector(".b-image-overlay__preview-concealer-button").onclick=function(e){e.stopPropagation(),document.querySelector(".b-image-overlay__preview--offensive").classList.remove("b-image-overlay__preview--offensive"),document.querySelector(".b-image-overlay__preview-image--offensive").classList.remove("b-image-overlay__preview-image--offensive"),document.querySelector(".b-image-overlay__preview-concealer").remove(),document.querySelectorAll(".b-image-overlay__preview--hidden").forEach(function(e){return e.classList.remove("b-image-overlay__preview--hidden")})}),document.querySelector(".b-image-overlay")&&(document.querySelector(".b-image-overlay__close-container").onclick=o,window.addEventListener("resize",function(){i.style.height=window.innerHeight+"px",window.innerWidth<=1e3&&a.any()?s.style.marginBottom=screen.height-window.innerHeight+"px":s.style.marginBottom="0px"}),window.addEventListener("keydown",function(e){var t,n,r,a;27===e.keyCode&&(document.querySelector(".b-image-overlay").classList.contains("b-image-overlay--unfocus")?document.querySelector(".b-image-overlay").classList.remove("b-image-overlay--unfocus"):o()),document.querySelector(".b-image-overlay").classList.contains("b-image-overlay--unfocus")||9!==e.keyCode||(n=(t=Array.from(document.querySelector(".b-image-overlay__content").querySelectorAll("button")).filter(function(e){return!e.getAttribute("disabled")}).filter(function(e){return!e.closest(".js-modal")}))[0],r=t[t.length-1],a=e.shiftKey,t.length&&(a&&document.activeElement===n?(r.focus(),e.preventDefault()):a||document.activeElement!==r||(n.focus(),e.preventDefault())))}),document.querySelector(".b-image-overlay").addEventListener("openObjectOverlay",r),document.querySelector(".b-image-overlay__container").addEventListener("jsModalOpen",function(){document.querySelector(".b-image-overlay__close-container").style.display="none"}),document.querySelector(".b-image-overlay__container").addEventListener("jsModalClosed",function(){document.querySelector(".b-image-overlay__close-container").style.display="block"}),Array.from(document.querySelectorAll(".b-image-overlay__preview")).forEach(function(e){e.onclick=function(e){e.preventDefault(),e.target.classList.contains("b-image-overlay__preview--offensive")||e.target.dispatchEvent(new CustomEvent("openObjectOverlay",{bubbles:!0}))}}))},{}],32:[function(e,t,n){"use strict";var r,a=e("clamp-js"),o=(r=a)&&r.__esModule?r:{default:r};function i(){var e=Array.from(document.querySelectorAll(".b-story-box__content-text"));499<window.innerWidth?e.forEach(function(e){(0,o.default)(e,{clamp:"auto",splitOnChars:[".",","," "]})}):e.forEach(function(e){e.style.display="none"})}document.querySelector(".b-story-box")&&(function(){var r=Array.from(document.querySelectorAll(".b-story-box")),a=Array.from(document.querySelectorAll(".b-story-box--column"));2<r.length&&document.querySelector(".b-story-box-container__reveal-container").classList.add("b-story-box-container__reveal-container--active"),r.slice(0,2).forEach(function(e){e.classList.add("b-story-box--active")});var e=document.querySelector(".b-story-box-container__reveal-btn");e&&(e.onclick=function(){var e,t,n=Array.from(document.querySelectorAll(".b-story-box--active")).length;return Array.from(document.querySelectorAll(".b-story-box")).slice(n,n+2).forEach(function(e){e.classList.add("b-story-box--active")}),n+1===r.length?document.querySelector(".b-story-box-container__reveal-container").classList.remove("b-story-box-container__reveal-container--active"):(e=a.slice(n-1,n+2).map(function(e){return e.querySelector(".b-story-box__content-text")}),t=e[e[0].offsetHeight>e[1].offsetHeight?0:1].offsetHeight,e.forEach(function(e){e.style.height=t+"px"})),i(),!1})}(),i(),window.addEventListener("resize",function(){i()}))},{"clamp-js":2}],33:[function(e,t,n){"use strict";"undefined"!=typeof Modernizr&&Modernizr.on("objectfit",function(e){var t;e||(t=document.querySelectorAll(".js-object-fit-container"),[].forEach.call(t,function(t){var n;t.getElementsByTagName("img")[0]&&(n=t.getElementsByTagName("img")[0]).addEventListener("load",function(){var e=n.src;e&&(t.classList.add("js-object-fit-container--fallback"),t.style.backgroundImage="url('"+e+"')")})}))})},{}]},{},[9]);
//# sourceMappingURL=vamscript.js.map
